"use strict";(self.webpackChunkelder_books_fe=self.webpackChunkelder_books_fe||[]).push([[700],{4008:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   d: () => (/* binding */ ClickAwayListener)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5466);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1433);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6728);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5923);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3823);\n'use client';\n\n\n\n\n\n// TODO: return `EventHandlerName extends `on${infer EventName}` ? Lowercase<EventName> : never` once generatePropTypes runs with TS 4.1\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\nfunction clickedRootScrollbar(event, doc) {\n  return doc.documentElement.clientWidth < event.clientX || doc.documentElement.clientHeight < event.clientY;\n}\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n *\n * Demos:\n *\n * - [Click-Away Listener](https://mui.com/base-ui/react-click-away-listener/)\n *\n * API:\n *\n * - [ClickAwayListener API](https://mui.com/base-ui/react-click-away-listener/components-api/#click-away-listener)\n */\nfunction ClickAwayListener(props) {\n  const {\n    children,\n    disableReactTree = false,\n    mouseEvent = 'onClick',\n    onClickAway,\n    touchEvent = 'onTouchEnd'\n  } = props;\n  const movedRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  const nodeRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const activatedRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  const syntheticEventRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    // Ensure that this component is not \"activated\" synchronously.\n    // https://github.com/facebook/react/issues/20074\n    setTimeout(() => {\n      activatedRef.current = true;\n    }, 0);\n    return () => {\n      activatedRef.current = false;\n    };\n  }, []);\n  const handleRef = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z)(\n  // @ts-expect-error TODO upstream fix\n  children.ref, nodeRef);\n\n  // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviors like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n  const handleClickAway = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false;\n    const doc = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(nodeRef.current);\n\n    // 1. IE11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n    if (!activatedRef.current || !nodeRef.current || 'clientX' in event && clickedRootScrollbar(event, doc)) {\n      return;\n    }\n\n    // Do not act if user performed touchmove\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n    let insideDOM;\n\n    // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      insideDOM = !doc.documentElement.contains(\n      // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target) || nodeRef.current.contains(\n      // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target);\n    }\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  });\n\n  // Keep track of mouse/touch events that bubbled up through the portal.\n  const createHandleSynthetic = handlerName => event => {\n    syntheticEventRef.current = true;\n    const childrenPropsHandler = children.props[handlerName];\n    if (childrenPropsHandler) {\n      childrenPropsHandler(event);\n    }\n  };\n  const childrenProps = {\n    ref: handleRef\n  };\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (touchEvent !== false) {\n      const mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      const doc = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(nodeRef.current);\n      const handleTouchMove = () => {\n        movedRef.current = true;\n      };\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return () => {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (mouseEvent !== false) {\n      const mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      const doc = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return () => {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n    children: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children, childrenProps)\n  });\n}\n false ? 0 : void 0;\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFFWCxlQUFlLENBQUM7UUFDMUR2QixHQUFHLENBQUNxQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUVGLGVBQWUsQ0FBQztNQUN2RCxDQUFDO0lBQ0g7SUFDQSxPQUFPRyxTQUFTO0VBQ2xCLENBQUMsRUFBRSxDQUFDZixlQUFlLEVBQUVYLFVBQVUsQ0FBQyxDQUFDO0VBQ2pDLElBQUlGLFVBQVUsS0FBSyxLQUFLLEVBQUU7SUFDeEJ1QixhQUFhLENBQUN2QixVQUFVLENBQUMsR0FBR29CLHFCQUFxQixDQUFDcEIsVUFBVSxDQUFDO0VBQy9EO0VBQ0E1Qiw0Q0FBZSxDQUFDLE1BQU07SUFDcEIsSUFBSTRCLFVBQVUsS0FBSyxLQUFLLEVBQUU7TUFDeEIsTUFBTTZCLGdCQUFnQixHQUFHN0MsbUJBQW1CLENBQUNnQixVQUFVLENBQUM7TUFDeEQsTUFBTVYsR0FBRyxHQUFHYiwrREFBYSxDQUFDNEIsT0FBTyxDQUFDSyxPQUFPLENBQUM7TUFDMUNwQixHQUFHLENBQUNvQyxnQkFBZ0IsQ0FBQ0csZ0JBQWdCLEVBQUVoQixlQUFlLENBQUM7TUFDdkQsT0FBTyxNQUFNO1FBQ1h2QixHQUFHLENBQUNxQyxtQkFBbUIsQ0FBQ0UsZ0JBQWdCLEVBQUVoQixlQUFlLENBQUM7TUFDNUQsQ0FBQztJQUNIO0lBQ0EsT0FBT2UsU0FBUztFQUNsQixDQUFDLEVBQUUsQ0FBQ2YsZUFBZSxFQUFFYixVQUFVLENBQUMsQ0FBQztFQUNqQyxPQUFPLGFBQWFqQixzREFBSSxDQUFDWCwyQ0FBYyxFQUFFO0lBQ3ZDMEIsUUFBUSxFQUFFLGFBQWExQiwrQ0FBa0IsQ0FBQzBCLFFBQVEsRUFBRXlCLGFBQWE7RUFDbkUsQ0FBQyxDQUFDO0FBQ0o7QUFDQVMsTUFBcUMsR0FBR3BDLENBNkJ2QyxHQUFHLEtBQUssQ0FBQztBQUNWLElBQUlvQyxLQUFxQyxFQUFFLEVBRzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL0NsaWNrQXdheUxpc3RlbmVyL0NsaWNrQXdheUxpc3RlbmVyLmpzP2Q2ZjgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZWxlbWVudEFjY2VwdGluZ1JlZiwgZXhhY3RQcm9wLCB1bnN0YWJsZV9vd25lckRvY3VtZW50IGFzIG93bmVyRG9jdW1lbnQsIHVuc3RhYmxlX3VzZUZvcmtSZWYgYXMgdXNlRm9ya1JlZiwgdW5zdGFibGVfdXNlRXZlbnRDYWxsYmFjayBhcyB1c2VFdmVudENhbGxiYWNrIH0gZnJvbSAnQG11aS91dGlscyc7XG5cbi8vIFRPRE86IHJldHVybiBgRXZlbnRIYW5kbGVyTmFtZSBleHRlbmRzIGBvbiR7aW5mZXIgRXZlbnROYW1lfWAgPyBMb3dlcmNhc2U8RXZlbnROYW1lPiA6IG5ldmVyYCBvbmNlIGdlbmVyYXRlUHJvcFR5cGVzIHJ1bnMgd2l0aCBUUyA0LjFcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBtYXBFdmVudFByb3BUb0V2ZW50KGV2ZW50UHJvcCkge1xuICByZXR1cm4gZXZlbnRQcm9wLnN1YnN0cmluZygyKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gY2xpY2tlZFJvb3RTY3JvbGxiYXIoZXZlbnQsIGRvYykge1xuICByZXR1cm4gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IGV2ZW50LmNsaWVudFggfHwgZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgPCBldmVudC5jbGllbnRZO1xufVxuLyoqXG4gKiBMaXN0ZW4gZm9yIGNsaWNrIGV2ZW50cyB0aGF0IG9jY3VyIHNvbWV3aGVyZSBpbiB0aGUgZG9jdW1lbnQsIG91dHNpZGUgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICogRm9yIGluc3RhbmNlLCBpZiB5b3UgbmVlZCB0byBoaWRlIGEgbWVudSB3aGVuIHBlb3BsZSBjbGljayBhbnl3aGVyZSBlbHNlIG9uIHlvdXIgcGFnZS5cbiAqXG4gKiBEZW1vczpcbiAqXG4gKiAtIFtDbGljay1Bd2F5IExpc3RlbmVyXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1jbGljay1hd2F5LWxpc3RlbmVyLylcbiAqXG4gKiBBUEk6XG4gKlxuICogLSBbQ2xpY2tBd2F5TGlzdGVuZXIgQVBJXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1jbGljay1hd2F5LWxpc3RlbmVyL2NvbXBvbmVudHMtYXBpLyNjbGljay1hd2F5LWxpc3RlbmVyKVxuICovXG5mdW5jdGlvbiBDbGlja0F3YXlMaXN0ZW5lcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgZGlzYWJsZVJlYWN0VHJlZSA9IGZhbHNlLFxuICAgIG1vdXNlRXZlbnQgPSAnb25DbGljaycsXG4gICAgb25DbGlja0F3YXksXG4gICAgdG91Y2hFdmVudCA9ICdvblRvdWNoRW5kJ1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG1vdmVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgbm9kZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgYWN0aXZhdGVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgc3ludGhldGljRXZlbnRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEVuc3VyZSB0aGF0IHRoaXMgY29tcG9uZW50IGlzIG5vdCBcImFjdGl2YXRlZFwiIHN5bmNocm9ub3VzbHkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8yMDA3NFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYWN0aXZhdGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0sIDApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhY3RpdmF0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIHVwc3RyZWFtIGZpeFxuICBjaGlsZHJlbi5yZWYsIG5vZGVSZWYpO1xuXG4gIC8vIFRoZSBoYW5kbGVyIGRvZXNuJ3QgdGFrZSBldmVudC5kZWZhdWx0UHJldmVudGVkIGludG8gYWNjb3VudDpcbiAgLy9cbiAgLy8gZXZlbnQucHJldmVudERlZmF1bHQoKSBpcyBtZWFudCB0byBzdG9wIGRlZmF1bHQgYmVoYXZpb3JzIGxpa2VcbiAgLy8gY2xpY2tpbmcgYSBjaGVja2JveCB0byBjaGVjayBpdCwgaGl0dGluZyBhIGJ1dHRvbiB0byBzdWJtaXQgYSBmb3JtLFxuICAvLyBhbmQgaGl0dGluZyBsZWZ0IGFycm93IHRvIG1vdmUgdGhlIGN1cnNvciBpbiBhIHRleHQgaW5wdXQgZXRjLlxuICAvLyBPbmx5IHNwZWNpYWwgSFRNTCBlbGVtZW50cyBoYXZlIHRoZXNlIGRlZmF1bHQgYmVoYXZpb3JzLlxuICBjb25zdCBoYW5kbGVDbGlja0F3YXkgPSB1c2VFdmVudENhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAvLyBHaXZlbiBkZXZlbG9wZXJzIGNhbiBzdG9wIHRoZSBwcm9wYWdhdGlvbiBvZiB0aGUgc3ludGhldGljIGV2ZW50LFxuICAgIC8vIHdlIGNhbiBvbmx5IGJlIGNvbmZpZGVudCB3aXRoIGEgcG9zaXRpdmUgdmFsdWUuXG4gICAgY29uc3QgaW5zaWRlUmVhY3RUcmVlID0gc3ludGhldGljRXZlbnRSZWYuY3VycmVudDtcbiAgICBzeW50aGV0aWNFdmVudFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgY29uc3QgZG9jID0gb3duZXJEb2N1bWVudChub2RlUmVmLmN1cnJlbnQpO1xuXG4gICAgLy8gMS4gSUUxMSBzdXBwb3J0LCB3aGljaCB0cmlnZ2VyIHRoZSBoYW5kbGVDbGlja0F3YXkgZXZlbiBhZnRlciB0aGUgdW5iaW5kXG4gICAgLy8gMi4gVGhlIGNoaWxkIG1pZ2h0IHJlbmRlciBudWxsLlxuICAgIC8vIDMuIEJlaGF2ZSBsaWtlIGEgYmx1ciBsaXN0ZW5lci5cbiAgICBpZiAoIWFjdGl2YXRlZFJlZi5jdXJyZW50IHx8ICFub2RlUmVmLmN1cnJlbnQgfHwgJ2NsaWVudFgnIGluIGV2ZW50ICYmIGNsaWNrZWRSb290U2Nyb2xsYmFyKGV2ZW50LCBkb2MpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG8gbm90IGFjdCBpZiB1c2VyIHBlcmZvcm1lZCB0b3VjaG1vdmVcbiAgICBpZiAobW92ZWRSZWYuY3VycmVudCkge1xuICAgICAgbW92ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaW5zaWRlRE9NO1xuXG4gICAgLy8gSWYgbm90IGVub3VnaCwgY2FuIHVzZSBodHRwczovL2dpdGh1Yi5jb20vRGlldGVySG9sdm9ldC9ldmVudC1wcm9wYWdhdGlvbi1wYXRoL2Jsb2IvbWFzdGVyL3Byb3BhZ2F0aW9uUGF0aC5qc1xuICAgIGlmIChldmVudC5jb21wb3NlZFBhdGgpIHtcbiAgICAgIGluc2lkZURPTSA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluZGV4T2Yobm9kZVJlZi5jdXJyZW50KSA+IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnNpZGVET00gPSAhZG9jLmRvY3VtZW50RWxlbWVudC5jb250YWlucyhcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcmV0dXJucyBgZmFsc2VgIGFzIGludGVuZGVkIHdoZW4gbm90IGRpc3BhdGNoZWQgZnJvbSBhIE5vZGVcbiAgICAgIGV2ZW50LnRhcmdldCkgfHwgbm9kZVJlZi5jdXJyZW50LmNvbnRhaW5zKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciByZXR1cm5zIGBmYWxzZWAgYXMgaW50ZW5kZWQgd2hlbiBub3QgZGlzcGF0Y2hlZCBmcm9tIGEgTm9kZVxuICAgICAgZXZlbnQudGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKCFpbnNpZGVET00gJiYgKGRpc2FibGVSZWFjdFRyZWUgfHwgIWluc2lkZVJlYWN0VHJlZSkpIHtcbiAgICAgIG9uQ2xpY2tBd2F5KGV2ZW50KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEtlZXAgdHJhY2sgb2YgbW91c2UvdG91Y2ggZXZlbnRzIHRoYXQgYnViYmxlZCB1cCB0aHJvdWdoIHRoZSBwb3J0YWwuXG4gIGNvbnN0IGNyZWF0ZUhhbmRsZVN5bnRoZXRpYyA9IGhhbmRsZXJOYW1lID0+IGV2ZW50ID0+IHtcbiAgICBzeW50aGV0aWNFdmVudFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICBjb25zdCBjaGlsZHJlblByb3BzSGFuZGxlciA9IGNoaWxkcmVuLnByb3BzW2hhbmRsZXJOYW1lXTtcbiAgICBpZiAoY2hpbGRyZW5Qcm9wc0hhbmRsZXIpIHtcbiAgICAgIGNoaWxkcmVuUHJvcHNIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNoaWxkcmVuUHJvcHMgPSB7XG4gICAgcmVmOiBoYW5kbGVSZWZcbiAgfTtcbiAgaWYgKHRvdWNoRXZlbnQgIT09IGZhbHNlKSB7XG4gICAgY2hpbGRyZW5Qcm9wc1t0b3VjaEV2ZW50XSA9IGNyZWF0ZUhhbmRsZVN5bnRoZXRpYyh0b3VjaEV2ZW50KTtcbiAgfVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0b3VjaEV2ZW50ICE9PSBmYWxzZSkge1xuICAgICAgY29uc3QgbWFwcGVkVG91Y2hFdmVudCA9IG1hcEV2ZW50UHJvcFRvRXZlbnQodG91Y2hFdmVudCk7XG4gICAgICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KG5vZGVSZWYuY3VycmVudCk7XG4gICAgICBjb25zdCBoYW5kbGVUb3VjaE1vdmUgPSAoKSA9PiB7XG4gICAgICAgIG1vdmVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfTtcbiAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKG1hcHBlZFRvdWNoRXZlbnQsIGhhbmRsZUNsaWNrQXdheSk7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKG1hcHBlZFRvdWNoRXZlbnQsIGhhbmRsZUNsaWNrQXdheSk7XG4gICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2hhbmRsZUNsaWNrQXdheSwgdG91Y2hFdmVudF0pO1xuICBpZiAobW91c2VFdmVudCAhPT0gZmFsc2UpIHtcbiAgICBjaGlsZHJlblByb3BzW21vdXNlRXZlbnRdID0gY3JlYXRlSGFuZGxlU3ludGhldGljKG1vdXNlRXZlbnQpO1xuICB9XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1vdXNlRXZlbnQgIT09IGZhbHNlKSB7XG4gICAgICBjb25zdCBtYXBwZWRNb3VzZUV2ZW50ID0gbWFwRXZlbnRQcm9wVG9FdmVudChtb3VzZUV2ZW50KTtcbiAgICAgIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQobm9kZVJlZi5jdXJyZW50KTtcbiAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKG1hcHBlZE1vdXNlRXZlbnQsIGhhbmRsZUNsaWNrQXdheSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihtYXBwZWRNb3VzZUV2ZW50LCBoYW5kbGVDbGlja0F3YXkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2hhbmRsZUNsaWNrQXdheSwgbW91c2VFdmVudF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goUmVhY3QuRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgY2hpbGRyZW5Qcm9wcylcbiAgfSk7XG59XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDbGlja0F3YXlMaXN0ZW5lci5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgVHlwZVNjcmlwdCB0eXBlcyBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8qKlxuICAgKiBUaGUgd3JhcHBlZCBlbGVtZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IGVsZW1lbnRBY2NlcHRpbmdSZWYuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIFJlYWN0IHRyZWUgaXMgaWdub3JlZCBhbmQgb25seSB0aGUgRE9NIHRyZWUgaXMgY29uc2lkZXJlZC5cbiAgICogVGhpcyBwcm9wIGNoYW5nZXMgaG93IHBvcnRhbGVkIGVsZW1lbnRzIGFyZSBoYW5kbGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVJlYWN0VHJlZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBUaGUgbW91c2UgZXZlbnQgdG8gbGlzdGVuIHRvLiBZb3UgY2FuIGRpc2FibGUgdGhlIGxpc3RlbmVyIGJ5IHByb3ZpZGluZyBgZmFsc2VgLlxuICAgKiBAZGVmYXVsdCAnb25DbGljaydcbiAgICovXG4gIG1vdXNlRXZlbnQ6IFByb3BUeXBlcy5vbmVPZihbJ29uQ2xpY2snLCAnb25Nb3VzZURvd24nLCAnb25Nb3VzZVVwJywgJ29uUG9pbnRlckRvd24nLCAnb25Qb2ludGVyVXAnLCBmYWxzZV0pLFxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiBhIFwiY2xpY2sgYXdheVwiIGV2ZW50IGlzIGRldGVjdGVkLlxuICAgKi9cbiAgb25DbGlja0F3YXk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBUaGUgdG91Y2ggZXZlbnQgdG8gbGlzdGVuIHRvLiBZb3UgY2FuIGRpc2FibGUgdGhlIGxpc3RlbmVyIGJ5IHByb3ZpZGluZyBgZmFsc2VgLlxuICAgKiBAZGVmYXVsdCAnb25Ub3VjaEVuZCdcbiAgICovXG4gIHRvdWNoRXZlbnQ6IFByb3BUeXBlcy5vbmVPZihbJ29uVG91Y2hFbmQnLCAnb25Ub3VjaFN0YXJ0JywgZmFsc2VdKVxufSA6IHZvaWQgMDtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBDbGlja0F3YXlMaXN0ZW5lclsncHJvcFR5cGVzJyArICcnXSA9IGV4YWN0UHJvcChDbGlja0F3YXlMaXN0ZW5lci5wcm9wVHlwZXMpO1xufVxuZXhwb3J0IHsgQ2xpY2tBd2F5TGlzdGVuZXIgfTsiXSwibmFtZXMiOlsiUmVhY3QiLCJQcm9wVHlwZXMiLCJlbGVtZW50QWNjZXB0aW5nUmVmIiwiZXhhY3RQcm9wIiwidW5zdGFibGVfb3duZXJEb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJ1bnN0YWJsZV91c2VGb3JrUmVmIiwidXNlRm9ya1JlZiIsInVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2siLCJ1c2VFdmVudENhbGxiYWNrIiwianN4IiwiX2pzeCIsIm1hcEV2ZW50UHJvcFRvRXZlbnQiLCJldmVudFByb3AiLCJzdWJzdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImNsaWNrZWRSb290U2Nyb2xsYmFyIiwiZXZlbnQiLCJkb2MiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImNsaWVudFgiLCJjbGllbnRIZWlnaHQiLCJjbGllbnRZIiwiQ2xpY2tBd2F5TGlzdGVuZXIiLCJwcm9wcyIsImNoaWxkcmVuIiwiZGlzYWJsZVJlYWN0VHJlZSIsIm1vdXNlRXZlbnQiLCJvbkNsaWNrQXdheSIsInRvdWNoRXZlbnQiLCJtb3ZlZFJlZiIsInVzZVJlZiIsIm5vZGVSZWYiLCJhY3RpdmF0ZWRSZWYiLCJzeW50aGV0aWNFdmVudFJlZiIsInVzZUVmZmVjdCIsInNldFRpbWVvdXQiLCJjdXJyZW50IiwiaGFuZGxlUmVmIiwicmVmIiwiaGFuZGxlQ2xpY2tBd2F5IiwiaW5zaWRlUmVhY3RUcmVlIiwiaW5zaWRlRE9NIiwiY29tcG9zZWRQYXRoIiwiaW5kZXhPZiIsImNvbnRhaW5zIiwidGFyZ2V0IiwiY3JlYXRlSGFuZGxlU3ludGhldGljIiwiaGFuZGxlck5hbWUiLCJjaGlsZHJlblByb3BzSGFuZGxlciIsImNoaWxkcmVuUHJvcHMiLCJtYXBwZWRUb3VjaEV2ZW50IiwiaGFuZGxlVG91Y2hNb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bmRlZmluZWQiLCJtYXBwZWRNb3VzZUV2ZW50IiwiRnJhZ21lbnQiLCJjbG9uZUVsZW1lbnQiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJwcm9wVHlwZXMiLCJpc1JlcXVpcmVkIiwiYm9vbCIsIm9uZU9mIiwiZnVuYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4008\n")},5134:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ FocusTrap)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5466);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1433);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5923);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3823);\n'use client';\n\n/* eslint-disable consistent-return, jsx-a11y/no-noninteractive-tabindex */\n\n\n\n\n\n// Inspired by https://github.com/focus-trap/tabbable\nconst candidatesSelector = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])'].join(',');\nfunction getTabIndex(node) {\n  const tabindexAttr = parseInt(node.getAttribute('tabindex') || '', 10);\n  if (!Number.isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=661108&q=contenteditable%20tabindex&can=2\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n  if (node.contentEditable === 'true' || (node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO' || node.nodeName === 'DETAILS') && node.getAttribute('tabindex') === null) {\n    return 0;\n  }\n  return node.tabIndex;\n}\nfunction isNonTabbableRadio(node) {\n  if (node.tagName !== 'INPUT' || node.type !== 'radio') {\n    return false;\n  }\n  if (!node.name) {\n    return false;\n  }\n  const getRadio = selector => node.ownerDocument.querySelector(`input[type=\"radio\"]${selector}`);\n  let roving = getRadio(`[name=\"${node.name}\"]:checked`);\n  if (!roving) {\n    roving = getRadio(`[name=\"${node.name}\"]`);\n  }\n  return roving !== node;\n}\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || node.tagName === 'INPUT' && node.type === 'hidden' || isNonTabbableRadio(node)) {\n    return false;\n  }\n  return true;\n}\nfunction defaultGetTabbable(root) {\n  const regularTabNodes = [];\n  const orderedTabNodes = [];\n  Array.from(root.querySelectorAll(candidatesSelector)).forEach((node, i) => {\n    const nodeTabIndex = getTabIndex(node);\n    if (nodeTabIndex === -1 || !isNodeMatchingSelectorFocusable(node)) {\n      return;\n    }\n    if (nodeTabIndex === 0) {\n      regularTabNodes.push(node);\n    } else {\n      orderedTabNodes.push({\n        documentOrder: i,\n        tabIndex: nodeTabIndex,\n        node: node\n      });\n    }\n  });\n  return orderedTabNodes.sort((a, b) => a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex).map(a => a.node).concat(regularTabNodes);\n}\nfunction defaultIsEnabled() {\n  return true;\n}\n\n/**\n * Utility component that locks focus inside the component.\n *\n * Demos:\n *\n * - [Focus Trap](https://mui.com/base-ui/react-focus-trap/)\n *\n * API:\n *\n * - [FocusTrap API](https://mui.com/base-ui/react-focus-trap/components-api/#focus-trap)\n */\nfunction FocusTrap(props) {\n  const {\n    children,\n    disableAutoFocus = false,\n    disableEnforceFocus = false,\n    disableRestoreFocus = false,\n    getTabbable = defaultGetTabbable,\n    isEnabled = defaultIsEnabled,\n    open\n  } = props;\n  const ignoreNextEnforceFocus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  const sentinelStart = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const sentinelEnd = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const nodeToRestore = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const reactFocusEventTarget = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  // This variable is useful when disableAutoFocus is true.\n  // It waits for the active element to move into the component to activate.\n  const activated = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  const rootRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  // @ts-expect-error TODO upstream fix\n  const handleRef = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z)(children.ref, rootRef);\n  const lastKeydown = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    // We might render an empty child.\n    if (!open || !rootRef.current) {\n      return;\n    }\n    activated.current = !disableAutoFocus;\n  }, [disableAutoFocus, open]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    // We might render an empty child.\n    if (!open || !rootRef.current) {\n      return;\n    }\n    const doc = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(rootRef.current);\n    if (!rootRef.current.contains(doc.activeElement)) {\n      if (!rootRef.current.hasAttribute('tabIndex')) {\n        if (false) {}\n        rootRef.current.setAttribute('tabIndex', '-1');\n      }\n      if (activated.current) {\n        rootRef.current.focus();\n      }\n    }\n    return () => {\n      // restoreLastFocus()\n      if (!disableRestoreFocus) {\n        // In IE11 it is possible for document.activeElement to be null resulting\n        // in nodeToRestore.current being null.\n        // Not all elements in IE11 have a focus method.\n        // Once IE11 support is dropped the focus() call can be unconditional.\n        if (nodeToRestore.current && nodeToRestore.current.focus) {\n          ignoreNextEnforceFocus.current = true;\n          nodeToRestore.current.focus();\n        }\n        nodeToRestore.current = null;\n      }\n    };\n    // Missing `disableRestoreFocus` which is fine.\n    // We don't support changing that prop on an open FocusTrap\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    // We might render an empty child.\n    if (!open || !rootRef.current) {\n      return;\n    }\n    const doc = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(rootRef.current);\n    const loopFocus = nativeEvent => {\n      lastKeydown.current = nativeEvent;\n      if (disableEnforceFocus || !isEnabled() || nativeEvent.key !== 'Tab') {\n        return;\n      }\n\n      // Make sure the next tab starts from the right place.\n      // doc.activeElement refers to the origin.\n      if (doc.activeElement === rootRef.current && nativeEvent.shiftKey) {\n        // We need to ignore the next contain as\n        // it will try to move the focus back to the rootRef element.\n        ignoreNextEnforceFocus.current = true;\n        if (sentinelEnd.current) {\n          sentinelEnd.current.focus();\n        }\n      }\n    };\n    const contain = () => {\n      const rootElement = rootRef.current;\n\n      // Cleanup functions are executed lazily in React 17.\n      // Contain can be called between the component being unmounted and its cleanup function being run.\n      if (rootElement === null) {\n        return;\n      }\n      if (!doc.hasFocus() || !isEnabled() || ignoreNextEnforceFocus.current) {\n        ignoreNextEnforceFocus.current = false;\n        return;\n      }\n\n      // The focus is already inside\n      if (rootElement.contains(doc.activeElement)) {\n        return;\n      }\n\n      // The disableEnforceFocus is set and the focus is outside of the focus trap (and sentinel nodes)\n      if (disableEnforceFocus && doc.activeElement !== sentinelStart.current && doc.activeElement !== sentinelEnd.current) {\n        return;\n      }\n\n      // if the focus event is not coming from inside the children's react tree, reset the refs\n      if (doc.activeElement !== reactFocusEventTarget.current) {\n        reactFocusEventTarget.current = null;\n      } else if (reactFocusEventTarget.current !== null) {\n        return;\n      }\n      if (!activated.current) {\n        return;\n      }\n      let tabbable = [];\n      if (doc.activeElement === sentinelStart.current || doc.activeElement === sentinelEnd.current) {\n        tabbable = getTabbable(rootRef.current);\n      }\n\n      // one of the sentinel nodes was focused, so move the focus\n      // to the first/last tabbable element inside the focus trap\n      if (tabbable.length > 0) {\n        var _lastKeydown$current, _lastKeydown$current2;\n        const isShiftTab = Boolean(((_lastKeydown$current = lastKeydown.current) == null ? void 0 : _lastKeydown$current.shiftKey) && ((_lastKeydown$current2 = lastKeydown.current) == null ? void 0 : _lastKeydown$current2.key) === 'Tab');\n        const focusNext = tabbable[0];\n        const focusPrevious = tabbable[tabbable.length - 1];\n        if (typeof focusNext !== 'string' && typeof focusPrevious !== 'string') {\n          if (isShiftTab) {\n            focusPrevious.focus();\n          } else {\n            focusNext.focus();\n          }\n        }\n        // no tabbable elements in the trap focus or the focus was outside of the focus trap\n      } else {\n        rootElement.focus();\n      }\n    };\n    doc.addEventListener('focusin', contain);\n    doc.addEventListener('keydown', loopFocus, true);\n\n    // With Edge, Safari and Firefox, no focus related events are fired when the focused area stops being a focused area.\n    // e.g. https://bugzilla.mozilla.org/show_bug.cgi?id=559561.\n    // Instead, we can look if the active element was restored on the BODY element.\n    //\n    // The whatwg spec defines how the browser should behave but does not explicitly mention any events:\n    // https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule.\n    const interval = setInterval(() => {\n      if (doc.activeElement && doc.activeElement.tagName === 'BODY') {\n        contain();\n      }\n    }, 50);\n    return () => {\n      clearInterval(interval);\n      doc.removeEventListener('focusin', contain);\n      doc.removeEventListener('keydown', loopFocus, true);\n    };\n  }, [disableAutoFocus, disableEnforceFocus, disableRestoreFocus, isEnabled, open, getTabbable]);\n  const onFocus = event => {\n    if (nodeToRestore.current === null) {\n      nodeToRestore.current = event.relatedTarget;\n    }\n    activated.current = true;\n    reactFocusEventTarget.current = event.target;\n    const childrenPropsHandler = children.props.onFocus;\n    if (childrenPropsHandler) {\n      childrenPropsHandler(event);\n    }\n  };\n  const handleFocusSentinel = event => {\n    if (nodeToRestore.current === null) {\n      nodeToRestore.current = event.relatedTarget;\n    }\n    activated.current = true;\n  };\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      tabIndex: open ? 0 : -1,\n      onFocus: handleFocusSentinel,\n      ref: sentinelStart,\n      \"data-testid\": \"sentinelStart\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children, {\n      ref: handleRef,\n      onFocus\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      tabIndex: open ? 0 : -1,\n      onFocus: handleFocusSentinel,\n      ref: sentinelEnd,\n      \"data-testid\": \"sentinelEnd\"\n    })]\n  });\n}\n false ? 0 : void 0;\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDWCwyQ0FBYyxFQUFFO0lBQ3hDc0QsUUFBUSxFQUFFLENBQUMsYUFBYTdDLHNEQUFJLENBQUMsS0FBSyxFQUFFO01BQ2xDYyxRQUFRLEVBQUVxQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztNQUN2QjZDLE9BQU8sRUFBRUssbUJBQW1CO01BQzVCeEMsR0FBRyxFQUFFUCxhQUFhO01BQ2xCLGFBQWEsRUFBRTtJQUNqQixDQUFDLENBQUMsRUFBRSxhQUFhL0QsK0NBQWtCLENBQUNzRCxRQUFRLEVBQUU7TUFDNUNnQixHQUFHLEVBQUVELFNBQVM7TUFDZG9DO0lBQ0YsQ0FBQyxDQUFDLEVBQUUsYUFBYWhHLHNEQUFJLENBQUMsS0FBSyxFQUFFO01BQzNCYyxRQUFRLEVBQUVxQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztNQUN2QjZDLE9BQU8sRUFBRUssbUJBQW1CO01BQzVCeEMsR0FBRyxFQUFFTixXQUFXO01BQ2hCLGFBQWEsRUFBRTtJQUNqQixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSjtBQUNBYyxNQUFxQyxHQUFHMUIsQ0FxRHZDLEdBQUcsS0FBSyxDQUFDO0FBQ1YsSUFBSTBCLEtBQXFDLEVBQUUsRUFHMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbGRlci1ib29rcy1mZS8uL25vZGVfbW9kdWxlcy9AbXVpL2Jhc2UvRm9jdXNUcmFwL0ZvY3VzVHJhcC5qcz81ZDFlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4sIGpzeC1hMTF5L25vLW5vbmludGVyYWN0aXZlLXRhYmluZGV4ICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZXhhY3RQcm9wLCBlbGVtZW50QWNjZXB0aW5nUmVmLCB1bnN0YWJsZV91c2VGb3JrUmVmIGFzIHVzZUZvcmtSZWYsIHVuc3RhYmxlX293bmVyRG9jdW1lbnQgYXMgb3duZXJEb2N1bWVudCB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9mb2N1cy10cmFwL3RhYmJhYmxlXG5jb25zdCBjYW5kaWRhdGVzU2VsZWN0b3IgPSBbJ2lucHV0JywgJ3NlbGVjdCcsICd0ZXh0YXJlYScsICdhW2hyZWZdJywgJ2J1dHRvbicsICdbdGFiaW5kZXhdJywgJ2F1ZGlvW2NvbnRyb2xzXScsICd2aWRlb1tjb250cm9sc10nLCAnW2NvbnRlbnRlZGl0YWJsZV06bm90KFtjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiXSknXS5qb2luKCcsJyk7XG5mdW5jdGlvbiBnZXRUYWJJbmRleChub2RlKSB7XG4gIGNvbnN0IHRhYmluZGV4QXR0ciA9IHBhcnNlSW50KG5vZGUuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpIHx8ICcnLCAxMCk7XG4gIGlmICghTnVtYmVyLmlzTmFOKHRhYmluZGV4QXR0cikpIHtcbiAgICByZXR1cm4gdGFiaW5kZXhBdHRyO1xuICB9XG5cbiAgLy8gQnJvd3NlcnMgZG8gbm90IHJldHVybiBgdGFiSW5kZXhgIGNvcnJlY3RseSBmb3IgY29udGVudEVkaXRhYmxlIG5vZGVzO1xuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02NjExMDgmcT1jb250ZW50ZWRpdGFibGUlMjB0YWJpbmRleCZjYW49MlxuICAvLyBzbyBpZiB0aGV5IGRvbid0IGhhdmUgYSB0YWJpbmRleCBhdHRyaWJ1dGUgc3BlY2lmaWNhbGx5IHNldCwgYXNzdW1lIGl0J3MgMC5cbiAgLy8gaW4gQ2hyb21lLCA8ZGV0YWlscy8+LCA8YXVkaW8gY29udHJvbHMvPiBhbmQgPHZpZGVvIGNvbnRyb2xzLz4gZWxlbWVudHMgZ2V0IGEgZGVmYXVsdFxuICAvLyAgYHRhYkluZGV4YCBvZiAtMSB3aGVuIHRoZSAndGFiaW5kZXgnIGF0dHJpYnV0ZSBpc24ndCBzcGVjaWZpZWQgaW4gdGhlIERPTSxcbiAgLy8gIHlldCB0aGV5IGFyZSBzdGlsbCBwYXJ0IG9mIHRoZSByZWd1bGFyIHRhYiBvcmRlcjsgaW4gRkYsIHRoZXkgZ2V0IGEgZGVmYXVsdFxuICAvLyAgYHRhYkluZGV4YCBvZiAwOyBzaW5jZSBDaHJvbWUgc3RpbGwgcHV0cyB0aG9zZSBlbGVtZW50cyBpbiB0aGUgcmVndWxhciB0YWJcbiAgLy8gIG9yZGVyLCBjb25zaWRlciB0aGVpciB0YWIgaW5kZXggdG8gYmUgMC5cbiAgaWYgKG5vZGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScgfHwgKG5vZGUubm9kZU5hbWUgPT09ICdBVURJTycgfHwgbm9kZS5ub2RlTmFtZSA9PT0gJ1ZJREVPJyB8fCBub2RlLm5vZGVOYW1lID09PSAnREVUQUlMUycpICYmIG5vZGUuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpID09PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIG5vZGUudGFiSW5kZXg7XG59XG5mdW5jdGlvbiBpc05vblRhYmJhYmxlUmFkaW8obm9kZSkge1xuICBpZiAobm9kZS50YWdOYW1lICE9PSAnSU5QVVQnIHx8IG5vZGUudHlwZSAhPT0gJ3JhZGlvJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIW5vZGUubmFtZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBnZXRSYWRpbyA9IHNlbGVjdG9yID0+IG5vZGUub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBpbnB1dFt0eXBlPVwicmFkaW9cIl0ke3NlbGVjdG9yfWApO1xuICBsZXQgcm92aW5nID0gZ2V0UmFkaW8oYFtuYW1lPVwiJHtub2RlLm5hbWV9XCJdOmNoZWNrZWRgKTtcbiAgaWYgKCFyb3ZpbmcpIHtcbiAgICByb3ZpbmcgPSBnZXRSYWRpbyhgW25hbWU9XCIke25vZGUubmFtZX1cIl1gKTtcbiAgfVxuICByZXR1cm4gcm92aW5nICE9PSBub2RlO1xufVxuZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZShub2RlKSB7XG4gIGlmIChub2RlLmRpc2FibGVkIHx8IG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBub2RlLnR5cGUgPT09ICdoaWRkZW4nIHx8IGlzTm9uVGFiYmFibGVSYWRpbyhub2RlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRHZXRUYWJiYWJsZShyb290KSB7XG4gIGNvbnN0IHJlZ3VsYXJUYWJOb2RlcyA9IFtdO1xuICBjb25zdCBvcmRlcmVkVGFiTm9kZXMgPSBbXTtcbiAgQXJyYXkuZnJvbShyb290LnF1ZXJ5U2VsZWN0b3JBbGwoY2FuZGlkYXRlc1NlbGVjdG9yKSkuZm9yRWFjaCgobm9kZSwgaSkgPT4ge1xuICAgIGNvbnN0IG5vZGVUYWJJbmRleCA9IGdldFRhYkluZGV4KG5vZGUpO1xuICAgIGlmIChub2RlVGFiSW5kZXggPT09IC0xIHx8ICFpc05vZGVNYXRjaGluZ1NlbGVjdG9yRm9jdXNhYmxlKG5vZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChub2RlVGFiSW5kZXggPT09IDApIHtcbiAgICAgIHJlZ3VsYXJUYWJOb2Rlcy5wdXNoKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcmRlcmVkVGFiTm9kZXMucHVzaCh7XG4gICAgICAgIGRvY3VtZW50T3JkZXI6IGksXG4gICAgICAgIHRhYkluZGV4OiBub2RlVGFiSW5kZXgsXG4gICAgICAgIG5vZGU6IG5vZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvcmRlcmVkVGFiTm9kZXMuc29ydCgoYSwgYikgPT4gYS50YWJJbmRleCA9PT0gYi50YWJJbmRleCA/IGEuZG9jdW1lbnRPcmRlciAtIGIuZG9jdW1lbnRPcmRlciA6IGEudGFiSW5kZXggLSBiLnRhYkluZGV4KS5tYXAoYSA9PiBhLm5vZGUpLmNvbmNhdChyZWd1bGFyVGFiTm9kZXMpO1xufVxuZnVuY3Rpb24gZGVmYXVsdElzRW5hYmxlZCgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbGl0eSBjb21wb25lbnQgdGhhdCBsb2NrcyBmb2N1cyBpbnNpZGUgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBEZW1vczpcbiAqXG4gKiAtIFtGb2N1cyBUcmFwXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1mb2N1cy10cmFwLylcbiAqXG4gKiBBUEk6XG4gKlxuICogLSBbRm9jdXNUcmFwIEFQSV0oaHR0cHM6Ly9tdWkuY29tL2Jhc2UtdWkvcmVhY3QtZm9jdXMtdHJhcC9jb21wb25lbnRzLWFwaS8jZm9jdXMtdHJhcClcbiAqL1xuZnVuY3Rpb24gRm9jdXNUcmFwKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBkaXNhYmxlQXV0b0ZvY3VzID0gZmFsc2UsXG4gICAgZGlzYWJsZUVuZm9yY2VGb2N1cyA9IGZhbHNlLFxuICAgIGRpc2FibGVSZXN0b3JlRm9jdXMgPSBmYWxzZSxcbiAgICBnZXRUYWJiYWJsZSA9IGRlZmF1bHRHZXRUYWJiYWJsZSxcbiAgICBpc0VuYWJsZWQgPSBkZWZhdWx0SXNFbmFibGVkLFxuICAgIG9wZW5cbiAgfSA9IHByb3BzO1xuICBjb25zdCBpZ25vcmVOZXh0RW5mb3JjZUZvY3VzID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgc2VudGluZWxTdGFydCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3Qgc2VudGluZWxFbmQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IG5vZGVUb1Jlc3RvcmUgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IHJlYWN0Rm9jdXNFdmVudFRhcmdldCA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgLy8gVGhpcyB2YXJpYWJsZSBpcyB1c2VmdWwgd2hlbiBkaXNhYmxlQXV0b0ZvY3VzIGlzIHRydWUuXG4gIC8vIEl0IHdhaXRzIGZvciB0aGUgYWN0aXZlIGVsZW1lbnQgdG8gbW92ZSBpbnRvIHRoZSBjb21wb25lbnQgdG8gYWN0aXZhdGUuXG4gIGNvbnN0IGFjdGl2YXRlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHJvb3RSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyB1cHN0cmVhbSBmaXhcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihjaGlsZHJlbi5yZWYsIHJvb3RSZWYpO1xuICBjb25zdCBsYXN0S2V5ZG93biA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBXZSBtaWdodCByZW5kZXIgYW4gZW1wdHkgY2hpbGQuXG4gICAgaWYgKCFvcGVuIHx8ICFyb290UmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWN0aXZhdGVkLmN1cnJlbnQgPSAhZGlzYWJsZUF1dG9Gb2N1cztcbiAgfSwgW2Rpc2FibGVBdXRvRm9jdXMsIG9wZW5dKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBXZSBtaWdodCByZW5kZXIgYW4gZW1wdHkgY2hpbGQuXG4gICAgaWYgKCFvcGVuIHx8ICFyb290UmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZG9jID0gb3duZXJEb2N1bWVudChyb290UmVmLmN1cnJlbnQpO1xuICAgIGlmICghcm9vdFJlZi5jdXJyZW50LmNvbnRhaW5zKGRvYy5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgaWYgKCFyb290UmVmLmN1cnJlbnQuaGFzQXR0cmlidXRlKCd0YWJJbmRleCcpKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihbJ01VSTogVGhlIG1vZGFsIGNvbnRlbnQgbm9kZSBkb2VzIG5vdCBhY2NlcHQgZm9jdXMuJywgJ0ZvciB0aGUgYmVuZWZpdCBvZiBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCAnICsgJ3RoZSB0YWJJbmRleCBvZiB0aGUgbm9kZSBpcyBiZWluZyBzZXQgdG8gXCItMVwiLiddLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgICByb290UmVmLmN1cnJlbnQuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICctMScpO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2YXRlZC5jdXJyZW50KSB7XG4gICAgICAgIHJvb3RSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gcmVzdG9yZUxhc3RGb2N1cygpXG4gICAgICBpZiAoIWRpc2FibGVSZXN0b3JlRm9jdXMpIHtcbiAgICAgICAgLy8gSW4gSUUxMSBpdCBpcyBwb3NzaWJsZSBmb3IgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB0byBiZSBudWxsIHJlc3VsdGluZ1xuICAgICAgICAvLyBpbiBub2RlVG9SZXN0b3JlLmN1cnJlbnQgYmVpbmcgbnVsbC5cbiAgICAgICAgLy8gTm90IGFsbCBlbGVtZW50cyBpbiBJRTExIGhhdmUgYSBmb2N1cyBtZXRob2QuXG4gICAgICAgIC8vIE9uY2UgSUUxMSBzdXBwb3J0IGlzIGRyb3BwZWQgdGhlIGZvY3VzKCkgY2FsbCBjYW4gYmUgdW5jb25kaXRpb25hbC5cbiAgICAgICAgaWYgKG5vZGVUb1Jlc3RvcmUuY3VycmVudCAmJiBub2RlVG9SZXN0b3JlLmN1cnJlbnQuZm9jdXMpIHtcbiAgICAgICAgICBpZ25vcmVOZXh0RW5mb3JjZUZvY3VzLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgIG5vZGVUb1Jlc3RvcmUuY3VycmVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVUb1Jlc3RvcmUuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBNaXNzaW5nIGBkaXNhYmxlUmVzdG9yZUZvY3VzYCB3aGljaCBpcyBmaW5lLlxuICAgIC8vIFdlIGRvbid0IHN1cHBvcnQgY2hhbmdpbmcgdGhhdCBwcm9wIG9uIGFuIG9wZW4gRm9jdXNUcmFwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbb3Blbl0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFdlIG1pZ2h0IHJlbmRlciBhbiBlbXB0eSBjaGlsZC5cbiAgICBpZiAoIW9wZW4gfHwgIXJvb3RSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KHJvb3RSZWYuY3VycmVudCk7XG4gICAgY29uc3QgbG9vcEZvY3VzID0gbmF0aXZlRXZlbnQgPT4ge1xuICAgICAgbGFzdEtleWRvd24uY3VycmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgICAgaWYgKGRpc2FibGVFbmZvcmNlRm9jdXMgfHwgIWlzRW5hYmxlZCgpIHx8IG5hdGl2ZUV2ZW50LmtleSAhPT0gJ1RhYicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIG5leHQgdGFiIHN0YXJ0cyBmcm9tIHRoZSByaWdodCBwbGFjZS5cbiAgICAgIC8vIGRvYy5hY3RpdmVFbGVtZW50IHJlZmVycyB0byB0aGUgb3JpZ2luLlxuICAgICAgaWYgKGRvYy5hY3RpdmVFbGVtZW50ID09PSByb290UmVmLmN1cnJlbnQgJiYgbmF0aXZlRXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBpZ25vcmUgdGhlIG5leHQgY29udGFpbiBhc1xuICAgICAgICAvLyBpdCB3aWxsIHRyeSB0byBtb3ZlIHRoZSBmb2N1cyBiYWNrIHRvIHRoZSByb290UmVmIGVsZW1lbnQuXG4gICAgICAgIGlnbm9yZU5leHRFbmZvcmNlRm9jdXMuY3VycmVudCA9IHRydWU7XG4gICAgICAgIGlmIChzZW50aW5lbEVuZC5jdXJyZW50KSB7XG4gICAgICAgICAgc2VudGluZWxFbmQuY3VycmVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjb250YWluID0gKCkgPT4ge1xuICAgICAgY29uc3Qgcm9vdEVsZW1lbnQgPSByb290UmVmLmN1cnJlbnQ7XG5cbiAgICAgIC8vIENsZWFudXAgZnVuY3Rpb25zIGFyZSBleGVjdXRlZCBsYXppbHkgaW4gUmVhY3QgMTcuXG4gICAgICAvLyBDb250YWluIGNhbiBiZSBjYWxsZWQgYmV0d2VlbiB0aGUgY29tcG9uZW50IGJlaW5nIHVubW91bnRlZCBhbmQgaXRzIGNsZWFudXAgZnVuY3Rpb24gYmVpbmcgcnVuLlxuICAgICAgaWYgKHJvb3RFbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZG9jLmhhc0ZvY3VzKCkgfHwgIWlzRW5hYmxlZCgpIHx8IGlnbm9yZU5leHRFbmZvcmNlRm9jdXMuY3VycmVudCkge1xuICAgICAgICBpZ25vcmVOZXh0RW5mb3JjZUZvY3VzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgZm9jdXMgaXMgYWxyZWFkeSBpbnNpZGVcbiAgICAgIGlmIChyb290RWxlbWVudC5jb250YWlucyhkb2MuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgZGlzYWJsZUVuZm9yY2VGb2N1cyBpcyBzZXQgYW5kIHRoZSBmb2N1cyBpcyBvdXRzaWRlIG9mIHRoZSBmb2N1cyB0cmFwIChhbmQgc2VudGluZWwgbm9kZXMpXG4gICAgICBpZiAoZGlzYWJsZUVuZm9yY2VGb2N1cyAmJiBkb2MuYWN0aXZlRWxlbWVudCAhPT0gc2VudGluZWxTdGFydC5jdXJyZW50ICYmIGRvYy5hY3RpdmVFbGVtZW50ICE9PSBzZW50aW5lbEVuZC5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlIGZvY3VzIGV2ZW50IGlzIG5vdCBjb21pbmcgZnJvbSBpbnNpZGUgdGhlIGNoaWxkcmVuJ3MgcmVhY3QgdHJlZSwgcmVzZXQgdGhlIHJlZnNcbiAgICAgIGlmIChkb2MuYWN0aXZlRWxlbWVudCAhPT0gcmVhY3RGb2N1c0V2ZW50VGFyZ2V0LmN1cnJlbnQpIHtcbiAgICAgICAgcmVhY3RGb2N1c0V2ZW50VGFyZ2V0LmN1cnJlbnQgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChyZWFjdEZvY3VzRXZlbnRUYXJnZXQuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWFjdGl2YXRlZC5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCB0YWJiYWJsZSA9IFtdO1xuICAgICAgaWYgKGRvYy5hY3RpdmVFbGVtZW50ID09PSBzZW50aW5lbFN0YXJ0LmN1cnJlbnQgfHwgZG9jLmFjdGl2ZUVsZW1lbnQgPT09IHNlbnRpbmVsRW5kLmN1cnJlbnQpIHtcbiAgICAgICAgdGFiYmFibGUgPSBnZXRUYWJiYWJsZShyb290UmVmLmN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBvbmUgb2YgdGhlIHNlbnRpbmVsIG5vZGVzIHdhcyBmb2N1c2VkLCBzbyBtb3ZlIHRoZSBmb2N1c1xuICAgICAgLy8gdG8gdGhlIGZpcnN0L2xhc3QgdGFiYmFibGUgZWxlbWVudCBpbnNpZGUgdGhlIGZvY3VzIHRyYXBcbiAgICAgIGlmICh0YWJiYWJsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBfbGFzdEtleWRvd24kY3VycmVudCwgX2xhc3RLZXlkb3duJGN1cnJlbnQyO1xuICAgICAgICBjb25zdCBpc1NoaWZ0VGFiID0gQm9vbGVhbigoKF9sYXN0S2V5ZG93biRjdXJyZW50ID0gbGFzdEtleWRvd24uY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9sYXN0S2V5ZG93biRjdXJyZW50LnNoaWZ0S2V5KSAmJiAoKF9sYXN0S2V5ZG93biRjdXJyZW50MiA9IGxhc3RLZXlkb3duLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbGFzdEtleWRvd24kY3VycmVudDIua2V5KSA9PT0gJ1RhYicpO1xuICAgICAgICBjb25zdCBmb2N1c05leHQgPSB0YWJiYWJsZVswXTtcbiAgICAgICAgY29uc3QgZm9jdXNQcmV2aW91cyA9IHRhYmJhYmxlW3RhYmJhYmxlLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodHlwZW9mIGZvY3VzTmV4dCAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIGZvY3VzUHJldmlvdXMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKGlzU2hpZnRUYWIpIHtcbiAgICAgICAgICAgIGZvY3VzUHJldmlvdXMuZm9jdXMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9jdXNOZXh0LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vIHRhYmJhYmxlIGVsZW1lbnRzIGluIHRoZSB0cmFwIGZvY3VzIG9yIHRoZSBmb2N1cyB3YXMgb3V0c2lkZSBvZiB0aGUgZm9jdXMgdHJhcFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgY29udGFpbik7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsb29wRm9jdXMsIHRydWUpO1xuXG4gICAgLy8gV2l0aCBFZGdlLCBTYWZhcmkgYW5kIEZpcmVmb3gsIG5vIGZvY3VzIHJlbGF0ZWQgZXZlbnRzIGFyZSBmaXJlZCB3aGVuIHRoZSBmb2N1c2VkIGFyZWEgc3RvcHMgYmVpbmcgYSBmb2N1c2VkIGFyZWEuXG4gICAgLy8gZS5nLiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NTk1NjEuXG4gICAgLy8gSW5zdGVhZCwgd2UgY2FuIGxvb2sgaWYgdGhlIGFjdGl2ZSBlbGVtZW50IHdhcyByZXN0b3JlZCBvbiB0aGUgQk9EWSBlbGVtZW50LlxuICAgIC8vXG4gICAgLy8gVGhlIHdoYXR3ZyBzcGVjIGRlZmluZXMgaG93IHRoZSBicm93c2VyIHNob3VsZCBiZWhhdmUgYnV0IGRvZXMgbm90IGV4cGxpY2l0bHkgbWVudGlvbiBhbnkgZXZlbnRzOlxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2ludGVyYWN0aW9uLmh0bWwjZm9jdXMtZml4dXAtcnVsZS5cbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChkb2MuYWN0aXZlRWxlbWVudCAmJiBkb2MuYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgY29udGFpbigpO1xuICAgICAgfVxuICAgIH0sIDUwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGNvbnRhaW4pO1xuICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsb29wRm9jdXMsIHRydWUpO1xuICAgIH07XG4gIH0sIFtkaXNhYmxlQXV0b0ZvY3VzLCBkaXNhYmxlRW5mb3JjZUZvY3VzLCBkaXNhYmxlUmVzdG9yZUZvY3VzLCBpc0VuYWJsZWQsIG9wZW4sIGdldFRhYmJhYmxlXSk7XG4gIGNvbnN0IG9uRm9jdXMgPSBldmVudCA9PiB7XG4gICAgaWYgKG5vZGVUb1Jlc3RvcmUuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgbm9kZVRvUmVzdG9yZS5jdXJyZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICB9XG4gICAgYWN0aXZhdGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIHJlYWN0Rm9jdXNFdmVudFRhcmdldC5jdXJyZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IGNoaWxkcmVuUHJvcHNIYW5kbGVyID0gY2hpbGRyZW4ucHJvcHMub25Gb2N1cztcbiAgICBpZiAoY2hpbGRyZW5Qcm9wc0hhbmRsZXIpIHtcbiAgICAgIGNoaWxkcmVuUHJvcHNIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUZvY3VzU2VudGluZWwgPSBldmVudCA9PiB7XG4gICAgaWYgKG5vZGVUb1Jlc3RvcmUuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgbm9kZVRvUmVzdG9yZS5jdXJyZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICB9XG4gICAgYWN0aXZhdGVkLmN1cnJlbnQgPSB0cnVlO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFJlYWN0LkZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICB0YWJJbmRleDogb3BlbiA/IDAgOiAtMSxcbiAgICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzU2VudGluZWwsXG4gICAgICByZWY6IHNlbnRpbmVsU3RhcnQsXG4gICAgICBcImRhdGEtdGVzdGlkXCI6IFwic2VudGluZWxTdGFydFwiXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgb25Gb2N1c1xuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICB0YWJJbmRleDogb3BlbiA/IDAgOiAtMSxcbiAgICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzU2VudGluZWwsXG4gICAgICByZWY6IHNlbnRpbmVsRW5kLFxuICAgICAgXCJkYXRhLXRlc3RpZFwiOiBcInNlbnRpbmVsRW5kXCJcbiAgICB9KV1cbiAgfSk7XG59XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBGb2N1c1RyYXAucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IFR5cGVTY3JpcHQgdHlwZXMgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvKipcbiAgICogQSBzaW5nbGUgY2hpbGQgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IGVsZW1lbnRBY2NlcHRpbmdSZWYsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBmb2N1cyB0cmFwIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgc2hpZnQgZm9jdXMgdG8gaXRzZWxmIHdoZW4gaXQgb3BlbnMsIGFuZFxuICAgKiByZXBsYWNlIGl0IHRvIHRoZSBsYXN0IGZvY3VzZWQgZWxlbWVudCB3aGVuIGl0IGNsb3Nlcy5cbiAgICogVGhpcyBhbHNvIHdvcmtzIGNvcnJlY3RseSB3aXRoIGFueSBmb2N1cyB0cmFwIGNoaWxkcmVuIHRoYXQgaGF2ZSB0aGUgYGRpc2FibGVBdXRvRm9jdXNgIHByb3AuXG4gICAqXG4gICAqIEdlbmVyYWxseSB0aGlzIHNob3VsZCBuZXZlciBiZSBzZXQgdG8gYHRydWVgIGFzIGl0IG1ha2VzIHRoZSBmb2N1cyB0cmFwIGxlc3NcbiAgICogYWNjZXNzaWJsZSB0byBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCBsaWtlIHNjcmVlbiByZWFkZXJzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUF1dG9Gb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBmb2N1cyB0cmFwIHdpbGwgbm90IHByZXZlbnQgZm9jdXMgZnJvbSBsZWF2aW5nIHRoZSBmb2N1cyB0cmFwIHdoaWxlIG9wZW4uXG4gICAqXG4gICAqIEdlbmVyYWxseSB0aGlzIHNob3VsZCBuZXZlciBiZSBzZXQgdG8gYHRydWVgIGFzIGl0IG1ha2VzIHRoZSBmb2N1cyB0cmFwIGxlc3NcbiAgICogYWNjZXNzaWJsZSB0byBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCBsaWtlIHNjcmVlbiByZWFkZXJzLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZUVuZm9yY2VGb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBmb2N1cyB0cmFwIHdpbGwgbm90IHJlc3RvcmUgZm9jdXMgdG8gcHJldmlvdXNseSBmb2N1c2VkIGVsZW1lbnQgb25jZVxuICAgKiBmb2N1cyB0cmFwIGlzIGhpZGRlbiBvciB1bm1vdW50ZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlUmVzdG9yZUZvY3VzOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2Ygb3JkZXJlZCB0YWJiYWJsZSBub2RlcyAoaS5lLiBpbiB0YWIgb3JkZXIpIHdpdGhpbiB0aGUgcm9vdC5cbiAgICogRm9yIGluc3RhbmNlLCB5b3UgY2FuIHByb3ZpZGUgdGhlIFwidGFiYmFibGVcIiBucG0gZGVwZW5kZW5jeS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcm9vdFxuICAgKi9cbiAgZ2V0VGFiYmFibGU6IFByb3BUeXBlcy5mdW5jLFxuICAvKipcbiAgICogVGhpcyBwcm9wIGV4dGVuZHMgdGhlIGBvcGVuYCBwcm9wLlxuICAgKiBJdCBhbGxvd3MgdG8gdG9nZ2xlIHRoZSBvcGVuIHN0YXRlIHdpdGhvdXQgaGF2aW5nIHRvIHdhaXQgZm9yIGEgcmVyZW5kZXIgd2hlbiBjaGFuZ2luZyB0aGUgYG9wZW5gIHByb3AuXG4gICAqIFRoaXMgcHJvcCBzaG91bGQgYmUgbWVtb2l6ZWQuXG4gICAqIEl0IGNhbiBiZSB1c2VkIHRvIHN1cHBvcnQgbXVsdGlwbGUgZm9jdXMgdHJhcCBtb3VudGVkIGF0IHRoZSBzYW1lIHRpbWUuXG4gICAqIEBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRJc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAqICAgcmV0dXJuIHRydWU7XG4gICAqIH1cbiAgICovXG4gIGlzRW5hYmxlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGZvY3VzIGlzIGxvY2tlZC5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWRcbn0gOiB2b2lkIDA7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgRm9jdXNUcmFwWydwcm9wVHlwZXMnICsgJyddID0gZXhhY3RQcm9wKEZvY3VzVHJhcC5wcm9wVHlwZXMpO1xufVxuZXhwb3J0IHsgRm9jdXNUcmFwIH07Il0sIm5hbWVzIjpbIlJlYWN0IiwiUHJvcFR5cGVzIiwiZXhhY3RQcm9wIiwiZWxlbWVudEFjY2VwdGluZ1JlZiIsInVuc3RhYmxlX3VzZUZvcmtSZWYiLCJ1c2VGb3JrUmVmIiwidW5zdGFibGVfb3duZXJEb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiY2FuZGlkYXRlc1NlbGVjdG9yIiwiam9pbiIsImdldFRhYkluZGV4Iiwibm9kZSIsInRhYmluZGV4QXR0ciIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiTnVtYmVyIiwiaXNOYU4iLCJjb250ZW50RWRpdGFibGUiLCJub2RlTmFtZSIsInRhYkluZGV4IiwiaXNOb25UYWJiYWJsZVJhZGlvIiwidGFnTmFtZSIsInR5cGUiLCJuYW1lIiwiZ2V0UmFkaW8iLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJyb3ZpbmciLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yRm9jdXNhYmxlIiwiZGlzYWJsZWQiLCJkZWZhdWx0R2V0VGFiYmFibGUiLCJyb290IiwicmVndWxhclRhYk5vZGVzIiwib3JkZXJlZFRhYk5vZGVzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpIiwibm9kZVRhYkluZGV4IiwicHVzaCIsImRvY3VtZW50T3JkZXIiLCJzb3J0IiwiYSIsImIiLCJtYXAiLCJjb25jYXQiLCJkZWZhdWx0SXNFbmFibGVkIiwiRm9jdXNUcmFwIiwicHJvcHMiLCJjaGlsZHJlbiIsImRpc2FibGVBdXRvRm9jdXMiLCJkaXNhYmxlRW5mb3JjZUZvY3VzIiwiZGlzYWJsZVJlc3RvcmVGb2N1cyIsImdldFRhYmJhYmxlIiwiaXNFbmFibGVkIiwib3BlbiIsImlnbm9yZU5leHRFbmZvcmNlRm9jdXMiLCJ1c2VSZWYiLCJzZW50aW5lbFN0YXJ0Iiwic2VudGluZWxFbmQiLCJub2RlVG9SZXN0b3JlIiwicmVhY3RGb2N1c0V2ZW50VGFyZ2V0IiwiYWN0aXZhdGVkIiwicm9vdFJlZiIsImhhbmRsZVJlZiIsInJlZiIsImxhc3RLZXlkb3duIiwidXNlRWZmZWN0IiwiY3VycmVudCIsImRvYyIsImNvbnRhaW5zIiwiYWN0aXZlRWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbnNvbGUiLCJlcnJvciIsInNldEF0dHJpYnV0ZSIsImZvY3VzIiwibG9vcEZvY3VzIiwibmF0aXZlRXZlbnQiLCJrZXkiLCJzaGlmdEtleSIsImNvbnRhaW4iLCJyb290RWxlbWVudCIsImhhc0ZvY3VzIiwidGFiYmFibGUiLCJsZW5ndGgiLCJfbGFzdEtleWRvd24kY3VycmVudCIsIl9sYXN0S2V5ZG93biRjdXJyZW50MiIsImlzU2hpZnRUYWIiLCJCb29sZWFuIiwiZm9jdXNOZXh0IiwiZm9jdXNQcmV2aW91cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbkZvY3VzIiwiZXZlbnQiLCJyZWxhdGVkVGFyZ2V0IiwidGFyZ2V0IiwiY2hpbGRyZW5Qcm9wc0hhbmRsZXIiLCJoYW5kbGVGb2N1c1NlbnRpbmVsIiwiRnJhZ21lbnQiLCJjbG9uZUVsZW1lbnQiLCJwcm9wVHlwZXMiLCJib29sIiwiZnVuYyIsImlzUmVxdWlyZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5134\n")},7138:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  r: () => (/* binding */ Popper)\n});\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(3123);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\nvar objectWithoutPropertiesLoose = __webpack_require__(7958);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(5466);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useForkRef/useForkRef.js\nvar useForkRef = __webpack_require__(1433);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useEnhancedEffect/useEnhancedEffect.js\nvar useEnhancedEffect = __webpack_require__(704);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/ownerDocument/ownerDocument.js\nvar ownerDocument = __webpack_require__(5923);\n// EXTERNAL MODULE: ./node_modules/@popperjs/core/lib/popper.js + 53 modules\nvar lib_popper = __webpack_require__(2158);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/composeClasses/composeClasses.js\nvar composeClasses = __webpack_require__(635);\n// EXTERNAL MODULE: ./node_modules/@mui/base/Portal/Portal.js\nvar Portal = __webpack_require__(4357);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js\nvar generateUtilityClass = __webpack_require__(1662);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js\nvar generateUtilityClasses = __webpack_require__(8866);\n;// CONCATENATED MODULE: ./node_modules/@mui/base/Popper/popperClasses.js\n\n\nfunction getPopperUtilityClass(slot) {\n  return (0,generateUtilityClass/* default */.Z)('MuiPopper', slot);\n}\nconst popperClasses = (0,generateUtilityClasses/* default */.Z)('MuiPopper', ['root']);\n// EXTERNAL MODULE: ./node_modules/@mui/base/utils/useSlotProps.js + 3 modules\nvar useSlotProps = __webpack_require__(8972);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3823);\n;// CONCATENATED MODULE: ./node_modules/@mui/base/utils/ClassNameConfigurator.js\n'use client';\n\n\n\nconst defaultContextValue = {\n  disableDefaultClasses: false\n};\nconst ClassNameConfiguratorContext = /*#__PURE__*/react.createContext(defaultContextValue);\n/**\n * @ignore - internal hook.\n *\n * Wraps the `generateUtilityClass` function and controls how the classes are generated.\n * Currently it only affects whether the classes are applied or not.\n *\n * @returns Function to be called with the `generateUtilityClass` function specific to a component to generate the classes.\n */\nfunction useClassNamesOverride(generateUtilityClass) {\n  const {\n    disableDefaultClasses\n  } = react.useContext(ClassNameConfiguratorContext);\n  return slot => {\n    if (disableDefaultClasses) {\n      return '';\n    }\n    return generateUtilityClass(slot);\n  };\n}\n\n/**\n * Allows to configure the components within to not apply any built-in classes.\n */\nfunction ClassNameConfigurator(props) {\n  const {\n    disableDefaultClasses,\n    children\n  } = props;\n  const contextValue = React.useMemo(() => ({\n    disableDefaultClasses: disableDefaultClasses != null ? disableDefaultClasses : false\n  }), [disableDefaultClasses]);\n  return /*#__PURE__*/_jsx(ClassNameConfiguratorContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n}\n;// CONCATENATED MODULE: ./node_modules/@mui/base/Popper/Popper.js\n'use client';\n\n\n\nconst _excluded = [\"anchorEl\", \"children\", \"direction\", \"disablePortal\", \"modifiers\", \"open\", \"placement\", \"popperOptions\", \"popperRef\", \"slotProps\", \"slots\", \"TransitionProps\", \"ownerState\"],\n  _excluded2 = [\"anchorEl\", \"children\", \"container\", \"direction\", \"disablePortal\", \"keepMounted\", \"modifiers\", \"open\", \"placement\", \"popperOptions\", \"popperRef\", \"style\", \"transition\", \"slotProps\", \"slots\"];\n\n\n\n\n\n\n\n\n\n\nfunction flipPlacement(placement, direction) {\n  if (direction === 'ltr') {\n    return placement;\n  }\n  switch (placement) {\n    case 'bottom-end':\n      return 'bottom-start';\n    case 'bottom-start':\n      return 'bottom-end';\n    case 'top-end':\n      return 'top-start';\n    case 'top-start':\n      return 'top-end';\n    default:\n      return placement;\n  }\n}\nfunction resolveAnchorEl(anchorEl) {\n  return typeof anchorEl === 'function' ? anchorEl() : anchorEl;\n}\nfunction isHTMLElement(element) {\n  return element.nodeType !== undefined;\n}\nfunction isVirtualElement(element) {\n  return !isHTMLElement(element);\n}\nconst useUtilityClasses = () => {\n  const slots = {\n    root: ['root']\n  };\n  return (0,composeClasses/* default */.Z)(slots, useClassNamesOverride(getPopperUtilityClass));\n};\nconst defaultPopperOptions = {};\nconst PopperTooltip = /*#__PURE__*/react.forwardRef(function PopperTooltip(props, forwardedRef) {\n  var _slots$root;\n  const {\n      anchorEl,\n      children,\n      direction,\n      disablePortal,\n      modifiers,\n      open,\n      placement: initialPlacement,\n      popperOptions,\n      popperRef: popperRefProp,\n      slotProps = {},\n      slots = {},\n      TransitionProps\n      // @ts-ignore internal logic\n      // prevent from spreading to DOM, it can come from the parent component e.g. Select.\n    } = props,\n    other = (0,objectWithoutPropertiesLoose/* default */.Z)(props, _excluded);\n  const tooltipRef = react.useRef(null);\n  const ownRef = (0,useForkRef/* default */.Z)(tooltipRef, forwardedRef);\n  const popperRef = react.useRef(null);\n  const handlePopperRef = (0,useForkRef/* default */.Z)(popperRef, popperRefProp);\n  const handlePopperRefRef = react.useRef(handlePopperRef);\n  (0,useEnhancedEffect/* default */.Z)(() => {\n    handlePopperRefRef.current = handlePopperRef;\n  }, [handlePopperRef]);\n  react.useImperativeHandle(popperRefProp, () => popperRef.current, []);\n  const rtlPlacement = flipPlacement(initialPlacement, direction);\n  /**\n   * placement initialized from prop but can change during lifetime if modifiers.flip.\n   * modifiers.flip is essentially a flip for controlled/uncontrolled behavior\n   */\n  const [placement, setPlacement] = react.useState(rtlPlacement);\n  const [resolvedAnchorElement, setResolvedAnchorElement] = react.useState(resolveAnchorEl(anchorEl));\n  react.useEffect(() => {\n    if (popperRef.current) {\n      popperRef.current.forceUpdate();\n    }\n  });\n  react.useEffect(() => {\n    if (anchorEl) {\n      setResolvedAnchorElement(resolveAnchorEl(anchorEl));\n    }\n  }, [anchorEl]);\n  (0,useEnhancedEffect/* default */.Z)(() => {\n    if (!resolvedAnchorElement || !open) {\n      return undefined;\n    }\n    const handlePopperUpdate = data => {\n      setPlacement(data.placement);\n    };\n    if (false) {}\n    let popperModifiers = [{\n      name: 'preventOverflow',\n      options: {\n        altBoundary: disablePortal\n      }\n    }, {\n      name: 'flip',\n      options: {\n        altBoundary: disablePortal\n      }\n    }, {\n      name: 'onUpdate',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: ({\n        state\n      }) => {\n        handlePopperUpdate(state);\n      }\n    }];\n    if (modifiers != null) {\n      popperModifiers = popperModifiers.concat(modifiers);\n    }\n    if (popperOptions && popperOptions.modifiers != null) {\n      popperModifiers = popperModifiers.concat(popperOptions.modifiers);\n    }\n    const popper = (0,lib_popper/* createPopper */.fi)(resolvedAnchorElement, tooltipRef.current, (0,esm_extends/* default */.Z)({\n      placement: rtlPlacement\n    }, popperOptions, {\n      modifiers: popperModifiers\n    }));\n    handlePopperRefRef.current(popper);\n    return () => {\n      popper.destroy();\n      handlePopperRefRef.current(null);\n    };\n  }, [resolvedAnchorElement, disablePortal, modifiers, open, popperOptions, rtlPlacement]);\n  const childProps = {\n    placement: placement\n  };\n  if (TransitionProps !== null) {\n    childProps.TransitionProps = TransitionProps;\n  }\n  const classes = useUtilityClasses();\n  const Root = (_slots$root = slots.root) != null ? _slots$root : 'div';\n  const rootProps = (0,useSlotProps/* useSlotProps */.y)({\n    elementType: Root,\n    externalSlotProps: slotProps.root,\n    externalForwardedProps: other,\n    additionalProps: {\n      role: 'tooltip',\n      ref: ownRef\n    },\n    ownerState: props,\n    className: classes.root\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(Root, (0,esm_extends/* default */.Z)({}, rootProps, {\n    children: typeof children === 'function' ? children(childProps) : children\n  }));\n});\n\n/**\n * Poppers rely on the 3rd party library [Popper.js](https://popper.js.org/docs/v2/) for positioning.\n *\n * Demos:\n *\n * - [Popper](https://mui.com/base-ui/react-popper/)\n *\n * API:\n *\n * - [Popper API](https://mui.com/base-ui/react-popper/components-api/#popper)\n */\nconst Popper = /*#__PURE__*/react.forwardRef(function Popper(props, forwardedRef) {\n  const {\n      anchorEl,\n      children,\n      container: containerProp,\n      direction = 'ltr',\n      disablePortal = false,\n      keepMounted = false,\n      modifiers,\n      open,\n      placement = 'bottom',\n      popperOptions = defaultPopperOptions,\n      popperRef,\n      style,\n      transition = false,\n      slotProps = {},\n      slots = {}\n    } = props,\n    other = (0,objectWithoutPropertiesLoose/* default */.Z)(props, _excluded2);\n  const [exited, setExited] = react.useState(true);\n  const handleEnter = () => {\n    setExited(false);\n  };\n  const handleExited = () => {\n    setExited(true);\n  };\n  if (!keepMounted && !open && (!transition || exited)) {\n    return null;\n  }\n\n  // If the container prop is provided, use that\n  // If the anchorEl prop is provided, use its parent body element as the container\n  // If neither are provided let the Modal take care of choosing the container\n  let container;\n  if (containerProp) {\n    container = containerProp;\n  } else if (anchorEl) {\n    const resolvedAnchorEl = resolveAnchorEl(anchorEl);\n    container = resolvedAnchorEl && isHTMLElement(resolvedAnchorEl) ? (0,ownerDocument/* default */.Z)(resolvedAnchorEl).body : (0,ownerDocument/* default */.Z)(null).body;\n  }\n  const display = !open && keepMounted && (!transition || exited) ? 'none' : undefined;\n  const transitionProps = transition ? {\n    in: open,\n    onEnter: handleEnter,\n    onExited: handleExited\n  } : undefined;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(Portal/* Portal */.h, {\n    disablePortal: disablePortal,\n    container: container,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(PopperTooltip, (0,esm_extends/* default */.Z)({\n      anchorEl: anchorEl,\n      direction: direction,\n      disablePortal: disablePortal,\n      modifiers: modifiers,\n      ref: forwardedRef,\n      open: transition ? !exited : open,\n      placement: placement,\n      popperOptions: popperOptions,\n      popperRef: popperRef,\n      slotProps: slotProps,\n      slots: slots\n    }, other, {\n      style: (0,esm_extends/* default */.Z)({\n        // Prevents scroll issue, waiting for Popper.js to add this style once initiated.\n        position: 'fixed',\n        // Fix Popper.js display issue\n        top: 0,\n        left: 0,\n        display\n      }, style),\n      TransitionProps: transitionProps,\n      children: children\n    }))\n  });\n});\n false ? 0 : void 0;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLENBQUM7UUFDUHlDO01BQ0YsQ0FBQyxFQUFFUixLQUFLLENBQUM7TUFDVHpELGVBQWUsRUFBRWtFLGVBQWU7TUFDaENwSCxRQUFRLEVBQUVBO0lBQ1osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBQ0ZvRSxNQUFxQyxHQUFHbUMsQ0FxSHZDLEdBQUcsS0FBSyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL1BvcHBlci9wb3BwZXJDbGFzc2VzLmpzPzQ2ZDAiLCJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL3V0aWxzL0NsYXNzTmFtZUNvbmZpZ3VyYXRvci5qcz8xODg3Iiwid2VicGFjazovL2VsZGVyLWJvb2tzLWZlLy4vbm9kZV9tb2R1bGVzL0BtdWkvYmFzZS9Qb3BwZXIvUG9wcGVyLmpzPzYwMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgfSBmcm9tICcuLi9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIH0gZnJvbSAnLi4vZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9wcGVyVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlQb3BwZXInLCBzbG90KTtcbn1cbmV4cG9ydCBjb25zdCBwb3BwZXJDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpUG9wcGVyJywgWydyb290J10pOyIsIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IGRlZmF1bHRDb250ZXh0VmFsdWUgPSB7XG4gIGRpc2FibGVEZWZhdWx0Q2xhc3NlczogZmFsc2Vcbn07XG5jb25zdCBDbGFzc05hbWVDb25maWd1cmF0b3JDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQoZGVmYXVsdENvbnRleHRWYWx1ZSk7XG4vKipcbiAqIEBpZ25vcmUgLSBpbnRlcm5hbCBob29rLlxuICpcbiAqIFdyYXBzIHRoZSBgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NgIGZ1bmN0aW9uIGFuZCBjb250cm9scyBob3cgdGhlIGNsYXNzZXMgYXJlIGdlbmVyYXRlZC5cbiAqIEN1cnJlbnRseSBpdCBvbmx5IGFmZmVjdHMgd2hldGhlciB0aGUgY2xhc3NlcyBhcmUgYXBwbGllZCBvciBub3QuXG4gKlxuICogQHJldHVybnMgRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdpdGggdGhlIGBnZW5lcmF0ZVV0aWxpdHlDbGFzc2AgZnVuY3Rpb24gc3BlY2lmaWMgdG8gYSBjb21wb25lbnQgdG8gZ2VuZXJhdGUgdGhlIGNsYXNzZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDbGFzc05hbWVzT3ZlcnJpZGUoZ2VuZXJhdGVVdGlsaXR5Q2xhc3MpIHtcbiAgY29uc3Qge1xuICAgIGRpc2FibGVEZWZhdWx0Q2xhc3Nlc1xuICB9ID0gUmVhY3QudXNlQ29udGV4dChDbGFzc05hbWVDb25maWd1cmF0b3JDb250ZXh0KTtcbiAgcmV0dXJuIHNsb3QgPT4ge1xuICAgIGlmIChkaXNhYmxlRGVmYXVsdENsYXNzZXMpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKHNsb3QpO1xuICB9O1xufVxuXG4vKipcbiAqIEFsbG93cyB0byBjb25maWd1cmUgdGhlIGNvbXBvbmVudHMgd2l0aGluIHRvIG5vdCBhcHBseSBhbnkgYnVpbHQtaW4gY2xhc3Nlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsYXNzTmFtZUNvbmZpZ3VyYXRvcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZGlzYWJsZURlZmF1bHRDbGFzc2VzLFxuICAgIGNoaWxkcmVuXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgIGRpc2FibGVEZWZhdWx0Q2xhc3NlczogZGlzYWJsZURlZmF1bHRDbGFzc2VzICE9IG51bGwgPyBkaXNhYmxlRGVmYXVsdENsYXNzZXMgOiBmYWxzZVxuICB9KSwgW2Rpc2FibGVEZWZhdWx0Q2xhc3Nlc10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goQ2xhc3NOYW1lQ29uZmlndXJhdG9yQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0VmFsdWUsXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gIH0pO1xufSIsIid1c2UgY2xpZW50JztcblxuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImFuY2hvckVsXCIsIFwiY2hpbGRyZW5cIiwgXCJkaXJlY3Rpb25cIiwgXCJkaXNhYmxlUG9ydGFsXCIsIFwibW9kaWZpZXJzXCIsIFwib3BlblwiLCBcInBsYWNlbWVudFwiLCBcInBvcHBlck9wdGlvbnNcIiwgXCJwb3BwZXJSZWZcIiwgXCJzbG90UHJvcHNcIiwgXCJzbG90c1wiLCBcIlRyYW5zaXRpb25Qcm9wc1wiLCBcIm93bmVyU3RhdGVcIl0sXG4gIF9leGNsdWRlZDIgPSBbXCJhbmNob3JFbFwiLCBcImNoaWxkcmVuXCIsIFwiY29udGFpbmVyXCIsIFwiZGlyZWN0aW9uXCIsIFwiZGlzYWJsZVBvcnRhbFwiLCBcImtlZXBNb3VudGVkXCIsIFwibW9kaWZpZXJzXCIsIFwib3BlblwiLCBcInBsYWNlbWVudFwiLCBcInBvcHBlck9wdGlvbnNcIiwgXCJwb3BwZXJSZWZcIiwgXCJzdHlsZVwiLCBcInRyYW5zaXRpb25cIiwgXCJzbG90UHJvcHNcIiwgXCJzbG90c1wiXTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNoYWluUHJvcFR5cGVzLCBIVE1MRWxlbWVudFR5cGUsIHJlZlR5cGUsIHVuc3RhYmxlX293bmVyRG9jdW1lbnQgYXMgb3duZXJEb2N1bWVudCwgdW5zdGFibGVfdXNlRW5oYW5jZWRFZmZlY3QgYXMgdXNlRW5oYW5jZWRFZmZlY3QsIHVuc3RhYmxlX3VzZUZvcmtSZWYgYXMgdXNlRm9ya1JlZiB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlUG9wcGVyIH0gZnJvbSAnQHBvcHBlcmpzL2NvcmUnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHVuc3RhYmxlX2NvbXBvc2VDbGFzc2VzIGFzIGNvbXBvc2VDbGFzc2VzIH0gZnJvbSAnLi4vY29tcG9zZUNsYXNzZXMnO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAnLi4vUG9ydGFsJztcbmltcG9ydCB7IGdldFBvcHBlclV0aWxpdHlDbGFzcyB9IGZyb20gJy4vcG9wcGVyQ2xhc3Nlcyc7XG5pbXBvcnQgeyB1c2VTbG90UHJvcHMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyB1c2VDbGFzc05hbWVzT3ZlcnJpZGUgfSBmcm9tICcuLi91dGlscy9DbGFzc05hbWVDb25maWd1cmF0b3InO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIGZsaXBQbGFjZW1lbnQocGxhY2VtZW50LCBkaXJlY3Rpb24pIHtcbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ2x0cicpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50O1xuICB9XG4gIHN3aXRjaCAocGxhY2VtZW50KSB7XG4gICAgY2FzZSAnYm90dG9tLWVuZCc6XG4gICAgICByZXR1cm4gJ2JvdHRvbS1zdGFydCc7XG4gICAgY2FzZSAnYm90dG9tLXN0YXJ0JzpcbiAgICAgIHJldHVybiAnYm90dG9tLWVuZCc7XG4gICAgY2FzZSAndG9wLWVuZCc6XG4gICAgICByZXR1cm4gJ3RvcC1zdGFydCc7XG4gICAgY2FzZSAndG9wLXN0YXJ0JzpcbiAgICAgIHJldHVybiAndG9wLWVuZCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwbGFjZW1lbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVBbmNob3JFbChhbmNob3JFbCkge1xuICByZXR1cm4gdHlwZW9mIGFuY2hvckVsID09PSAnZnVuY3Rpb24nID8gYW5jaG9yRWwoKSA6IGFuY2hvckVsO1xufVxuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lm5vZGVUeXBlICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc1ZpcnR1YWxFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICFpc0hUTUxFbGVtZW50KGVsZW1lbnQpO1xufVxuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCddXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgdXNlQ2xhc3NOYW1lc092ZXJyaWRlKGdldFBvcHBlclV0aWxpdHlDbGFzcykpO1xufTtcbmNvbnN0IGRlZmF1bHRQb3BwZXJPcHRpb25zID0ge307XG5jb25zdCBQb3BwZXJUb29sdGlwID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gUG9wcGVyVG9vbHRpcChwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBfc2xvdHMkcm9vdDtcbiAgY29uc3Qge1xuICAgICAgYW5jaG9yRWwsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIGRpc2FibGVQb3J0YWwsXG4gICAgICBtb2RpZmllcnMsXG4gICAgICBvcGVuLFxuICAgICAgcGxhY2VtZW50OiBpbml0aWFsUGxhY2VtZW50LFxuICAgICAgcG9wcGVyT3B0aW9ucyxcbiAgICAgIHBvcHBlclJlZjogcG9wcGVyUmVmUHJvcCxcbiAgICAgIHNsb3RQcm9wcyA9IHt9LFxuICAgICAgc2xvdHMgPSB7fSxcbiAgICAgIFRyYW5zaXRpb25Qcm9wc1xuICAgICAgLy8gQHRzLWlnbm9yZSBpbnRlcm5hbCBsb2dpY1xuICAgICAgLy8gcHJldmVudCBmcm9tIHNwcmVhZGluZyB0byBET00sIGl0IGNhbiBjb21lIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQgZS5nLiBTZWxlY3QuXG4gICAgfSA9IHByb3BzLFxuICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCk7XG4gIGNvbnN0IHRvb2x0aXBSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IG93blJlZiA9IHVzZUZvcmtSZWYodG9vbHRpcFJlZiwgZm9yd2FyZGVkUmVmKTtcbiAgY29uc3QgcG9wcGVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBoYW5kbGVQb3BwZXJSZWYgPSB1c2VGb3JrUmVmKHBvcHBlclJlZiwgcG9wcGVyUmVmUHJvcCk7XG4gIGNvbnN0IGhhbmRsZVBvcHBlclJlZlJlZiA9IFJlYWN0LnVzZVJlZihoYW5kbGVQb3BwZXJSZWYpO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaGFuZGxlUG9wcGVyUmVmUmVmLmN1cnJlbnQgPSBoYW5kbGVQb3BwZXJSZWY7XG4gIH0sIFtoYW5kbGVQb3BwZXJSZWZdKTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShwb3BwZXJSZWZQcm9wLCAoKSA9PiBwb3BwZXJSZWYuY3VycmVudCwgW10pO1xuICBjb25zdCBydGxQbGFjZW1lbnQgPSBmbGlwUGxhY2VtZW50KGluaXRpYWxQbGFjZW1lbnQsIGRpcmVjdGlvbik7XG4gIC8qKlxuICAgKiBwbGFjZW1lbnQgaW5pdGlhbGl6ZWQgZnJvbSBwcm9wIGJ1dCBjYW4gY2hhbmdlIGR1cmluZyBsaWZldGltZSBpZiBtb2RpZmllcnMuZmxpcC5cbiAgICogbW9kaWZpZXJzLmZsaXAgaXMgZXNzZW50aWFsbHkgYSBmbGlwIGZvciBjb250cm9sbGVkL3VuY29udHJvbGxlZCBiZWhhdmlvclxuICAgKi9cbiAgY29uc3QgW3BsYWNlbWVudCwgc2V0UGxhY2VtZW50XSA9IFJlYWN0LnVzZVN0YXRlKHJ0bFBsYWNlbWVudCk7XG4gIGNvbnN0IFtyZXNvbHZlZEFuY2hvckVsZW1lbnQsIHNldFJlc29sdmVkQW5jaG9yRWxlbWVudF0gPSBSZWFjdC51c2VTdGF0ZShyZXNvbHZlQW5jaG9yRWwoYW5jaG9yRWwpKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocG9wcGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIHBvcHBlclJlZi5jdXJyZW50LmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYW5jaG9yRWwpIHtcbiAgICAgIHNldFJlc29sdmVkQW5jaG9yRWxlbWVudChyZXNvbHZlQW5jaG9yRWwoYW5jaG9yRWwpKTtcbiAgICB9XG4gIH0sIFthbmNob3JFbF0pO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyZXNvbHZlZEFuY2hvckVsZW1lbnQgfHwgIW9wZW4pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZVBvcHBlclVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgICAgc2V0UGxhY2VtZW50KGRhdGEucGxhY2VtZW50KTtcbiAgICB9O1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAocmVzb2x2ZWRBbmNob3JFbGVtZW50ICYmIGlzSFRNTEVsZW1lbnQocmVzb2x2ZWRBbmNob3JFbGVtZW50KSAmJiByZXNvbHZlZEFuY2hvckVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgYm94ID0gcmVzb2x2ZWRBbmNob3JFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0JyAmJiBib3gudG9wID09PSAwICYmIGJveC5sZWZ0ID09PSAwICYmIGJveC5yaWdodCA9PT0gMCAmJiBib3guYm90dG9tID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFsnTVVJOiBUaGUgYGFuY2hvckVsYCBwcm9wIHByb3ZpZGVkIHRvIHRoZSBjb21wb25lbnQgaXMgaW52YWxpZC4nLCAnVGhlIGFuY2hvciBlbGVtZW50IHNob3VsZCBiZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBsYXlvdXQuJywgXCJNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgcHJlc2VudCBpbiB0aGUgZG9jdW1lbnQgb3IgdGhhdCBpdCdzIG5vdCBkaXNwbGF5IG5vbmUuXCJdLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcG9wcGVyTW9kaWZpZXJzID0gW3tcbiAgICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBhbHRCb3VuZGFyeTogZGlzYWJsZVBvcnRhbFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIG5hbWU6ICdmbGlwJyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYWx0Qm91bmRhcnk6IGRpc2FibGVQb3J0YWxcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBuYW1lOiAnb25VcGRhdGUnLFxuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIHBoYXNlOiAnYWZ0ZXJXcml0ZScsXG4gICAgICBmbjogKHtcbiAgICAgICAgc3RhdGVcbiAgICAgIH0pID0+IHtcbiAgICAgICAgaGFuZGxlUG9wcGVyVXBkYXRlKHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XTtcbiAgICBpZiAobW9kaWZpZXJzICE9IG51bGwpIHtcbiAgICAgIHBvcHBlck1vZGlmaWVycyA9IHBvcHBlck1vZGlmaWVycy5jb25jYXQobW9kaWZpZXJzKTtcbiAgICB9XG4gICAgaWYgKHBvcHBlck9wdGlvbnMgJiYgcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgIT0gbnVsbCkge1xuICAgICAgcG9wcGVyTW9kaWZpZXJzID0gcG9wcGVyTW9kaWZpZXJzLmNvbmNhdChwb3BwZXJPcHRpb25zLm1vZGlmaWVycyk7XG4gICAgfVxuICAgIGNvbnN0IHBvcHBlciA9IGNyZWF0ZVBvcHBlcihyZXNvbHZlZEFuY2hvckVsZW1lbnQsIHRvb2x0aXBSZWYuY3VycmVudCwgX2V4dGVuZHMoe1xuICAgICAgcGxhY2VtZW50OiBydGxQbGFjZW1lbnRcbiAgICB9LCBwb3BwZXJPcHRpb25zLCB7XG4gICAgICBtb2RpZmllcnM6IHBvcHBlck1vZGlmaWVyc1xuICAgIH0pKTtcbiAgICBoYW5kbGVQb3BwZXJSZWZSZWYuY3VycmVudChwb3BwZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwb3BwZXIuZGVzdHJveSgpO1xuICAgICAgaGFuZGxlUG9wcGVyUmVmUmVmLmN1cnJlbnQobnVsbCk7XG4gICAgfTtcbiAgfSwgW3Jlc29sdmVkQW5jaG9yRWxlbWVudCwgZGlzYWJsZVBvcnRhbCwgbW9kaWZpZXJzLCBvcGVuLCBwb3BwZXJPcHRpb25zLCBydGxQbGFjZW1lbnRdKTtcbiAgY29uc3QgY2hpbGRQcm9wcyA9IHtcbiAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudFxuICB9O1xuICBpZiAoVHJhbnNpdGlvblByb3BzICE9PSBudWxsKSB7XG4gICAgY2hpbGRQcm9wcy5UcmFuc2l0aW9uUHJvcHMgPSBUcmFuc2l0aW9uUHJvcHM7XG4gIH1cbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKCk7XG4gIGNvbnN0IFJvb3QgPSAoX3Nsb3RzJHJvb3QgPSBzbG90cy5yb290KSAhPSBudWxsID8gX3Nsb3RzJHJvb3QgOiAnZGl2JztcbiAgY29uc3Qgcm9vdFByb3BzID0gdXNlU2xvdFByb3BzKHtcbiAgICBlbGVtZW50VHlwZTogUm9vdCxcbiAgICBleHRlcm5hbFNsb3RQcm9wczogc2xvdFByb3BzLnJvb3QsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wczogb3RoZXIsXG4gICAgYWRkaXRpb25hbFByb3BzOiB7XG4gICAgICByb2xlOiAndG9vbHRpcCcsXG4gICAgICByZWY6IG93blJlZlxuICAgIH0sXG4gICAgb3duZXJTdGF0ZTogcHJvcHMsXG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLnJvb3RcbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChSb290LCBfZXh0ZW5kcyh7fSwgcm9vdFByb3BzLCB7XG4gICAgY2hpbGRyZW46IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/IGNoaWxkcmVuKGNoaWxkUHJvcHMpIDogY2hpbGRyZW5cbiAgfSkpO1xufSk7XG5cbi8qKlxuICogUG9wcGVycyByZWx5IG9uIHRoZSAzcmQgcGFydHkgbGlicmFyeSBbUG9wcGVyLmpzXShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi8pIGZvciBwb3NpdGlvbmluZy5cbiAqXG4gKiBEZW1vczpcbiAqXG4gKiAtIFtQb3BwZXJdKGh0dHBzOi8vbXVpLmNvbS9iYXNlLXVpL3JlYWN0LXBvcHBlci8pXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW1BvcHBlciBBUEldKGh0dHBzOi8vbXVpLmNvbS9iYXNlLXVpL3JlYWN0LXBvcHBlci9jb21wb25lbnRzLWFwaS8jcG9wcGVyKVxuICovXG5jb25zdCBQb3BwZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBQb3BwZXIocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICBjb25zdCB7XG4gICAgICBhbmNob3JFbCxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY29udGFpbmVyOiBjb250YWluZXJQcm9wLFxuICAgICAgZGlyZWN0aW9uID0gJ2x0cicsXG4gICAgICBkaXNhYmxlUG9ydGFsID0gZmFsc2UsXG4gICAgICBrZWVwTW91bnRlZCA9IGZhbHNlLFxuICAgICAgbW9kaWZpZXJzLFxuICAgICAgb3BlbixcbiAgICAgIHBsYWNlbWVudCA9ICdib3R0b20nLFxuICAgICAgcG9wcGVyT3B0aW9ucyA9IGRlZmF1bHRQb3BwZXJPcHRpb25zLFxuICAgICAgcG9wcGVyUmVmLFxuICAgICAgc3R5bGUsXG4gICAgICB0cmFuc2l0aW9uID0gZmFsc2UsXG4gICAgICBzbG90UHJvcHMgPSB7fSxcbiAgICAgIHNsb3RzID0ge31cbiAgICB9ID0gcHJvcHMsXG4gICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkMik7XG4gIGNvbnN0IFtleGl0ZWQsIHNldEV4aXRlZF0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgaGFuZGxlRW50ZXIgPSAoKSA9PiB7XG4gICAgc2V0RXhpdGVkKGZhbHNlKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlRXhpdGVkID0gKCkgPT4ge1xuICAgIHNldEV4aXRlZCh0cnVlKTtcbiAgfTtcbiAgaWYgKCFrZWVwTW91bnRlZCAmJiAhb3BlbiAmJiAoIXRyYW5zaXRpb24gfHwgZXhpdGVkKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gSWYgdGhlIGNvbnRhaW5lciBwcm9wIGlzIHByb3ZpZGVkLCB1c2UgdGhhdFxuICAvLyBJZiB0aGUgYW5jaG9yRWwgcHJvcCBpcyBwcm92aWRlZCwgdXNlIGl0cyBwYXJlbnQgYm9keSBlbGVtZW50IGFzIHRoZSBjb250YWluZXJcbiAgLy8gSWYgbmVpdGhlciBhcmUgcHJvdmlkZWQgbGV0IHRoZSBNb2RhbCB0YWtlIGNhcmUgb2YgY2hvb3NpbmcgdGhlIGNvbnRhaW5lclxuICBsZXQgY29udGFpbmVyO1xuICBpZiAoY29udGFpbmVyUHJvcCkge1xuICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lclByb3A7XG4gIH0gZWxzZSBpZiAoYW5jaG9yRWwpIHtcbiAgICBjb25zdCByZXNvbHZlZEFuY2hvckVsID0gcmVzb2x2ZUFuY2hvckVsKGFuY2hvckVsKTtcbiAgICBjb250YWluZXIgPSByZXNvbHZlZEFuY2hvckVsICYmIGlzSFRNTEVsZW1lbnQocmVzb2x2ZWRBbmNob3JFbCkgPyBvd25lckRvY3VtZW50KHJlc29sdmVkQW5jaG9yRWwpLmJvZHkgOiBvd25lckRvY3VtZW50KG51bGwpLmJvZHk7XG4gIH1cbiAgY29uc3QgZGlzcGxheSA9ICFvcGVuICYmIGtlZXBNb3VudGVkICYmICghdHJhbnNpdGlvbiB8fCBleGl0ZWQpID8gJ25vbmUnIDogdW5kZWZpbmVkO1xuICBjb25zdCB0cmFuc2l0aW9uUHJvcHMgPSB0cmFuc2l0aW9uID8ge1xuICAgIGluOiBvcGVuLFxuICAgIG9uRW50ZXI6IGhhbmRsZUVudGVyLFxuICAgIG9uRXhpdGVkOiBoYW5kbGVFeGl0ZWRcbiAgfSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFBvcnRhbCwge1xuICAgIGRpc2FibGVQb3J0YWw6IGRpc2FibGVQb3J0YWwsXG4gICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFBvcHBlclRvb2x0aXAsIF9leHRlbmRzKHtcbiAgICAgIGFuY2hvckVsOiBhbmNob3JFbCxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgZGlzYWJsZVBvcnRhbDogZGlzYWJsZVBvcnRhbCxcbiAgICAgIG1vZGlmaWVyczogbW9kaWZpZXJzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBvcGVuOiB0cmFuc2l0aW9uID8gIWV4aXRlZCA6IG9wZW4sXG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIHBvcHBlck9wdGlvbnM6IHBvcHBlck9wdGlvbnMsXG4gICAgICBwb3BwZXJSZWY6IHBvcHBlclJlZixcbiAgICAgIHNsb3RQcm9wczogc2xvdFByb3BzLFxuICAgICAgc2xvdHM6IHNsb3RzXG4gICAgfSwgb3RoZXIsIHtcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7XG4gICAgICAgIC8vIFByZXZlbnRzIHNjcm9sbCBpc3N1ZSwgd2FpdGluZyBmb3IgUG9wcGVyLmpzIHRvIGFkZCB0aGlzIHN0eWxlIG9uY2UgaW5pdGlhdGVkLlxuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgLy8gRml4IFBvcHBlci5qcyBkaXNwbGF5IGlzc3VlXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgZGlzcGxheVxuICAgICAgfSwgc3R5bGUpLFxuICAgICAgVHJhbnNpdGlvblByb3BzOiB0cmFuc2l0aW9uUHJvcHMsXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9KSlcbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFBvcHBlci5wcm9wVHlwZXMgLyogcmVtb3ZlLXByb3B0eXBlcyAqLyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgVHlwZVNjcmlwdCB0eXBlcyBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8qKlxuICAgKiBBbiBIVE1MIGVsZW1lbnQsIFt2aXJ0dWFsRWxlbWVudF0oaHR0cHM6Ly9wb3BwZXIuanMub3JnL2RvY3MvdjIvdmlydHVhbC1lbGVtZW50cy8pLFxuICAgKiBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBlaXRoZXIuXG4gICAqIEl0J3MgdXNlZCB0byBzZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIuXG4gICAqIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBwYXNzZWQgYXMgdGhlIHJlZmVyZW5jZSBvYmplY3Qgb2YgdGhlIFBvcHBlciBpbnN0YW5jZS5cbiAgICovXG4gIGFuY2hvckVsOiBjaGFpblByb3BUeXBlcyhQcm9wVHlwZXMub25lT2ZUeXBlKFtIVE1MRWxlbWVudFR5cGUsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5mdW5jXSksIHByb3BzID0+IHtcbiAgICBpZiAocHJvcHMub3Blbikge1xuICAgICAgY29uc3QgcmVzb2x2ZWRBbmNob3JFbCA9IHJlc29sdmVBbmNob3JFbChwcm9wcy5hbmNob3JFbCk7XG4gICAgICBpZiAocmVzb2x2ZWRBbmNob3JFbCAmJiBpc0hUTUxFbGVtZW50KHJlc29sdmVkQW5jaG9yRWwpICYmIHJlc29sdmVkQW5jaG9yRWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgYm94ID0gcmVzb2x2ZWRBbmNob3JFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiYgYm94LnRvcCA9PT0gMCAmJiBib3gubGVmdCA9PT0gMCAmJiBib3gucmlnaHQgPT09IDAgJiYgYm94LmJvdHRvbSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoWydNVUk6IFRoZSBgYW5jaG9yRWxgIHByb3AgcHJvdmlkZWQgdG8gdGhlIGNvbXBvbmVudCBpcyBpbnZhbGlkLicsICdUaGUgYW5jaG9yIGVsZW1lbnQgc2hvdWxkIGJlIHBhcnQgb2YgdGhlIGRvY3VtZW50IGxheW91dC4nLCBcIk1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyBwcmVzZW50IGluIHRoZSBkb2N1bWVudCBvciB0aGF0IGl0J3Mgbm90IGRpc3BsYXkgbm9uZS5cIl0uam9pbignXFxuJykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFyZXNvbHZlZEFuY2hvckVsIHx8IHR5cGVvZiByZXNvbHZlZEFuY2hvckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gJ2Z1bmN0aW9uJyB8fCBpc1ZpcnR1YWxFbGVtZW50KHJlc29sdmVkQW5jaG9yRWwpICYmIHJlc29sdmVkQW5jaG9yRWwuY29udGV4dEVsZW1lbnQgIT0gbnVsbCAmJiByZXNvbHZlZEFuY2hvckVsLmNvbnRleHRFbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoWydNVUk6IFRoZSBgYW5jaG9yRWxgIHByb3AgcHJvdmlkZWQgdG8gdGhlIGNvbXBvbmVudCBpcyBpbnZhbGlkLicsICdJdCBzaG91bGQgYmUgYW4gSFRNTCBlbGVtZW50IGluc3RhbmNlIG9yIGEgdmlydHVhbEVsZW1lbnQgJywgJyhodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi92aXJ0dWFsLWVsZW1lbnRzLykuJ10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSksXG4gIC8qKlxuICAgKiBQb3BwZXIgcmVuZGVyIGZ1bmN0aW9uIG9yIG5vZGUuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtQcm9wVHlwZXMubm9kZSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgLyoqXG4gICAqIEFuIEhUTUwgZWxlbWVudCBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgb25lLlxuICAgKiBUaGUgYGNvbnRhaW5lcmAgd2lsbCBoYXZlIHRoZSBwb3J0YWwgY2hpbGRyZW4gYXBwZW5kZWQgdG8gaXQuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIGl0IHVzZXMgdGhlIGJvZHkgb2YgdGhlIHRvcC1sZXZlbCBkb2N1bWVudCBvYmplY3QsXG4gICAqIHNvIGl0J3Mgc2ltcGx5IGBkb2N1bWVudC5ib2R5YCBtb3N0IG9mIHRoZSB0aW1lLlxuICAgKi9cbiAgY29udGFpbmVyOiBQcm9wVHlwZXMgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqLy5vbmVPZlR5cGUoW0hUTUxFbGVtZW50VHlwZSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgLyoqXG4gICAqIERpcmVjdGlvbiBvZiB0aGUgdGV4dC5cbiAgICogQGRlZmF1bHQgJ2x0cidcbiAgICovXG4gIGRpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnbHRyJywgJ3J0bCddKSxcbiAgLyoqXG4gICAqIFRoZSBgY2hpbGRyZW5gIHdpbGwgYmUgdW5kZXIgdGhlIERPTSBoaWVyYXJjaHkgb2YgdGhlIHBhcmVudCBjb21wb25lbnQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlUG9ydGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqXG4gICAqIEFsd2F5cyBrZWVwIHRoZSBjaGlsZHJlbiBpbiB0aGUgRE9NLlxuICAgKiBUaGlzIHByb3AgY2FuIGJlIHVzZWZ1bCBpbiBTRU8gc2l0dWF0aW9uIG9yXG4gICAqIHdoZW4geW91IHdhbnQgdG8gbWF4aW1pemUgdGhlIHJlc3BvbnNpdmVuZXNzIG9mIHRoZSBQb3BwZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBrZWVwTW91bnRlZDogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKlxuICAgKiBQb3BwZXIuanMgaXMgYmFzZWQgb24gYSBcInBsdWdpbi1saWtlXCIgYXJjaGl0ZWN0dXJlLFxuICAgKiBtb3N0IG9mIGl0cyBmZWF0dXJlcyBhcmUgZnVsbHkgZW5jYXBzdWxhdGVkIFwibW9kaWZpZXJzXCIuXG4gICAqXG4gICAqIEEgbW9kaWZpZXIgaXMgYSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBlYWNoIHRpbWUgUG9wcGVyLmpzIG5lZWRzIHRvXG4gICAqIGNvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIuXG4gICAqIEZvciB0aGlzIHJlYXNvbiwgbW9kaWZpZXJzIHNob3VsZCBiZSB2ZXJ5IHBlcmZvcm1hbnQgdG8gYXZvaWQgYm90dGxlbmVja3MuXG4gICAqIFRvIGxlYXJuIGhvdyB0byBjcmVhdGUgYSBtb2RpZmllciwgW3JlYWQgdGhlIG1vZGlmaWVycyBkb2N1bWVudGF0aW9uXShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi9tb2RpZmllcnMvKS5cbiAgICovXG4gIG1vZGlmaWVyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGVmZmVjdDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZW5hYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZm46IFByb3BUeXBlcy5mdW5jLFxuICAgIG5hbWU6IFByb3BUeXBlcy5hbnksXG4gICAgb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwaGFzZTogUHJvcFR5cGVzLm9uZU9mKFsnYWZ0ZXJNYWluJywgJ2FmdGVyUmVhZCcsICdhZnRlcldyaXRlJywgJ2JlZm9yZU1haW4nLCAnYmVmb3JlUmVhZCcsICdiZWZvcmVXcml0ZScsICdtYWluJywgJ3JlYWQnLCAnd3JpdGUnXSksXG4gICAgcmVxdWlyZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICAgIHJlcXVpcmVzSWZFeGlzdHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpXG4gIH0pKSxcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIC8qKlxuICAgKiBQb3BwZXIgcGxhY2VtZW50LlxuICAgKiBAZGVmYXVsdCAnYm90dG9tJ1xuICAgKi9cbiAgcGxhY2VtZW50OiBQcm9wVHlwZXMub25lT2YoWydhdXRvLWVuZCcsICdhdXRvLXN0YXJ0JywgJ2F1dG8nLCAnYm90dG9tLWVuZCcsICdib3R0b20tc3RhcnQnLCAnYm90dG9tJywgJ2xlZnQtZW5kJywgJ2xlZnQtc3RhcnQnLCAnbGVmdCcsICdyaWdodC1lbmQnLCAncmlnaHQtc3RhcnQnLCAncmlnaHQnLCAndG9wLWVuZCcsICd0b3Atc3RhcnQnLCAndG9wJ10pLFxuICAvKipcbiAgICogT3B0aW9ucyBwcm92aWRlZCB0byB0aGUgW2BQb3BwZXIuanNgXShodHRwczovL3BvcHBlci5qcy5vcmcvZG9jcy92Mi9jb25zdHJ1Y3RvcnMvI29wdGlvbnMpIGluc3RhbmNlLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgcG9wcGVyT3B0aW9uczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBtb2RpZmllcnM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBvbkZpcnN0VXBkYXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwbGFjZW1lbnQ6IFByb3BUeXBlcy5vbmVPZihbJ2F1dG8tZW5kJywgJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdib3R0b20tZW5kJywgJ2JvdHRvbS1zdGFydCcsICdib3R0b20nLCAnbGVmdC1lbmQnLCAnbGVmdC1zdGFydCcsICdsZWZ0JywgJ3JpZ2h0LWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICd0b3AtZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnXSksXG4gICAgc3RyYXRlZ3k6IFByb3BUeXBlcy5vbmVPZihbJ2Fic29sdXRlJywgJ2ZpeGVkJ10pXG4gIH0pLFxuICAvKipcbiAgICogQSByZWYgdGhhdCBwb2ludHMgdG8gdGhlIHVzZWQgcG9wcGVyIGluc3RhbmNlLlxuICAgKi9cbiAgcG9wcGVyUmVmOiByZWZUeXBlLFxuICAvKipcbiAgICogVGhlIHByb3BzIHVzZWQgZm9yIGVhY2ggc2xvdCBpbnNpZGUgdGhlIFBvcHBlci5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIHNsb3RQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICByb290OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH0pLFxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudHMgdXNlZCBmb3IgZWFjaCBzbG90IGluc2lkZSB0aGUgUG9wcGVyLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgc2xvdHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcm9vdDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlXG4gIH0pLFxuICAvKipcbiAgICogSGVscCBzdXBwb3J0aW5nIGEgcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9UcmFuc2l0aW9uIGNvbXBvbmVudC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRyYW5zaXRpb246IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IHsgUG9wcGVyIH07Il0sIm5hbWVzIjpbImdlbmVyYXRlVXRpbGl0eUNsYXNzIiwiZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyIsImdldFBvcHBlclV0aWxpdHlDbGFzcyIsInNsb3QiLCJwb3BwZXJDbGFzc2VzIiwiUmVhY3QiLCJqc3giLCJfanN4IiwiZGVmYXVsdENvbnRleHRWYWx1ZSIsImRpc2FibGVEZWZhdWx0Q2xhc3NlcyIsIkNsYXNzTmFtZUNvbmZpZ3VyYXRvckNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlQ2xhc3NOYW1lc092ZXJyaWRlIiwidXNlQ29udGV4dCIsIkNsYXNzTmFtZUNvbmZpZ3VyYXRvciIsInByb3BzIiwiY2hpbGRyZW4iLCJjb250ZXh0VmFsdWUiLCJ1c2VNZW1vIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIl9leHRlbmRzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJfZXhjbHVkZWQiLCJfZXhjbHVkZWQyIiwiY2hhaW5Qcm9wVHlwZXMiLCJIVE1MRWxlbWVudFR5cGUiLCJyZWZUeXBlIiwidW5zdGFibGVfb3duZXJEb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJ1bnN0YWJsZV91c2VFbmhhbmNlZEVmZmVjdCIsInVzZUVuaGFuY2VkRWZmZWN0IiwidW5zdGFibGVfdXNlRm9ya1JlZiIsInVzZUZvcmtSZWYiLCJjcmVhdGVQb3BwZXIiLCJQcm9wVHlwZXMiLCJ1bnN0YWJsZV9jb21wb3NlQ2xhc3NlcyIsImNvbXBvc2VDbGFzc2VzIiwiUG9ydGFsIiwidXNlU2xvdFByb3BzIiwiZmxpcFBsYWNlbWVudCIsInBsYWNlbWVudCIsImRpcmVjdGlvbiIsInJlc29sdmVBbmNob3JFbCIsImFuY2hvckVsIiwiaXNIVE1MRWxlbWVudCIsImVsZW1lbnQiLCJub2RlVHlwZSIsInVuZGVmaW5lZCIsImlzVmlydHVhbEVsZW1lbnQiLCJ1c2VVdGlsaXR5Q2xhc3NlcyIsInNsb3RzIiwicm9vdCIsImRlZmF1bHRQb3BwZXJPcHRpb25zIiwiUG9wcGVyVG9vbHRpcCIsImZvcndhcmRSZWYiLCJmb3J3YXJkZWRSZWYiLCJfc2xvdHMkcm9vdCIsImRpc2FibGVQb3J0YWwiLCJtb2RpZmllcnMiLCJvcGVuIiwiaW5pdGlhbFBsYWNlbWVudCIsInBvcHBlck9wdGlvbnMiLCJwb3BwZXJSZWYiLCJwb3BwZXJSZWZQcm9wIiwic2xvdFByb3BzIiwiVHJhbnNpdGlvblByb3BzIiwib3RoZXIiLCJ0b29sdGlwUmVmIiwidXNlUmVmIiwib3duUmVmIiwiaGFuZGxlUG9wcGVyUmVmIiwiaGFuZGxlUG9wcGVyUmVmUmVmIiwiY3VycmVudCIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJydGxQbGFjZW1lbnQiLCJzZXRQbGFjZW1lbnQiLCJ1c2VTdGF0ZSIsInJlc29sdmVkQW5jaG9yRWxlbWVudCIsInNldFJlc29sdmVkQW5jaG9yRWxlbWVudCIsInVzZUVmZmVjdCIsImZvcmNlVXBkYXRlIiwiaGFuZGxlUG9wcGVyVXBkYXRlIiwiZGF0YSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImNvbnNvbGUiLCJ3YXJuIiwiam9pbiIsInBvcHBlck1vZGlmaWVycyIsIm5hbWUiLCJvcHRpb25zIiwiYWx0Qm91bmRhcnkiLCJlbmFibGVkIiwicGhhc2UiLCJmbiIsInN0YXRlIiwiY29uY2F0IiwicG9wcGVyIiwiZGVzdHJveSIsImNoaWxkUHJvcHMiLCJjbGFzc2VzIiwiUm9vdCIsInJvb3RQcm9wcyIsImVsZW1lbnRUeXBlIiwiZXh0ZXJuYWxTbG90UHJvcHMiLCJleHRlcm5hbEZvcndhcmRlZFByb3BzIiwiYWRkaXRpb25hbFByb3BzIiwicm9sZSIsInJlZiIsIm93bmVyU3RhdGUiLCJjbGFzc05hbWUiLCJQb3BwZXIiLCJjb250YWluZXIiLCJjb250YWluZXJQcm9wIiwia2VlcE1vdW50ZWQiLCJzdHlsZSIsInRyYW5zaXRpb24iLCJleGl0ZWQiLCJzZXRFeGl0ZWQiLCJoYW5kbGVFbnRlciIsImhhbmRsZUV4aXRlZCIsInJlc29sdmVkQW5jaG9yRWwiLCJib2R5IiwiZGlzcGxheSIsInRyYW5zaXRpb25Qcm9wcyIsImluIiwib25FbnRlciIsIm9uRXhpdGVkIiwicG9zaXRpb24iLCJwcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJvYmplY3QiLCJmdW5jIiwiRXJyb3IiLCJjb250ZXh0RWxlbWVudCIsIm5vZGUiLCJvbmVPZiIsImJvb2wiLCJhcnJheU9mIiwic2hhcGUiLCJlZmZlY3QiLCJhbnkiLCJyZXF1aXJlcyIsInN0cmluZyIsInJlcXVpcmVzSWZFeGlzdHMiLCJpc1JlcXVpcmVkIiwiYXJyYXkiLCJvbkZpcnN0VXBkYXRlIiwic3RyYXRlZ3kiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7138\n")},4357:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   h: () => (/* binding */ Portal)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5466);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6116);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1433);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(704);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1750);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3823);\n\'use client\';\n\n\n\n\n\n\nfunction getContainer(container) {\n  return typeof container === \'function\' ? container() : container;\n}\n\n/**\n * Portals provide a first-class way to render children into a DOM node\n * that exists outside the DOM hierarchy of the parent component.\n *\n * Demos:\n *\n * - [Portal](https://mui.com/base-ui/react-portal/)\n *\n * API:\n *\n * - [Portal API](https://mui.com/base-ui/react-portal/components-api/#portal)\n */\nconst Portal = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function Portal(props, forwardedRef) {\n  const {\n    children,\n    container,\n    disablePortal = false\n  } = props;\n  const [mountNode, setMountNode] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null);\n  // @ts-expect-error TODO upstream fix\n  const handleRef = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children) ? children.ref : null, forwardedRef);\n  (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(() => {\n    if (!disablePortal) {\n      setMountNode(getContainer(container) || document.body);\n    }\n  }, [container, disablePortal]);\n  (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(() => {\n    if (mountNode && !disablePortal) {\n      (0,_mui_utils__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(forwardedRef, mountNode);\n      return () => {\n        (0,_mui_utils__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(forwardedRef, null);\n      };\n    }\n    return undefined;\n  }, [forwardedRef, mountNode, disablePortal]);\n  if (disablePortal) {\n    if ( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children)) {\n      const newProps = {\n        ref: handleRef\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children, newProps);\n    }\n    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      children: children\n    });\n  }\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n    children: mountNode ? /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(children, mountNode) : mountNode\n  });\n});\n false ? 0 : void 0;\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDM1Ny5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxZQUFZOztBQUVtQjtBQUNPO0FBQ0g7QUFDb0k7QUFDdkg7QUFDaEQsU0FBU2EsWUFBWUEsQ0FBQ0MsU0FBUyxFQUFFO0VBQy9CLE9BQU8sT0FBT0EsU0FBUyxLQUFLLFVBQVUsR0FBR0EsU0FBUyxDQUFDLENBQUMsR0FBR0EsU0FBUztBQUNsRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxNQUFNLEdBQUcsYUFBYWYsNkNBQWdCLENBQUMsU0FBU2UsTUFBTUEsQ0FBQ0UsS0FBSyxFQUFFQyxZQUFZLEVBQUU7RUFDaEYsTUFBTTtJQUNKQyxRQUFRO0lBQ1JMLFNBQVM7SUFDVE0sYUFBYSxHQUFHO0VBQ2xCLENBQUMsR0FBR0gsS0FBSztFQUNULE1BQU0sQ0FBQ0ksU0FBUyxFQUFFQyxZQUFZLENBQUMsR0FBR3RCLDJDQUFjLENBQUMsSUFBSSxDQUFDO0VBQ3REO0VBQ0EsTUFBTXdCLFNBQVMsR0FBR2hCLCtEQUFVLEVBQUUsYUFBYVIsaURBQW9CLENBQUNtQixRQUFRLENBQUMsR0FBR0EsUUFBUSxDQUFDTyxHQUFHLEdBQUcsSUFBSSxFQUFFUixZQUFZLENBQUM7RUFDOUdaLCtEQUFpQixDQUFDLE1BQU07SUFDdEIsSUFBSSxDQUFDYyxhQUFhLEVBQUU7TUFDbEJFLFlBQVksQ0FBQ1QsWUFBWSxDQUFDQyxTQUFTLENBQUMsSUFBSWEsUUFBUSxDQUFDQyxJQUFJLENBQUM7SUFDeEQ7RUFDRixDQUFDLEVBQUUsQ0FBQ2QsU0FBUyxFQUFFTSxhQUFhLENBQUMsQ0FBQztFQUM5QmQsK0RBQWlCLENBQUMsTUFBTTtJQUN0QixJQUFJZSxTQUFTLElBQUksQ0FBQ0QsYUFBYSxFQUFFO01BQy9CViwrREFBTSxDQUFDUSxZQUFZLEVBQUVHLFNBQVMsQ0FBQztNQUMvQixPQUFPLE1BQU07UUFDWFgsK0RBQU0sQ0FBQ1EsWUFBWSxFQUFFLElBQUksQ0FBQztNQUM1QixDQUFDO0lBQ0g7SUFDQSxPQUFPVyxTQUFTO0VBQ2xCLENBQUMsRUFBRSxDQUFDWCxZQUFZLEVBQUVHLFNBQVMsRUFBRUQsYUFBYSxDQUFDLENBQUM7RUFDNUMsSUFBSUEsYUFBYSxFQUFFO0lBQ2pCLEtBQUssYUFBYXBCLGlEQUFvQixDQUFDbUIsUUFBUSxDQUFDLEVBQUU7TUFDaEQsTUFBTVcsUUFBUSxHQUFHO1FBQ2ZKLEdBQUcsRUFBRUY7TUFDUCxDQUFDO01BQ0QsT0FBTyxhQUFheEIsK0NBQWtCLENBQUNtQixRQUFRLEVBQUVXLFFBQVEsQ0FBQztJQUM1RDtJQUNBLE9BQU8sYUFBYWxCLHNEQUFJLENBQUNaLDJDQUFjLEVBQUU7TUFDdkNtQixRQUFRLEVBQUVBO0lBQ1osQ0FBQyxDQUFDO0VBQ0o7RUFDQSxPQUFPLGFBQWFQLHNEQUFJLENBQUNaLDJDQUFjLEVBQUU7SUFDdkNtQixRQUFRLEVBQUVFLFNBQVMsR0FBRyxhQUFhcEIsbURBQXFCLENBQUNrQixRQUFRLEVBQUVFLFNBQVMsQ0FBQyxHQUFHQTtFQUNsRixDQUFDLENBQUM7QUFDSixDQUFDLENBQUM7QUFDRmEsTUFBcUMsR0FBR25CLENBc0J2QyxHQUFHLEtBQUssQ0FBQztBQUNWLElBQUltQixLQUFxQyxFQUFFLEVBRzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL1BvcnRhbC9Qb3J0YWwuanM/NjlhZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZXhhY3RQcm9wLCBIVE1MRWxlbWVudFR5cGUsIHVuc3RhYmxlX3VzZUVuaGFuY2VkRWZmZWN0IGFzIHVzZUVuaGFuY2VkRWZmZWN0LCB1bnN0YWJsZV91c2VGb3JrUmVmIGFzIHVzZUZvcmtSZWYsIHVuc3RhYmxlX3NldFJlZiBhcyBzZXRSZWYgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBnZXRDb250YWluZXIoY29udGFpbmVyKSB7XG4gIHJldHVybiB0eXBlb2YgY29udGFpbmVyID09PSAnZnVuY3Rpb24nID8gY29udGFpbmVyKCkgOiBjb250YWluZXI7XG59XG5cbi8qKlxuICogUG9ydGFscyBwcm92aWRlIGEgZmlyc3QtY2xhc3Mgd2F5IHRvIHJlbmRlciBjaGlsZHJlbiBpbnRvIGEgRE9NIG5vZGVcbiAqIHRoYXQgZXhpc3RzIG91dHNpZGUgdGhlIERPTSBoaWVyYXJjaHkgb2YgdGhlIHBhcmVudCBjb21wb25lbnQuXG4gKlxuICogRGVtb3M6XG4gKlxuICogLSBbUG9ydGFsXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1wb3J0YWwvKVxuICpcbiAqIEFQSTpcbiAqXG4gKiAtIFtQb3J0YWwgQVBJXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1wb3J0YWwvY29tcG9uZW50cy1hcGkvI3BvcnRhbClcbiAqL1xuY29uc3QgUG9ydGFsID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gUG9ydGFsKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNvbnRhaW5lcixcbiAgICBkaXNhYmxlUG9ydGFsID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbbW91bnROb2RlLCBzZXRNb3VudE5vZGVdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyB1cHN0cmVhbSBmaXhcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZiggLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IGNoaWxkcmVuLnJlZiA6IG51bGwsIGZvcndhcmRlZFJlZik7XG4gIHVzZUVuaGFuY2VkRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWRpc2FibGVQb3J0YWwpIHtcbiAgICAgIHNldE1vdW50Tm9kZShnZXRDb250YWluZXIoY29udGFpbmVyKSB8fCBkb2N1bWVudC5ib2R5KTtcbiAgICB9XG4gIH0sIFtjb250YWluZXIsIGRpc2FibGVQb3J0YWxdKTtcbiAgdXNlRW5oYW5jZWRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtb3VudE5vZGUgJiYgIWRpc2FibGVQb3J0YWwpIHtcbiAgICAgIHNldFJlZihmb3J3YXJkZWRSZWYsIG1vdW50Tm9kZSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzZXRSZWYoZm9yd2FyZGVkUmVmLCBudWxsKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtmb3J3YXJkZWRSZWYsIG1vdW50Tm9kZSwgZGlzYWJsZVBvcnRhbF0pO1xuICBpZiAoZGlzYWJsZVBvcnRhbCkge1xuICAgIGlmICggLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgICAgY29uc3QgbmV3UHJvcHMgPSB7XG4gICAgICAgIHJlZjogaGFuZGxlUmVmXG4gICAgICB9O1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIG5ld1Byb3BzKTtcbiAgICB9XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goUmVhY3QuRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogbW91bnROb2RlID8gLyojX19QVVJFX18qL1JlYWN0RE9NLmNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgbW91bnROb2RlKSA6IG1vdW50Tm9kZVxuICB9KTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gUG9ydGFsLnByb3BUeXBlcyAvKiByZW1vdmUtcHJvcHR5cGVzICovID0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCBUeXBlU2NyaXB0IHR5cGVzIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyoqXG4gICAqIFRoZSBjaGlsZHJlbiB0byByZW5kZXIgaW50byB0aGUgYGNvbnRhaW5lcmAuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIC8qKlxuICAgKiBBbiBIVE1MIGVsZW1lbnQgb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIG9uZS5cbiAgICogVGhlIGBjb250YWluZXJgIHdpbGwgaGF2ZSB0aGUgcG9ydGFsIGNoaWxkcmVuIGFwcGVuZGVkIHRvIGl0LlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBpdCB1c2VzIHRoZSBib2R5IG9mIHRoZSB0b3AtbGV2ZWwgZG9jdW1lbnQgb2JqZWN0LFxuICAgKiBzbyBpdCdzIHNpbXBseSBgZG9jdW1lbnQuYm9keWAgbW9zdCBvZiB0aGUgdGltZS5cbiAgICovXG4gIGNvbnRhaW5lcjogUHJvcFR5cGVzIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi8ub25lT2ZUeXBlKFtIVE1MRWxlbWVudFR5cGUsIFByb3BUeXBlcy5mdW5jXSksXG4gIC8qKlxuICAgKiBUaGUgYGNoaWxkcmVuYCB3aWxsIGJlIHVuZGVyIHRoZSBET00gaGllcmFyY2h5IG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVBvcnRhbDogUHJvcFR5cGVzLmJvb2xcbn0gOiB2b2lkIDA7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgUG9ydGFsWydwcm9wVHlwZXMnICsgJyddID0gZXhhY3RQcm9wKFBvcnRhbC5wcm9wVHlwZXMpO1xufVxuZXhwb3J0IHsgUG9ydGFsIH07Il0sIm5hbWVzIjpbIlJlYWN0IiwiUmVhY3RET00iLCJQcm9wVHlwZXMiLCJleGFjdFByb3AiLCJIVE1MRWxlbWVudFR5cGUiLCJ1bnN0YWJsZV91c2VFbmhhbmNlZEVmZmVjdCIsInVzZUVuaGFuY2VkRWZmZWN0IiwidW5zdGFibGVfdXNlRm9ya1JlZiIsInVzZUZvcmtSZWYiLCJ1bnN0YWJsZV9zZXRSZWYiLCJzZXRSZWYiLCJqc3giLCJfanN4IiwiZ2V0Q29udGFpbmVyIiwiY29udGFpbmVyIiwiUG9ydGFsIiwiZm9yd2FyZFJlZiIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwiY2hpbGRyZW4iLCJkaXNhYmxlUG9ydGFsIiwibW91bnROb2RlIiwic2V0TW91bnROb2RlIiwidXNlU3RhdGUiLCJoYW5kbGVSZWYiLCJpc1ZhbGlkRWxlbWVudCIsInJlZiIsImRvY3VtZW50IiwiYm9keSIsInVuZGVmaW5lZCIsIm5ld1Byb3BzIiwiY2xvbmVFbGVtZW50IiwiRnJhZ21lbnQiLCJjcmVhdGVQb3J0YWwiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJwcm9wVHlwZXMiLCJub2RlIiwib25lT2ZUeXBlIiwiZnVuYyIsImJvb2wiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4357\n')},3775:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   u: () => (/* binding */ TextareaAutosize)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(3123);\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7958);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5466);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6116);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1433);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2413);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5712);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(704);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3823);\n'use client';\n\n\n\nconst _excluded = [\"onChange\", \"maxRows\", \"minRows\", \"style\", \"value\"];\n\n\n\n\n\n\nfunction getStyleValue(value) {\n  return parseInt(value, 10) || 0;\n}\nconst styles = {\n  shadow: {\n    // Visibility needed to hide the extra text area on iPads\n    visibility: 'hidden',\n    // Remove from the content flow\n    position: 'absolute',\n    // Ignore the scrollbar width\n    overflow: 'hidden',\n    height: 0,\n    top: 0,\n    left: 0,\n    // Create a new layer, increase the isolation of the computed values\n    transform: 'translateZ(0)'\n  }\n};\nfunction isEmpty(obj) {\n  return obj === undefined || obj === null || Object.keys(obj).length === 0 || obj.outerHeightStyle === 0 && !obj.overflow;\n}\n\n/**\n *\n * Demos:\n *\n * - [Textarea Autosize](https://mui.com/base-ui/react-textarea-autosize/)\n * - [Textarea Autosize](https://mui.com/material-ui/react-textarea-autosize/)\n *\n * API:\n *\n * - [TextareaAutosize API](https://mui.com/base-ui/react-textarea-autosize/components-api/#textarea-autosize)\n */\nconst TextareaAutosize = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function TextareaAutosize(props, forwardedRef) {\n  const {\n      onChange,\n      maxRows,\n      minRows = 1,\n      style,\n      value\n    } = props,\n    other = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(props, _excluded);\n  const {\n    current: isControlled\n  } = react__WEBPACK_IMPORTED_MODULE_0__.useRef(value != null);\n  const inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const handleRef = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(forwardedRef, inputRef);\n  const shadowRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const renders = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n  const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    outerHeightStyle: 0\n  });\n  const getUpdatedState = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    const input = inputRef.current;\n    const containerWindow = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .Z)(input);\n    const computedStyle = containerWindow.getComputedStyle(input);\n\n    // If input's width is shrunk and it's not visible, don't sync height.\n    if (computedStyle.width === '0px') {\n      return {\n        outerHeightStyle: 0\n      };\n    }\n    const inputShallow = shadowRef.current;\n    inputShallow.style.width = computedStyle.width;\n    inputShallow.value = input.value || props.placeholder || 'x';\n    if (inputShallow.value.slice(-1) === '\\n') {\n      // Certain fonts which overflow the line height will cause the textarea\n      // to report a different scrollHeight depending on whether the last line\n      // is empty. Make it non-empty to avoid this issue.\n      inputShallow.value += ' ';\n    }\n    const boxSizing = computedStyle.boxSizing;\n    const padding = getStyleValue(computedStyle.paddingBottom) + getStyleValue(computedStyle.paddingTop);\n    const border = getStyleValue(computedStyle.borderBottomWidth) + getStyleValue(computedStyle.borderTopWidth);\n\n    // The height of the inner content\n    const innerHeight = inputShallow.scrollHeight;\n\n    // Measure height of a textarea with a single row\n    inputShallow.value = 'x';\n    const singleRowHeight = inputShallow.scrollHeight;\n\n    // The height of the outer content\n    let outerHeight = innerHeight;\n    if (minRows) {\n      outerHeight = Math.max(Number(minRows) * singleRowHeight, outerHeight);\n    }\n    if (maxRows) {\n      outerHeight = Math.min(Number(maxRows) * singleRowHeight, outerHeight);\n    }\n    outerHeight = Math.max(outerHeight, singleRowHeight);\n\n    // Take the box sizing into account for applying this value as a style.\n    const outerHeightStyle = outerHeight + (boxSizing === 'border-box' ? padding + border : 0);\n    const overflow = Math.abs(outerHeight - innerHeight) <= 1;\n    return {\n      outerHeightStyle,\n      overflow\n    };\n  }, [maxRows, minRows, props.placeholder]);\n  const updateState = (prevState, newState) => {\n    const {\n      outerHeightStyle,\n      overflow\n    } = newState;\n    // Need a large enough difference to update the height.\n    // This prevents infinite rendering loop.\n    if (renders.current < 20 && (outerHeightStyle > 0 && Math.abs((prevState.outerHeightStyle || 0) - outerHeightStyle) > 1 || prevState.overflow !== overflow)) {\n      renders.current += 1;\n      return {\n        overflow,\n        outerHeightStyle\n      };\n    }\n    if (false) {}\n    return prevState;\n  };\n  const syncHeight = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    const newState = getUpdatedState();\n    if (isEmpty(newState)) {\n      return;\n    }\n    setState(prevState => {\n      return updateState(prevState, newState);\n    });\n  }, [getUpdatedState]);\n  const syncHeightWithFlushSync = () => {\n    const newState = getUpdatedState();\n    if (isEmpty(newState)) {\n      return;\n    }\n\n    // In React 18, state updates in a ResizeObserver's callback are happening after the paint which causes flickering\n    // when doing some visual updates in it. Using flushSync ensures that the dom will be painted after the states updates happen\n    // Related issue - https://github.com/facebook/react/issues/24331\n    react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync(() => {\n      setState(prevState => {\n        return updateState(prevState, newState);\n      });\n    });\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const handleResize = () => {\n      renders.current = 0;\n\n      // If the TextareaAutosize component is replaced by Suspense with a fallback, the last\n      // ResizeObserver's handler that runs because of the change in the layout is trying to\n      // access a dom node that is no longer there (as the fallback component is being shown instead).\n      // See https://github.com/mui/material-ui/issues/32640\n      if (inputRef.current) {\n        syncHeightWithFlushSync();\n      }\n    };\n    const handleResizeWindow = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z)(() => {\n      renders.current = 0;\n\n      // If the TextareaAutosize component is replaced by Suspense with a fallback, the last\n      // ResizeObserver's handler that runs because of the change in the layout is trying to\n      // access a dom node that is no longer there (as the fallback component is being shown instead).\n      // See https://github.com/mui/material-ui/issues/32640\n      if (inputRef.current) {\n        syncHeightWithFlushSync();\n      }\n    });\n    let resizeObserver;\n    const input = inputRef.current;\n    const containerWindow = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .Z)(input);\n    containerWindow.addEventListener('resize', handleResizeWindow);\n    if (typeof ResizeObserver !== 'undefined') {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(input);\n    }\n    return () => {\n      handleResizeWindow.clear();\n      containerWindow.removeEventListener('resize', handleResizeWindow);\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    };\n  });\n  (0,_mui_utils__WEBPACK_IMPORTED_MODULE_7__/* [\"default\"] */ .Z)(() => {\n    syncHeight();\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    renders.current = 0;\n  }, [value]);\n  const handleChange = event => {\n    renders.current = 0;\n    if (!isControlled) {\n      syncHeight();\n    }\n    if (onChange) {\n      onChange(event);\n    }\n  };\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"textarea\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .Z)({\n      value: value,\n      onChange: handleChange,\n      ref: handleRef\n      // Apply the rows prop to get a \"correct\" first SSR paint\n      ,\n\n      rows: minRows,\n      style: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .Z)({\n        height: state.outerHeightStyle,\n        // Need a large enough difference to allow scrolling.\n        // This prevents infinite rendering loop.\n        overflow: state.overflow ? 'hidden' : undefined\n      }, style)\n    }, other)), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"textarea\", {\n      \"aria-hidden\": true,\n      className: props.className,\n      readOnly: true,\n      ref: shadowRef,\n      tabIndex: -1,\n      style: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .Z)({}, styles.shadow, style, {\n        paddingTop: 0,\n        paddingBottom: 0\n      })\n    })]\n  });\n});\n false ? 0 : void 0;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxDQUFDNUIsUUFBUSxHQUFHLFFBQVEsR0FBR087TUFDeEMsQ0FBQyxFQUFFWSxLQUFLO0lBQ1YsQ0FBQyxFQUFFQyxLQUFLLENBQUMsQ0FBQyxFQUFFLGFBQWE5QixzREFBSSxDQUFDLFVBQVUsRUFBRTtNQUN4QyxhQUFhLEVBQUUsSUFBSTtNQUNuQitGLFNBQVMsRUFBRXZFLEtBQUssQ0FBQ3VFLFNBQVM7TUFDMUJDLFFBQVEsRUFBRSxJQUFJO01BQ2RILEdBQUcsRUFBRXpELFNBQVM7TUFDZDZELFFBQVEsRUFBRSxDQUFDLENBQUM7TUFDWnBFLEtBQUssRUFBRTVDLHVGQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUVxQixNQUFNLENBQUNDLE1BQU0sRUFBRXNCLEtBQUssRUFBRTtRQUN4Q3lCLFVBQVUsRUFBRSxDQUFDO1FBQ2JELGFBQWEsRUFBRTtNQUNqQixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBQ0ZpQixNQUFxQyxHQUFHaEQsQ0FrQ3ZDLEdBQUcsS0FBSyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL1RleHRhcmVhQXV0b3NpemUvVGV4dGFyZWFBdXRvc2l6ZS5qcz82MDY4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcIm9uQ2hhbmdlXCIsIFwibWF4Um93c1wiLCBcIm1pblJvd3NcIiwgXCJzdHlsZVwiLCBcInZhbHVlXCJdO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyB1bnN0YWJsZV9kZWJvdW5jZSBhcyBkZWJvdW5jZSwgdW5zdGFibGVfdXNlRm9ya1JlZiBhcyB1c2VGb3JrUmVmLCB1bnN0YWJsZV91c2VFbmhhbmNlZEVmZmVjdCBhcyB1c2VFbmhhbmNlZEVmZmVjdCwgdW5zdGFibGVfb3duZXJXaW5kb3cgYXMgb3duZXJXaW5kb3cgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBnZXRTdHlsZVZhbHVlKHZhbHVlKSB7XG4gIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApIHx8IDA7XG59XG5jb25zdCBzdHlsZXMgPSB7XG4gIHNoYWRvdzoge1xuICAgIC8vIFZpc2liaWxpdHkgbmVlZGVkIHRvIGhpZGUgdGhlIGV4dHJhIHRleHQgYXJlYSBvbiBpUGFkc1xuICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgIC8vIFJlbW92ZSBmcm9tIHRoZSBjb250ZW50IGZsb3dcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAvLyBJZ25vcmUgdGhlIHNjcm9sbGJhciB3aWR0aFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBoZWlnaHQ6IDAsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGxheWVyLCBpbmNyZWFzZSB0aGUgaXNvbGF0aW9uIG9mIHRoZSBjb21wdXRlZCB2YWx1ZXNcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVaKDApJ1xuICB9XG59O1xuZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbCB8fCBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCB8fCBvYmoub3V0ZXJIZWlnaHRTdHlsZSA9PT0gMCAmJiAhb2JqLm92ZXJmbG93O1xufVxuXG4vKipcbiAqXG4gKiBEZW1vczpcbiAqXG4gKiAtIFtUZXh0YXJlYSBBdXRvc2l6ZV0oaHR0cHM6Ly9tdWkuY29tL2Jhc2UtdWkvcmVhY3QtdGV4dGFyZWEtYXV0b3NpemUvKVxuICogLSBbVGV4dGFyZWEgQXV0b3NpemVdKGh0dHBzOi8vbXVpLmNvbS9tYXRlcmlhbC11aS9yZWFjdC10ZXh0YXJlYS1hdXRvc2l6ZS8pXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW1RleHRhcmVhQXV0b3NpemUgQVBJXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC10ZXh0YXJlYS1hdXRvc2l6ZS9jb21wb25lbnRzLWFwaS8jdGV4dGFyZWEtYXV0b3NpemUpXG4gKi9cbmNvbnN0IFRleHRhcmVhQXV0b3NpemUgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBUZXh0YXJlYUF1dG9zaXplKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3Qge1xuICAgICAgb25DaGFuZ2UsXG4gICAgICBtYXhSb3dzLFxuICAgICAgbWluUm93cyA9IDEsXG4gICAgICBzdHlsZSxcbiAgICAgIHZhbHVlXG4gICAgfSA9IHByb3BzLFxuICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCk7XG4gIGNvbnN0IHtcbiAgICBjdXJyZW50OiBpc0NvbnRyb2xsZWRcbiAgfSA9IFJlYWN0LnVzZVJlZih2YWx1ZSAhPSBudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYoZm9yd2FyZGVkUmVmLCBpbnB1dFJlZik7XG4gIGNvbnN0IHNoYWRvd1JlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgcmVuZGVycyA9IFJlYWN0LnVzZVJlZigwKTtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgb3V0ZXJIZWlnaHRTdHlsZTogMFxuICB9KTtcbiAgY29uc3QgZ2V0VXBkYXRlZFN0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICBjb25zdCBjb250YWluZXJXaW5kb3cgPSBvd25lcldpbmRvdyhpbnB1dCk7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGNvbnRhaW5lcldpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGlucHV0KTtcblxuICAgIC8vIElmIGlucHV0J3Mgd2lkdGggaXMgc2hydW5rIGFuZCBpdCdzIG5vdCB2aXNpYmxlLCBkb24ndCBzeW5jIGhlaWdodC5cbiAgICBpZiAoY29tcHV0ZWRTdHlsZS53aWR0aCA9PT0gJzBweCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG91dGVySGVpZ2h0U3R5bGU6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGlucHV0U2hhbGxvdyA9IHNoYWRvd1JlZi5jdXJyZW50O1xuICAgIGlucHV0U2hhbGxvdy5zdHlsZS53aWR0aCA9IGNvbXB1dGVkU3R5bGUud2lkdGg7XG4gICAgaW5wdXRTaGFsbG93LnZhbHVlID0gaW5wdXQudmFsdWUgfHwgcHJvcHMucGxhY2Vob2xkZXIgfHwgJ3gnO1xuICAgIGlmIChpbnB1dFNoYWxsb3cudmFsdWUuc2xpY2UoLTEpID09PSAnXFxuJykge1xuICAgICAgLy8gQ2VydGFpbiBmb250cyB3aGljaCBvdmVyZmxvdyB0aGUgbGluZSBoZWlnaHQgd2lsbCBjYXVzZSB0aGUgdGV4dGFyZWFcbiAgICAgIC8vIHRvIHJlcG9ydCBhIGRpZmZlcmVudCBzY3JvbGxIZWlnaHQgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGxhc3QgbGluZVxuICAgICAgLy8gaXMgZW1wdHkuIE1ha2UgaXQgbm9uLWVtcHR5IHRvIGF2b2lkIHRoaXMgaXNzdWUuXG4gICAgICBpbnB1dFNoYWxsb3cudmFsdWUgKz0gJyAnO1xuICAgIH1cbiAgICBjb25zdCBib3hTaXppbmcgPSBjb21wdXRlZFN0eWxlLmJveFNpemluZztcbiAgICBjb25zdCBwYWRkaW5nID0gZ2V0U3R5bGVWYWx1ZShjb21wdXRlZFN0eWxlLnBhZGRpbmdCb3R0b20pICsgZ2V0U3R5bGVWYWx1ZShjb21wdXRlZFN0eWxlLnBhZGRpbmdUb3ApO1xuICAgIGNvbnN0IGJvcmRlciA9IGdldFN0eWxlVmFsdWUoY29tcHV0ZWRTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgKyBnZXRTdHlsZVZhbHVlKGNvbXB1dGVkU3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuXG4gICAgLy8gVGhlIGhlaWdodCBvZiB0aGUgaW5uZXIgY29udGVudFxuICAgIGNvbnN0IGlubmVySGVpZ2h0ID0gaW5wdXRTaGFsbG93LnNjcm9sbEhlaWdodDtcblxuICAgIC8vIE1lYXN1cmUgaGVpZ2h0IG9mIGEgdGV4dGFyZWEgd2l0aCBhIHNpbmdsZSByb3dcbiAgICBpbnB1dFNoYWxsb3cudmFsdWUgPSAneCc7XG4gICAgY29uc3Qgc2luZ2xlUm93SGVpZ2h0ID0gaW5wdXRTaGFsbG93LnNjcm9sbEhlaWdodDtcblxuICAgIC8vIFRoZSBoZWlnaHQgb2YgdGhlIG91dGVyIGNvbnRlbnRcbiAgICBsZXQgb3V0ZXJIZWlnaHQgPSBpbm5lckhlaWdodDtcbiAgICBpZiAobWluUm93cykge1xuICAgICAgb3V0ZXJIZWlnaHQgPSBNYXRoLm1heChOdW1iZXIobWluUm93cykgKiBzaW5nbGVSb3dIZWlnaHQsIG91dGVySGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKG1heFJvd3MpIHtcbiAgICAgIG91dGVySGVpZ2h0ID0gTWF0aC5taW4oTnVtYmVyKG1heFJvd3MpICogc2luZ2xlUm93SGVpZ2h0LCBvdXRlckhlaWdodCk7XG4gICAgfVxuICAgIG91dGVySGVpZ2h0ID0gTWF0aC5tYXgob3V0ZXJIZWlnaHQsIHNpbmdsZVJvd0hlaWdodCk7XG5cbiAgICAvLyBUYWtlIHRoZSBib3ggc2l6aW5nIGludG8gYWNjb3VudCBmb3IgYXBwbHlpbmcgdGhpcyB2YWx1ZSBhcyBhIHN0eWxlLlxuICAgIGNvbnN0IG91dGVySGVpZ2h0U3R5bGUgPSBvdXRlckhlaWdodCArIChib3hTaXppbmcgPT09ICdib3JkZXItYm94JyA/IHBhZGRpbmcgKyBib3JkZXIgOiAwKTtcbiAgICBjb25zdCBvdmVyZmxvdyA9IE1hdGguYWJzKG91dGVySGVpZ2h0IC0gaW5uZXJIZWlnaHQpIDw9IDE7XG4gICAgcmV0dXJuIHtcbiAgICAgIG91dGVySGVpZ2h0U3R5bGUsXG4gICAgICBvdmVyZmxvd1xuICAgIH07XG4gIH0sIFttYXhSb3dzLCBtaW5Sb3dzLCBwcm9wcy5wbGFjZWhvbGRlcl0pO1xuICBjb25zdCB1cGRhdGVTdGF0ZSA9IChwcmV2U3RhdGUsIG5ld1N0YXRlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3V0ZXJIZWlnaHRTdHlsZSxcbiAgICAgIG92ZXJmbG93XG4gICAgfSA9IG5ld1N0YXRlO1xuICAgIC8vIE5lZWQgYSBsYXJnZSBlbm91Z2ggZGlmZmVyZW5jZSB0byB1cGRhdGUgdGhlIGhlaWdodC5cbiAgICAvLyBUaGlzIHByZXZlbnRzIGluZmluaXRlIHJlbmRlcmluZyBsb29wLlxuICAgIGlmIChyZW5kZXJzLmN1cnJlbnQgPCAyMCAmJiAob3V0ZXJIZWlnaHRTdHlsZSA+IDAgJiYgTWF0aC5hYnMoKHByZXZTdGF0ZS5vdXRlckhlaWdodFN0eWxlIHx8IDApIC0gb3V0ZXJIZWlnaHRTdHlsZSkgPiAxIHx8IHByZXZTdGF0ZS5vdmVyZmxvdyAhPT0gb3ZlcmZsb3cpKSB7XG4gICAgICByZW5kZXJzLmN1cnJlbnQgKz0gMTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG92ZXJmbG93LFxuICAgICAgICBvdXRlckhlaWdodFN0eWxlXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHJlbmRlcnMuY3VycmVudCA9PT0gMjApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihbJ01VSTogVG9vIG1hbnkgcmUtcmVuZGVycy4gVGhlIGxheW91dCBpcyB1bnN0YWJsZS4nLCAnVGV4dGFyZWFBdXRvc2l6ZSBsaW1pdHMgdGhlIG51bWJlciBvZiByZW5kZXJzIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcC4nXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH07XG4gIGNvbnN0IHN5bmNIZWlnaHQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSBnZXRVcGRhdGVkU3RhdGUoKTtcbiAgICBpZiAoaXNFbXB0eShuZXdTdGF0ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U3RhdGUocHJldlN0YXRlID0+IHtcbiAgICAgIHJldHVybiB1cGRhdGVTdGF0ZShwcmV2U3RhdGUsIG5ld1N0YXRlKTtcbiAgICB9KTtcbiAgfSwgW2dldFVwZGF0ZWRTdGF0ZV0pO1xuICBjb25zdCBzeW5jSGVpZ2h0V2l0aEZsdXNoU3luYyA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IGdldFVwZGF0ZWRTdGF0ZSgpO1xuICAgIGlmIChpc0VtcHR5KG5ld1N0YXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluIFJlYWN0IDE4LCBzdGF0ZSB1cGRhdGVzIGluIGEgUmVzaXplT2JzZXJ2ZXIncyBjYWxsYmFjayBhcmUgaGFwcGVuaW5nIGFmdGVyIHRoZSBwYWludCB3aGljaCBjYXVzZXMgZmxpY2tlcmluZ1xuICAgIC8vIHdoZW4gZG9pbmcgc29tZSB2aXN1YWwgdXBkYXRlcyBpbiBpdC4gVXNpbmcgZmx1c2hTeW5jIGVuc3VyZXMgdGhhdCB0aGUgZG9tIHdpbGwgYmUgcGFpbnRlZCBhZnRlciB0aGUgc3RhdGVzIHVwZGF0ZXMgaGFwcGVuXG4gICAgLy8gUmVsYXRlZCBpc3N1ZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjQzMzFcbiAgICBSZWFjdERPTS5mbHVzaFN5bmMoKCkgPT4ge1xuICAgICAgc2V0U3RhdGUocHJldlN0YXRlID0+IHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN0YXRlKHByZXZTdGF0ZSwgbmV3U3RhdGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgcmVuZGVycy5jdXJyZW50ID0gMDtcblxuICAgICAgLy8gSWYgdGhlIFRleHRhcmVhQXV0b3NpemUgY29tcG9uZW50IGlzIHJlcGxhY2VkIGJ5IFN1c3BlbnNlIHdpdGggYSBmYWxsYmFjaywgdGhlIGxhc3RcbiAgICAgIC8vIFJlc2l6ZU9ic2VydmVyJ3MgaGFuZGxlciB0aGF0IHJ1bnMgYmVjYXVzZSBvZiB0aGUgY2hhbmdlIGluIHRoZSBsYXlvdXQgaXMgdHJ5aW5nIHRvXG4gICAgICAvLyBhY2Nlc3MgYSBkb20gbm9kZSB0aGF0IGlzIG5vIGxvbmdlciB0aGVyZSAoYXMgdGhlIGZhbGxiYWNrIGNvbXBvbmVudCBpcyBiZWluZyBzaG93biBpbnN0ZWFkKS5cbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL2lzc3Vlcy8zMjY0MFxuICAgICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgc3luY0hlaWdodFdpdGhGbHVzaFN5bmMoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZVdpbmRvdyA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIHJlbmRlcnMuY3VycmVudCA9IDA7XG5cbiAgICAgIC8vIElmIHRoZSBUZXh0YXJlYUF1dG9zaXplIGNvbXBvbmVudCBpcyByZXBsYWNlZCBieSBTdXNwZW5zZSB3aXRoIGEgZmFsbGJhY2ssIHRoZSBsYXN0XG4gICAgICAvLyBSZXNpemVPYnNlcnZlcidzIGhhbmRsZXIgdGhhdCBydW5zIGJlY2F1c2Ugb2YgdGhlIGNoYW5nZSBpbiB0aGUgbGF5b3V0IGlzIHRyeWluZyB0b1xuICAgICAgLy8gYWNjZXNzIGEgZG9tIG5vZGUgdGhhdCBpcyBubyBsb25nZXIgdGhlcmUgKGFzIHRoZSBmYWxsYmFjayBjb21wb25lbnQgaXMgYmVpbmcgc2hvd24gaW5zdGVhZCkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9pc3N1ZXMvMzI2NDBcbiAgICAgIGlmIChpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHN5bmNIZWlnaHRXaXRoRmx1c2hTeW5jKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IHJlc2l6ZU9ic2VydmVyO1xuICAgIGNvbnN0IGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICBjb25zdCBjb250YWluZXJXaW5kb3cgPSBvd25lcldpbmRvdyhpbnB1dCk7XG4gICAgY29udGFpbmVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZVdpbmRvdyk7XG4gICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGhhbmRsZVJlc2l6ZSk7XG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGlucHV0KTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGhhbmRsZVJlc2l6ZVdpbmRvdy5jbGVhcigpO1xuICAgICAgY29udGFpbmVyV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZVdpbmRvdyk7XG4gICAgICBpZiAocmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgc3luY0hlaWdodCgpO1xuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZW5kZXJzLmN1cnJlbnQgPSAwO1xuICB9LCBbdmFsdWVdKTtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHJlbmRlcnMuY3VycmVudCA9IDA7XG4gICAgaWYgKCFpc0NvbnRyb2xsZWQpIHtcbiAgICAgIHN5bmNIZWlnaHQoKTtcbiAgICB9XG4gICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICBvbkNoYW5nZShldmVudCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFJlYWN0LkZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInRleHRhcmVhXCIsIF9leHRlbmRzKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICByZWY6IGhhbmRsZVJlZlxuICAgICAgLy8gQXBwbHkgdGhlIHJvd3MgcHJvcCB0byBnZXQgYSBcImNvcnJlY3RcIiBmaXJzdCBTU1IgcGFpbnRcbiAgICAgICxcbiAgICAgIHJvd3M6IG1pblJvd3MsXG4gICAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgICBoZWlnaHQ6IHN0YXRlLm91dGVySGVpZ2h0U3R5bGUsXG4gICAgICAgIC8vIE5lZWQgYSBsYXJnZSBlbm91Z2ggZGlmZmVyZW5jZSB0byBhbGxvdyBzY3JvbGxpbmcuXG4gICAgICAgIC8vIFRoaXMgcHJldmVudHMgaW5maW5pdGUgcmVuZGVyaW5nIGxvb3AuXG4gICAgICAgIG92ZXJmbG93OiBzdGF0ZS5vdmVyZmxvdyA/ICdoaWRkZW4nIDogdW5kZWZpbmVkXG4gICAgICB9LCBzdHlsZSlcbiAgICB9LCBvdGhlcikpLCAvKiNfX1BVUkVfXyovX2pzeChcInRleHRhcmVhXCIsIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgIGNsYXNzTmFtZTogcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICByZWY6IHNoYWRvd1JlZixcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgc3R5bGVzLnNoYWRvdywgc3R5bGUsIHtcbiAgICAgICAgcGFkZGluZ1RvcDogMCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogMFxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRleHRhcmVhQXV0b3NpemUucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IFR5cGVTY3JpcHQgdHlwZXMgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKipcbiAgICogTWF4aW11bSBudW1iZXIgb2Ygcm93cyB0byBkaXNwbGF5LlxuICAgKi9cbiAgbWF4Um93czogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAvKipcbiAgICogTWluaW11bSBudW1iZXIgb2Ygcm93cyB0byBkaXNwbGF5LlxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBtaW5Sb3dzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBwbGFjZWhvbGRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdmFsdWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgeyBUZXh0YXJlYUF1dG9zaXplIH07Il0sIm5hbWVzIjpbIl9leHRlbmRzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJfZXhjbHVkZWQiLCJSZWFjdCIsIlByb3BUeXBlcyIsIlJlYWN0RE9NIiwidW5zdGFibGVfZGVib3VuY2UiLCJkZWJvdW5jZSIsInVuc3RhYmxlX3VzZUZvcmtSZWYiLCJ1c2VGb3JrUmVmIiwidW5zdGFibGVfdXNlRW5oYW5jZWRFZmZlY3QiLCJ1c2VFbmhhbmNlZEVmZmVjdCIsInVuc3RhYmxlX293bmVyV2luZG93Iiwib3duZXJXaW5kb3ciLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiZ2V0U3R5bGVWYWx1ZSIsInZhbHVlIiwicGFyc2VJbnQiLCJzdHlsZXMiLCJzaGFkb3ciLCJ2aXNpYmlsaXR5IiwicG9zaXRpb24iLCJvdmVyZmxvdyIsImhlaWdodCIsInRvcCIsImxlZnQiLCJ0cmFuc2Zvcm0iLCJpc0VtcHR5Iiwib2JqIiwidW5kZWZpbmVkIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsIm91dGVySGVpZ2h0U3R5bGUiLCJUZXh0YXJlYUF1dG9zaXplIiwiZm9yd2FyZFJlZiIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwib25DaGFuZ2UiLCJtYXhSb3dzIiwibWluUm93cyIsInN0eWxlIiwib3RoZXIiLCJjdXJyZW50IiwiaXNDb250cm9sbGVkIiwidXNlUmVmIiwiaW5wdXRSZWYiLCJoYW5kbGVSZWYiLCJzaGFkb3dSZWYiLCJyZW5kZXJzIiwic3RhdGUiLCJzZXRTdGF0ZSIsInVzZVN0YXRlIiwiZ2V0VXBkYXRlZFN0YXRlIiwidXNlQ2FsbGJhY2siLCJpbnB1dCIsImNvbnRhaW5lcldpbmRvdyIsImNvbXB1dGVkU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwid2lkdGgiLCJpbnB1dFNoYWxsb3ciLCJwbGFjZWhvbGRlciIsInNsaWNlIiwiYm94U2l6aW5nIiwicGFkZGluZyIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nVG9wIiwiYm9yZGVyIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3JkZXJUb3BXaWR0aCIsImlubmVySGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0Iiwic2luZ2xlUm93SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJNYXRoIiwibWF4IiwiTnVtYmVyIiwibWluIiwiYWJzIiwidXBkYXRlU3RhdGUiLCJwcmV2U3RhdGUiLCJuZXdTdGF0ZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbnNvbGUiLCJlcnJvciIsImpvaW4iLCJzeW5jSGVpZ2h0Iiwic3luY0hlaWdodFdpdGhGbHVzaFN5bmMiLCJmbHVzaFN5bmMiLCJ1c2VFZmZlY3QiLCJoYW5kbGVSZXNpemUiLCJoYW5kbGVSZXNpemVXaW5kb3ciLCJyZXNpemVPYnNlcnZlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmUiLCJjbGVhciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwiaGFuZGxlQ2hhbmdlIiwiZXZlbnQiLCJGcmFnbWVudCIsImNoaWxkcmVuIiwicmVmIiwicm93cyIsImNsYXNzTmFtZSIsInJlYWRPbmx5IiwidGFiSW5kZXgiLCJwcm9wVHlwZXMiLCJzdHJpbmciLCJvbmVPZlR5cGUiLCJudW1iZXIiLCJmdW5jIiwib2JqZWN0IiwiYXJyYXlPZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3775\n")},401:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  d: () => (/* binding */ useModal)\n});\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(3123);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(5466);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useForkRef/useForkRef.js\nvar useForkRef = __webpack_require__(1433);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/ownerDocument/ownerDocument.js\nvar ownerDocument = __webpack_require__(5923);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useEventCallback/useEventCallback.js\nvar useEventCallback = __webpack_require__(6728);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/createChainedFunction.js\nvar createChainedFunction = __webpack_require__(5280);\n// EXTERNAL MODULE: ./node_modules/@mui/base/utils/extractEventHandlers.js\nvar extractEventHandlers = __webpack_require__(7531);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/ownerWindow/ownerWindow.js\nvar ownerWindow = __webpack_require__(2413);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/getScrollbarSize.js\nvar getScrollbarSize = __webpack_require__(1467);\n;// CONCATENATED MODULE: ./node_modules/@mui/base/unstable_useModal/ModalManager.js\n\n// Is a vertical scrollbar displayed?\nfunction isOverflowing(container) {\n  const doc = (0,ownerDocument/* default */.Z)(container);\n  if (doc.body === container) {\n    return (0,ownerWindow/* default */.Z)(container).innerWidth > doc.documentElement.clientWidth;\n  }\n  return container.scrollHeight > container.clientHeight;\n}\nfunction ariaHidden(element, show) {\n  if (show) {\n    element.setAttribute('aria-hidden', 'true');\n  } else {\n    element.removeAttribute('aria-hidden');\n  }\n}\nfunction getPaddingRight(element) {\n  return parseInt((0,ownerWindow/* default */.Z)(element).getComputedStyle(element).paddingRight, 10) || 0;\n}\nfunction isAriaHiddenForbiddenOnElement(element) {\n  // The forbidden HTML tags are the ones from ARIA specification that\n  // can be children of body and can't have aria-hidden attribute.\n  // cf. https://www.w3.org/TR/html-aria/#docconformance\n  const forbiddenTagNames = ['TEMPLATE', 'SCRIPT', 'STYLE', 'LINK', 'MAP', 'META', 'NOSCRIPT', 'PICTURE', 'COL', 'COLGROUP', 'PARAM', 'SLOT', 'SOURCE', 'TRACK'];\n  const isForbiddenTagName = forbiddenTagNames.indexOf(element.tagName) !== -1;\n  const isInputHidden = element.tagName === 'INPUT' && element.getAttribute('type') === 'hidden';\n  return isForbiddenTagName || isInputHidden;\n}\nfunction ariaHiddenSiblings(container, mountElement, currentElement, elementsToExclude, show) {\n  const blacklist = [mountElement, currentElement, ...elementsToExclude];\n  [].forEach.call(container.children, element => {\n    const isNotExcludedElement = blacklist.indexOf(element) === -1;\n    const isNotForbiddenElement = !isAriaHiddenForbiddenOnElement(element);\n    if (isNotExcludedElement && isNotForbiddenElement) {\n      ariaHidden(element, show);\n    }\n  });\n}\nfunction findIndexOf(items, callback) {\n  let idx = -1;\n  items.some((item, index) => {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n    return false;\n  });\n  return idx;\n}\nfunction handleContainer(containerInfo, props) {\n  const restoreStyle = [];\n  const container = containerInfo.container;\n  if (!props.disableScrollLock) {\n    if (isOverflowing(container)) {\n      // Compute the size before applying overflow hidden to avoid any scroll jumps.\n      const scrollbarSize = (0,getScrollbarSize/* default */.Z)((0,ownerDocument/* default */.Z)(container));\n      restoreStyle.push({\n        value: container.style.paddingRight,\n        property: 'padding-right',\n        el: container\n      });\n      // Use computed style, here to get the real padding to add our scrollbar width.\n      container.style.paddingRight = `${getPaddingRight(container) + scrollbarSize}px`;\n\n      // .mui-fixed is a global helper.\n      const fixedElements = (0,ownerDocument/* default */.Z)(container).querySelectorAll('.mui-fixed');\n      [].forEach.call(fixedElements, element => {\n        restoreStyle.push({\n          value: element.style.paddingRight,\n          property: 'padding-right',\n          el: element\n        });\n        element.style.paddingRight = `${getPaddingRight(element) + scrollbarSize}px`;\n      });\n    }\n    let scrollContainer;\n    if (container.parentNode instanceof DocumentFragment) {\n      scrollContainer = (0,ownerDocument/* default */.Z)(container).body;\n    } else {\n      // Support html overflow-y: auto for scroll stability between pages\n      // https://css-tricks.com/snippets/css/force-vertical-scrollbar/\n      const parent = container.parentElement;\n      const containerWindow = (0,ownerWindow/* default */.Z)(container);\n      scrollContainer = (parent == null ? void 0 : parent.nodeName) === 'HTML' && containerWindow.getComputedStyle(parent).overflowY === 'scroll' ? parent : container;\n    }\n\n    // Block the scroll even if no scrollbar is visible to account for mobile keyboard\n    // screensize shrink.\n    restoreStyle.push({\n      value: scrollContainer.style.overflow,\n      property: 'overflow',\n      el: scrollContainer\n    }, {\n      value: scrollContainer.style.overflowX,\n      property: 'overflow-x',\n      el: scrollContainer\n    }, {\n      value: scrollContainer.style.overflowY,\n      property: 'overflow-y',\n      el: scrollContainer\n    });\n    scrollContainer.style.overflow = 'hidden';\n  }\n  const restore = () => {\n    restoreStyle.forEach(({\n      value,\n      el,\n      property\n    }) => {\n      if (value) {\n        el.style.setProperty(property, value);\n      } else {\n        el.style.removeProperty(property);\n      }\n    });\n  };\n  return restore;\n}\nfunction getHiddenSiblings(container) {\n  const hiddenSiblings = [];\n  [].forEach.call(container.children, element => {\n    if (element.getAttribute('aria-hidden') === 'true') {\n      hiddenSiblings.push(element);\n    }\n  });\n  return hiddenSiblings;\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\nclass ModalManager {\n  constructor() {\n    this.containers = void 0;\n    this.modals = void 0;\n    this.modals = [];\n    this.containers = [];\n  }\n  add(modal, container) {\n    let modalIndex = this.modals.indexOf(modal);\n    if (modalIndex !== -1) {\n      return modalIndex;\n    }\n    modalIndex = this.modals.length;\n    this.modals.push(modal);\n\n    // If the modal we are adding is already in the DOM.\n    if (modal.modalRef) {\n      ariaHidden(modal.modalRef, false);\n    }\n    const hiddenSiblings = getHiddenSiblings(container);\n    ariaHiddenSiblings(container, modal.mount, modal.modalRef, hiddenSiblings, true);\n    const containerIndex = findIndexOf(this.containers, item => item.container === container);\n    if (containerIndex !== -1) {\n      this.containers[containerIndex].modals.push(modal);\n      return modalIndex;\n    }\n    this.containers.push({\n      modals: [modal],\n      container,\n      restore: null,\n      hiddenSiblings\n    });\n    return modalIndex;\n  }\n  mount(modal, props) {\n    const containerIndex = findIndexOf(this.containers, item => item.modals.indexOf(modal) !== -1);\n    const containerInfo = this.containers[containerIndex];\n    if (!containerInfo.restore) {\n      containerInfo.restore = handleContainer(containerInfo, props);\n    }\n  }\n  remove(modal, ariaHiddenState = true) {\n    const modalIndex = this.modals.indexOf(modal);\n    if (modalIndex === -1) {\n      return modalIndex;\n    }\n    const containerIndex = findIndexOf(this.containers, item => item.modals.indexOf(modal) !== -1);\n    const containerInfo = this.containers[containerIndex];\n    containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n    this.modals.splice(modalIndex, 1);\n\n    // If that was the last modal in a container, clean up the container.\n    if (containerInfo.modals.length === 0) {\n      // The modal might be closed before it had the chance to be mounted in the DOM.\n      if (containerInfo.restore) {\n        containerInfo.restore();\n      }\n      if (modal.modalRef) {\n        // In case the modal wasn't in the DOM yet.\n        ariaHidden(modal.modalRef, ariaHiddenState);\n      }\n      ariaHiddenSiblings(containerInfo.container, modal.mount, modal.modalRef, containerInfo.hiddenSiblings, false);\n      this.containers.splice(containerIndex, 1);\n    } else {\n      // Otherwise make sure the next top modal is visible to a screen reader.\n      const nextTop = containerInfo.modals[containerInfo.modals.length - 1];\n      // as soon as a modal is adding its modalRef is undefined. it can't set\n      // aria-hidden because the dom element doesn't exist either\n      // when modal was unmounted before modalRef gets null\n      if (nextTop.modalRef) {\n        ariaHidden(nextTop.modalRef, false);\n      }\n    }\n    return modalIndex;\n  }\n  isTopModal(modal) {\n    return this.modals.length > 0 && this.modals[this.modals.length - 1] === modal;\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@mui/base/unstable_useModal/useModal.js\n'use client';\n\n\n\n\n\n\nfunction getContainer(container) {\n  return typeof container === 'function' ? container() : container;\n}\nfunction getHasTransition(children) {\n  return children ? children.props.hasOwnProperty('in') : false;\n}\n\n// A modal manager used to track and manage the state of open Modals.\n// Modals don't open on the server so this won't conflict with concurrent requests.\nconst defaultManager = new ModalManager();\n/**\n *\n * Demos:\n *\n * - [Modal](https://mui.com/base-ui/react-modal/#hook)\n *\n * API:\n *\n * - [useModal API](https://mui.com/base-ui/react-modal/hooks-api/#use-modal)\n */\nfunction useModal(parameters) {\n  const {\n    container,\n    disableEscapeKeyDown = false,\n    disableScrollLock = false,\n    // @ts-ignore internal logic - Base UI supports the manager as a prop too\n    manager = defaultManager,\n    closeAfterTransition = false,\n    onTransitionEnter,\n    onTransitionExited,\n    children,\n    onClose,\n    open,\n    rootRef\n  } = parameters;\n\n  // @ts-ignore internal logic\n  const modal = react.useRef({});\n  const mountNodeRef = react.useRef(null);\n  const modalRef = react.useRef(null);\n  const handleRef = (0,useForkRef/* default */.Z)(modalRef, rootRef);\n  const [exited, setExited] = react.useState(!open);\n  const hasTransition = getHasTransition(children);\n  let ariaHiddenProp = true;\n  if (parameters['aria-hidden'] === 'false' || parameters['aria-hidden'] === false) {\n    ariaHiddenProp = false;\n  }\n  const getDoc = () => (0,ownerDocument/* default */.Z)(mountNodeRef.current);\n  const getModal = () => {\n    modal.current.modalRef = modalRef.current;\n    modal.current.mount = mountNodeRef.current;\n    return modal.current;\n  };\n  const handleMounted = () => {\n    manager.mount(getModal(), {\n      disableScrollLock\n    });\n\n    // Fix a bug on Chrome where the scroll isn't initially 0.\n    if (modalRef.current) {\n      modalRef.current.scrollTop = 0;\n    }\n  };\n  const handleOpen = (0,useEventCallback/* default */.Z)(() => {\n    const resolvedContainer = getContainer(container) || getDoc().body;\n    manager.add(getModal(), resolvedContainer);\n\n    // The element was already mounted.\n    if (modalRef.current) {\n      handleMounted();\n    }\n  });\n  const isTopModal = react.useCallback(() => manager.isTopModal(getModal()), [manager]);\n  const handlePortalRef = (0,useEventCallback/* default */.Z)(node => {\n    mountNodeRef.current = node;\n    if (!node) {\n      return;\n    }\n    if (open && isTopModal()) {\n      handleMounted();\n    } else if (modalRef.current) {\n      ariaHidden(modalRef.current, ariaHiddenProp);\n    }\n  });\n  const handleClose = react.useCallback(() => {\n    manager.remove(getModal(), ariaHiddenProp);\n  }, [ariaHiddenProp, manager]);\n  react.useEffect(() => {\n    return () => {\n      handleClose();\n    };\n  }, [handleClose]);\n  react.useEffect(() => {\n    if (open) {\n      handleOpen();\n    } else if (!hasTransition || !closeAfterTransition) {\n      handleClose();\n    }\n  }, [open, handleClose, hasTransition, closeAfterTransition, handleOpen]);\n  const createHandleKeyDown = otherHandlers => event => {\n    var _otherHandlers$onKeyD;\n    (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null || _otherHandlers$onKeyD.call(otherHandlers, event);\n\n    // The handler doesn't take event.defaultPrevented into account:\n    //\n    // event.preventDefault() is meant to stop default behaviors like\n    // clicking a checkbox to check it, hitting a button to submit a form,\n    // and hitting left arrow to move the cursor in a text input etc.\n    // Only special HTML elements have these default behaviors.\n    if (event.key !== 'Escape' || !isTopModal()) {\n      return;\n    }\n    if (!disableEscapeKeyDown) {\n      // Swallow the event, in case someone is listening for the escape key on the body.\n      event.stopPropagation();\n      if (onClose) {\n        onClose(event, 'escapeKeyDown');\n      }\n    }\n  };\n  const createHandleBackdropClick = otherHandlers => event => {\n    var _otherHandlers$onClic;\n    (_otherHandlers$onClic = otherHandlers.onClick) == null || _otherHandlers$onClic.call(otherHandlers, event);\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n    if (onClose) {\n      onClose(event, 'backdropClick');\n    }\n  };\n  const getRootProps = (otherHandlers = {}) => {\n    const propsEventHandlers = (0,extractEventHandlers/* extractEventHandlers */._)(parameters);\n\n    // The custom event handlers shouldn't be spread on the root element\n    delete propsEventHandlers.onTransitionEnter;\n    delete propsEventHandlers.onTransitionExited;\n    const externalEventHandlers = (0,esm_extends/* default */.Z)({}, propsEventHandlers, otherHandlers);\n    return (0,esm_extends/* default */.Z)({\n      role: 'presentation'\n    }, externalEventHandlers, {\n      onKeyDown: createHandleKeyDown(externalEventHandlers),\n      ref: handleRef\n    });\n  };\n  const getBackdropProps = (otherHandlers = {}) => {\n    const externalEventHandlers = otherHandlers;\n    return (0,esm_extends/* default */.Z)({\n      'aria-hidden': true\n    }, externalEventHandlers, {\n      onClick: createHandleBackdropClick(externalEventHandlers),\n      open\n    });\n  };\n  const getTransitionProps = () => {\n    const handleEnter = () => {\n      setExited(false);\n      if (onTransitionEnter) {\n        onTransitionEnter();\n      }\n    };\n    const handleExited = () => {\n      setExited(true);\n      if (onTransitionExited) {\n        onTransitionExited();\n      }\n      if (closeAfterTransition) {\n        handleClose();\n      }\n    };\n    return {\n      onEnter: (0,createChainedFunction/* default */.Z)(handleEnter, children == null ? void 0 : children.props.onEnter),\n      onExited: (0,createChainedFunction/* default */.Z)(handleExited, children == null ? void 0 : children.props.onExited)\n    };\n  };\n  return {\n    getRootProps,\n    getBackdropProps,\n    getTransitionProps,\n    rootRef: handleRef,\n    portalRef: handlePortalRef,\n    isTopModal,\n    exited,\n    hasTransition\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixlQUFlO0lBQzFCeEMsVUFBVTtJQUNWMkIsTUFBTTtJQUNORztFQUNGLENBQUM7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2VsZGVyLWJvb2tzLWZlLy4vbm9kZV9tb2R1bGVzL0BtdWkvYmFzZS91bnN0YWJsZV91c2VNb2RhbC9Nb2RhbE1hbmFnZXIuanM/YWM1ZSIsIndlYnBhY2s6Ly9lbGRlci1ib29rcy1mZS8uL25vZGVfbW9kdWxlcy9AbXVpL2Jhc2UvdW5zdGFibGVfdXNlTW9kYWwvdXNlTW9kYWwuanM/ZWFiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1bnN0YWJsZV9vd25lcldpbmRvdyBhcyBvd25lcldpbmRvdywgdW5zdGFibGVfb3duZXJEb2N1bWVudCBhcyBvd25lckRvY3VtZW50LCB1bnN0YWJsZV9nZXRTY3JvbGxiYXJTaXplIGFzIGdldFNjcm9sbGJhclNpemUgfSBmcm9tICdAbXVpL3V0aWxzJztcbi8vIElzIGEgdmVydGljYWwgc2Nyb2xsYmFyIGRpc3BsYXllZD9cbmZ1bmN0aW9uIGlzT3ZlcmZsb3dpbmcoY29udGFpbmVyKSB7XG4gIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQoY29udGFpbmVyKTtcbiAgaWYgKGRvYy5ib2R5ID09PSBjb250YWluZXIpIHtcbiAgICByZXR1cm4gb3duZXJXaW5kb3coY29udGFpbmVyKS5pbm5lcldpZHRoID4gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyLnNjcm9sbEhlaWdodCA+IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJpYUhpZGRlbihlbGVtZW50LCBzaG93KSB7XG4gIGlmIChzaG93KSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0UGFkZGluZ1JpZ2h0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIHBhcnNlSW50KG93bmVyV2luZG93KGVsZW1lbnQpLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucGFkZGluZ1JpZ2h0LCAxMCkgfHwgMDtcbn1cbmZ1bmN0aW9uIGlzQXJpYUhpZGRlbkZvcmJpZGRlbk9uRWxlbWVudChlbGVtZW50KSB7XG4gIC8vIFRoZSBmb3JiaWRkZW4gSFRNTCB0YWdzIGFyZSB0aGUgb25lcyBmcm9tIEFSSUEgc3BlY2lmaWNhdGlvbiB0aGF0XG4gIC8vIGNhbiBiZSBjaGlsZHJlbiBvZiBib2R5IGFuZCBjYW4ndCBoYXZlIGFyaWEtaGlkZGVuIGF0dHJpYnV0ZS5cbiAgLy8gY2YuIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sLWFyaWEvI2RvY2NvbmZvcm1hbmNlXG4gIGNvbnN0IGZvcmJpZGRlblRhZ05hbWVzID0gWydURU1QTEFURScsICdTQ1JJUFQnLCAnU1RZTEUnLCAnTElOSycsICdNQVAnLCAnTUVUQScsICdOT1NDUklQVCcsICdQSUNUVVJFJywgJ0NPTCcsICdDT0xHUk9VUCcsICdQQVJBTScsICdTTE9UJywgJ1NPVVJDRScsICdUUkFDSyddO1xuICBjb25zdCBpc0ZvcmJpZGRlblRhZ05hbWUgPSBmb3JiaWRkZW5UYWdOYW1lcy5pbmRleE9mKGVsZW1lbnQudGFnTmFtZSkgIT09IC0xO1xuICBjb25zdCBpc0lucHV0SGlkZGVuID0gZWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdoaWRkZW4nO1xuICByZXR1cm4gaXNGb3JiaWRkZW5UYWdOYW1lIHx8IGlzSW5wdXRIaWRkZW47XG59XG5mdW5jdGlvbiBhcmlhSGlkZGVuU2libGluZ3MoY29udGFpbmVyLCBtb3VudEVsZW1lbnQsIGN1cnJlbnRFbGVtZW50LCBlbGVtZW50c1RvRXhjbHVkZSwgc2hvdykge1xuICBjb25zdCBibGFja2xpc3QgPSBbbW91bnRFbGVtZW50LCBjdXJyZW50RWxlbWVudCwgLi4uZWxlbWVudHNUb0V4Y2x1ZGVdO1xuICBbXS5mb3JFYWNoLmNhbGwoY29udGFpbmVyLmNoaWxkcmVuLCBlbGVtZW50ID0+IHtcbiAgICBjb25zdCBpc05vdEV4Y2x1ZGVkRWxlbWVudCA9IGJsYWNrbGlzdC5pbmRleE9mKGVsZW1lbnQpID09PSAtMTtcbiAgICBjb25zdCBpc05vdEZvcmJpZGRlbkVsZW1lbnQgPSAhaXNBcmlhSGlkZGVuRm9yYmlkZGVuT25FbGVtZW50KGVsZW1lbnQpO1xuICAgIGlmIChpc05vdEV4Y2x1ZGVkRWxlbWVudCAmJiBpc05vdEZvcmJpZGRlbkVsZW1lbnQpIHtcbiAgICAgIGFyaWFIaWRkZW4oZWxlbWVudCwgc2hvdyk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGZpbmRJbmRleE9mKGl0ZW1zLCBjYWxsYmFjaykge1xuICBsZXQgaWR4ID0gLTE7XG4gIGl0ZW1zLnNvbWUoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKGl0ZW0pKSB7XG4gICAgICBpZHggPSBpbmRleDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICByZXR1cm4gaWR4O1xufVxuZnVuY3Rpb24gaGFuZGxlQ29udGFpbmVyKGNvbnRhaW5lckluZm8sIHByb3BzKSB7XG4gIGNvbnN0IHJlc3RvcmVTdHlsZSA9IFtdO1xuICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJJbmZvLmNvbnRhaW5lcjtcbiAgaWYgKCFwcm9wcy5kaXNhYmxlU2Nyb2xsTG9jaykge1xuICAgIGlmIChpc092ZXJmbG93aW5nKGNvbnRhaW5lcikpIHtcbiAgICAgIC8vIENvbXB1dGUgdGhlIHNpemUgYmVmb3JlIGFwcGx5aW5nIG92ZXJmbG93IGhpZGRlbiB0byBhdm9pZCBhbnkgc2Nyb2xsIGp1bXBzLlxuICAgICAgY29uc3Qgc2Nyb2xsYmFyU2l6ZSA9IGdldFNjcm9sbGJhclNpemUob3duZXJEb2N1bWVudChjb250YWluZXIpKTtcbiAgICAgIHJlc3RvcmVTdHlsZS5wdXNoKHtcbiAgICAgICAgdmFsdWU6IGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nUmlnaHQsXG4gICAgICAgIHByb3BlcnR5OiAncGFkZGluZy1yaWdodCcsXG4gICAgICAgIGVsOiBjb250YWluZXJcbiAgICAgIH0pO1xuICAgICAgLy8gVXNlIGNvbXB1dGVkIHN0eWxlLCBoZXJlIHRvIGdldCB0aGUgcmVhbCBwYWRkaW5nIHRvIGFkZCBvdXIgc2Nyb2xsYmFyIHdpZHRoLlxuICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IGAke2dldFBhZGRpbmdSaWdodChjb250YWluZXIpICsgc2Nyb2xsYmFyU2l6ZX1weGA7XG5cbiAgICAgIC8vIC5tdWktZml4ZWQgaXMgYSBnbG9iYWwgaGVscGVyLlxuICAgICAgY29uc3QgZml4ZWRFbGVtZW50cyA9IG93bmVyRG9jdW1lbnQoY29udGFpbmVyKS5xdWVyeVNlbGVjdG9yQWxsKCcubXVpLWZpeGVkJyk7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoZml4ZWRFbGVtZW50cywgZWxlbWVudCA9PiB7XG4gICAgICAgIHJlc3RvcmVTdHlsZS5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQsXG4gICAgICAgICAgcHJvcGVydHk6ICdwYWRkaW5nLXJpZ2h0JyxcbiAgICAgICAgICBlbDogZWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBgJHtnZXRQYWRkaW5nUmlnaHQoZWxlbWVudCkgKyBzY3JvbGxiYXJTaXplfXB4YDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc2Nyb2xsQ29udGFpbmVyO1xuICAgIGlmIChjb250YWluZXIucGFyZW50Tm9kZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgIHNjcm9sbENvbnRhaW5lciA9IG93bmVyRG9jdW1lbnQoY29udGFpbmVyKS5ib2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdXBwb3J0IGh0bWwgb3ZlcmZsb3cteTogYXV0byBmb3Igc2Nyb2xsIHN0YWJpbGl0eSBiZXR3ZWVuIHBhZ2VzXG4gICAgICAvLyBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2Nzcy9mb3JjZS12ZXJ0aWNhbC1zY3JvbGxiYXIvXG4gICAgICBjb25zdCBwYXJlbnQgPSBjb250YWluZXIucGFyZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IGNvbnRhaW5lcldpbmRvdyA9IG93bmVyV2luZG93KGNvbnRhaW5lcik7XG4gICAgICBzY3JvbGxDb250YWluZXIgPSAocGFyZW50ID09IG51bGwgPyB2b2lkIDAgOiBwYXJlbnQubm9kZU5hbWUpID09PSAnSFRNTCcgJiYgY29udGFpbmVyV2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KS5vdmVyZmxvd1kgPT09ICdzY3JvbGwnID8gcGFyZW50IDogY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8vIEJsb2NrIHRoZSBzY3JvbGwgZXZlbiBpZiBubyBzY3JvbGxiYXIgaXMgdmlzaWJsZSB0byBhY2NvdW50IGZvciBtb2JpbGUga2V5Ym9hcmRcbiAgICAvLyBzY3JlZW5zaXplIHNocmluay5cbiAgICByZXN0b3JlU3R5bGUucHVzaCh7XG4gICAgICB2YWx1ZTogc2Nyb2xsQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93LFxuICAgICAgcHJvcGVydHk6ICdvdmVyZmxvdycsXG4gICAgICBlbDogc2Nyb2xsQ29udGFpbmVyXG4gICAgfSwge1xuICAgICAgdmFsdWU6IHNjcm9sbENvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1gsXG4gICAgICBwcm9wZXJ0eTogJ292ZXJmbG93LXgnLFxuICAgICAgZWw6IHNjcm9sbENvbnRhaW5lclxuICAgIH0sIHtcbiAgICAgIHZhbHVlOiBzY3JvbGxDb250YWluZXIuc3R5bGUub3ZlcmZsb3dZLFxuICAgICAgcHJvcGVydHk6ICdvdmVyZmxvdy15JyxcbiAgICAgIGVsOiBzY3JvbGxDb250YWluZXJcbiAgICB9KTtcbiAgICBzY3JvbGxDb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgfVxuICBjb25zdCByZXN0b3JlID0gKCkgPT4ge1xuICAgIHJlc3RvcmVTdHlsZS5mb3JFYWNoKCh7XG4gICAgICB2YWx1ZSxcbiAgICAgIGVsLFxuICAgICAgcHJvcGVydHlcbiAgICB9KSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZWwuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHJlc3RvcmU7XG59XG5mdW5jdGlvbiBnZXRIaWRkZW5TaWJsaW5ncyhjb250YWluZXIpIHtcbiAgY29uc3QgaGlkZGVuU2libGluZ3MgPSBbXTtcbiAgW10uZm9yRWFjaC5jYWxsKGNvbnRhaW5lci5jaGlsZHJlbiwgZWxlbWVudCA9PiB7XG4gICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpID09PSAndHJ1ZScpIHtcbiAgICAgIGhpZGRlblNpYmxpbmdzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhpZGRlblNpYmxpbmdzO1xufVxuLyoqXG4gKiBAaWdub3JlIC0gZG8gbm90IGRvY3VtZW50LlxuICpcbiAqIFByb3BlciBzdGF0ZSBtYW5hZ2VtZW50IGZvciBjb250YWluZXJzIGFuZCB0aGUgbW9kYWxzIGluIHRob3NlIGNvbnRhaW5lcnMuXG4gKiBTaW1wbGlmaWVkLCBidXQgaW5zcGlyZWQgYnkgcmVhY3Qtb3ZlcmxheSdzIE1vZGFsTWFuYWdlciBjbGFzcy5cbiAqIFVzZWQgYnkgdGhlIE1vZGFsIHRvIGVuc3VyZSBwcm9wZXIgc3R5bGluZyBvZiBjb250YWluZXJzLlxuICovXG5leHBvcnQgY2xhc3MgTW9kYWxNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb250YWluZXJzID0gdm9pZCAwO1xuICAgIHRoaXMubW9kYWxzID0gdm9pZCAwO1xuICAgIHRoaXMubW9kYWxzID0gW107XG4gICAgdGhpcy5jb250YWluZXJzID0gW107XG4gIH1cbiAgYWRkKG1vZGFsLCBjb250YWluZXIpIHtcbiAgICBsZXQgbW9kYWxJbmRleCA9IHRoaXMubW9kYWxzLmluZGV4T2YobW9kYWwpO1xuICAgIGlmIChtb2RhbEluZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIG1vZGFsSW5kZXg7XG4gICAgfVxuICAgIG1vZGFsSW5kZXggPSB0aGlzLm1vZGFscy5sZW5ndGg7XG4gICAgdGhpcy5tb2RhbHMucHVzaChtb2RhbCk7XG5cbiAgICAvLyBJZiB0aGUgbW9kYWwgd2UgYXJlIGFkZGluZyBpcyBhbHJlYWR5IGluIHRoZSBET00uXG4gICAgaWYgKG1vZGFsLm1vZGFsUmVmKSB7XG4gICAgICBhcmlhSGlkZGVuKG1vZGFsLm1vZGFsUmVmLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IGhpZGRlblNpYmxpbmdzID0gZ2V0SGlkZGVuU2libGluZ3MoY29udGFpbmVyKTtcbiAgICBhcmlhSGlkZGVuU2libGluZ3MoY29udGFpbmVyLCBtb2RhbC5tb3VudCwgbW9kYWwubW9kYWxSZWYsIGhpZGRlblNpYmxpbmdzLCB0cnVlKTtcbiAgICBjb25zdCBjb250YWluZXJJbmRleCA9IGZpbmRJbmRleE9mKHRoaXMuY29udGFpbmVycywgaXRlbSA9PiBpdGVtLmNvbnRhaW5lciA9PT0gY29udGFpbmVyKTtcbiAgICBpZiAoY29udGFpbmVySW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lcnNbY29udGFpbmVySW5kZXhdLm1vZGFscy5wdXNoKG1vZGFsKTtcbiAgICAgIHJldHVybiBtb2RhbEluZGV4O1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lcnMucHVzaCh7XG4gICAgICBtb2RhbHM6IFttb2RhbF0sXG4gICAgICBjb250YWluZXIsXG4gICAgICByZXN0b3JlOiBudWxsLFxuICAgICAgaGlkZGVuU2libGluZ3NcbiAgICB9KTtcbiAgICByZXR1cm4gbW9kYWxJbmRleDtcbiAgfVxuICBtb3VudChtb2RhbCwgcHJvcHMpIHtcbiAgICBjb25zdCBjb250YWluZXJJbmRleCA9IGZpbmRJbmRleE9mKHRoaXMuY29udGFpbmVycywgaXRlbSA9PiBpdGVtLm1vZGFscy5pbmRleE9mKG1vZGFsKSAhPT0gLTEpO1xuICAgIGNvbnN0IGNvbnRhaW5lckluZm8gPSB0aGlzLmNvbnRhaW5lcnNbY29udGFpbmVySW5kZXhdO1xuICAgIGlmICghY29udGFpbmVySW5mby5yZXN0b3JlKSB7XG4gICAgICBjb250YWluZXJJbmZvLnJlc3RvcmUgPSBoYW5kbGVDb250YWluZXIoY29udGFpbmVySW5mbywgcHJvcHMpO1xuICAgIH1cbiAgfVxuICByZW1vdmUobW9kYWwsIGFyaWFIaWRkZW5TdGF0ZSA9IHRydWUpIHtcbiAgICBjb25zdCBtb2RhbEluZGV4ID0gdGhpcy5tb2RhbHMuaW5kZXhPZihtb2RhbCk7XG4gICAgaWYgKG1vZGFsSW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gbW9kYWxJbmRleDtcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVySW5kZXggPSBmaW5kSW5kZXhPZih0aGlzLmNvbnRhaW5lcnMsIGl0ZW0gPT4gaXRlbS5tb2RhbHMuaW5kZXhPZihtb2RhbCkgIT09IC0xKTtcbiAgICBjb25zdCBjb250YWluZXJJbmZvID0gdGhpcy5jb250YWluZXJzW2NvbnRhaW5lckluZGV4XTtcbiAgICBjb250YWluZXJJbmZvLm1vZGFscy5zcGxpY2UoY29udGFpbmVySW5mby5tb2RhbHMuaW5kZXhPZihtb2RhbCksIDEpO1xuICAgIHRoaXMubW9kYWxzLnNwbGljZShtb2RhbEluZGV4LCAxKTtcblxuICAgIC8vIElmIHRoYXQgd2FzIHRoZSBsYXN0IG1vZGFsIGluIGEgY29udGFpbmVyLCBjbGVhbiB1cCB0aGUgY29udGFpbmVyLlxuICAgIGlmIChjb250YWluZXJJbmZvLm1vZGFscy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFRoZSBtb2RhbCBtaWdodCBiZSBjbG9zZWQgYmVmb3JlIGl0IGhhZCB0aGUgY2hhbmNlIHRvIGJlIG1vdW50ZWQgaW4gdGhlIERPTS5cbiAgICAgIGlmIChjb250YWluZXJJbmZvLnJlc3RvcmUpIHtcbiAgICAgICAgY29udGFpbmVySW5mby5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgICBpZiAobW9kYWwubW9kYWxSZWYpIHtcbiAgICAgICAgLy8gSW4gY2FzZSB0aGUgbW9kYWwgd2Fzbid0IGluIHRoZSBET00geWV0LlxuICAgICAgICBhcmlhSGlkZGVuKG1vZGFsLm1vZGFsUmVmLCBhcmlhSGlkZGVuU3RhdGUpO1xuICAgICAgfVxuICAgICAgYXJpYUhpZGRlblNpYmxpbmdzKGNvbnRhaW5lckluZm8uY29udGFpbmVyLCBtb2RhbC5tb3VudCwgbW9kYWwubW9kYWxSZWYsIGNvbnRhaW5lckluZm8uaGlkZGVuU2libGluZ3MsIGZhbHNlKTtcbiAgICAgIHRoaXMuY29udGFpbmVycy5zcGxpY2UoY29udGFpbmVySW5kZXgsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgbWFrZSBzdXJlIHRoZSBuZXh0IHRvcCBtb2RhbCBpcyB2aXNpYmxlIHRvIGEgc2NyZWVuIHJlYWRlci5cbiAgICAgIGNvbnN0IG5leHRUb3AgPSBjb250YWluZXJJbmZvLm1vZGFsc1tjb250YWluZXJJbmZvLm1vZGFscy5sZW5ndGggLSAxXTtcbiAgICAgIC8vIGFzIHNvb24gYXMgYSBtb2RhbCBpcyBhZGRpbmcgaXRzIG1vZGFsUmVmIGlzIHVuZGVmaW5lZC4gaXQgY2FuJ3Qgc2V0XG4gICAgICAvLyBhcmlhLWhpZGRlbiBiZWNhdXNlIHRoZSBkb20gZWxlbWVudCBkb2Vzbid0IGV4aXN0IGVpdGhlclxuICAgICAgLy8gd2hlbiBtb2RhbCB3YXMgdW5tb3VudGVkIGJlZm9yZSBtb2RhbFJlZiBnZXRzIG51bGxcbiAgICAgIGlmIChuZXh0VG9wLm1vZGFsUmVmKSB7XG4gICAgICAgIGFyaWFIaWRkZW4obmV4dFRvcC5tb2RhbFJlZiwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbW9kYWxJbmRleDtcbiAgfVxuICBpc1RvcE1vZGFsKG1vZGFsKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kYWxzLmxlbmd0aCA+IDAgJiYgdGhpcy5tb2RhbHNbdGhpcy5tb2RhbHMubGVuZ3RoIC0gMV0gPT09IG1vZGFsO1xuICB9XG59IiwiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVuc3RhYmxlX293bmVyRG9jdW1lbnQgYXMgb3duZXJEb2N1bWVudCwgdW5zdGFibGVfdXNlRm9ya1JlZiBhcyB1c2VGb3JrUmVmLCB1bnN0YWJsZV91c2VFdmVudENhbGxiYWNrIGFzIHVzZUV2ZW50Q2FsbGJhY2ssIHVuc3RhYmxlX2NyZWF0ZUNoYWluZWRGdW5jdGlvbiBhcyBjcmVhdGVDaGFpbmVkRnVuY3Rpb24gfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCB7IGV4dHJhY3RFdmVudEhhbmRsZXJzIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgTW9kYWxNYW5hZ2VyLCBhcmlhSGlkZGVuIH0gZnJvbSAnLi9Nb2RhbE1hbmFnZXInO1xuZnVuY3Rpb24gZ2V0Q29udGFpbmVyKGNvbnRhaW5lcikge1xuICByZXR1cm4gdHlwZW9mIGNvbnRhaW5lciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRhaW5lcigpIDogY29udGFpbmVyO1xufVxuZnVuY3Rpb24gZ2V0SGFzVHJhbnNpdGlvbihjaGlsZHJlbikge1xuICByZXR1cm4gY2hpbGRyZW4gPyBjaGlsZHJlbi5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnaW4nKSA6IGZhbHNlO1xufVxuXG4vLyBBIG1vZGFsIG1hbmFnZXIgdXNlZCB0byB0cmFjayBhbmQgbWFuYWdlIHRoZSBzdGF0ZSBvZiBvcGVuIE1vZGFscy5cbi8vIE1vZGFscyBkb24ndCBvcGVuIG9uIHRoZSBzZXJ2ZXIgc28gdGhpcyB3b24ndCBjb25mbGljdCB3aXRoIGNvbmN1cnJlbnQgcmVxdWVzdHMuXG5jb25zdCBkZWZhdWx0TWFuYWdlciA9IG5ldyBNb2RhbE1hbmFnZXIoKTtcbi8qKlxuICpcbiAqIERlbW9zOlxuICpcbiAqIC0gW01vZGFsXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1tb2RhbC8jaG9vaylcbiAqXG4gKiBBUEk6XG4gKlxuICogLSBbdXNlTW9kYWwgQVBJXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1tb2RhbC9ob29rcy1hcGkvI3VzZS1tb2RhbClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1vZGFsKHBhcmFtZXRlcnMpIHtcbiAgY29uc3Qge1xuICAgIGNvbnRhaW5lcixcbiAgICBkaXNhYmxlRXNjYXBlS2V5RG93biA9IGZhbHNlLFxuICAgIGRpc2FibGVTY3JvbGxMb2NrID0gZmFsc2UsXG4gICAgLy8gQHRzLWlnbm9yZSBpbnRlcm5hbCBsb2dpYyAtIEJhc2UgVUkgc3VwcG9ydHMgdGhlIG1hbmFnZXIgYXMgYSBwcm9wIHRvb1xuICAgIG1hbmFnZXIgPSBkZWZhdWx0TWFuYWdlcixcbiAgICBjbG9zZUFmdGVyVHJhbnNpdGlvbiA9IGZhbHNlLFxuICAgIG9uVHJhbnNpdGlvbkVudGVyLFxuICAgIG9uVHJhbnNpdGlvbkV4aXRlZCxcbiAgICBjaGlsZHJlbixcbiAgICBvbkNsb3NlLFxuICAgIG9wZW4sXG4gICAgcm9vdFJlZlxuICB9ID0gcGFyYW1ldGVycztcblxuICAvLyBAdHMtaWdub3JlIGludGVybmFsIGxvZ2ljXG4gIGNvbnN0IG1vZGFsID0gUmVhY3QudXNlUmVmKHt9KTtcbiAgY29uc3QgbW91bnROb2RlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBtb2RhbFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihtb2RhbFJlZiwgcm9vdFJlZik7XG4gIGNvbnN0IFtleGl0ZWQsIHNldEV4aXRlZF0gPSBSZWFjdC51c2VTdGF0ZSghb3Blbik7XG4gIGNvbnN0IGhhc1RyYW5zaXRpb24gPSBnZXRIYXNUcmFuc2l0aW9uKGNoaWxkcmVuKTtcbiAgbGV0IGFyaWFIaWRkZW5Qcm9wID0gdHJ1ZTtcbiAgaWYgKHBhcmFtZXRlcnNbJ2FyaWEtaGlkZGVuJ10gPT09ICdmYWxzZScgfHwgcGFyYW1ldGVyc1snYXJpYS1oaWRkZW4nXSA9PT0gZmFsc2UpIHtcbiAgICBhcmlhSGlkZGVuUHJvcCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGdldERvYyA9ICgpID0+IG93bmVyRG9jdW1lbnQobW91bnROb2RlUmVmLmN1cnJlbnQpO1xuICBjb25zdCBnZXRNb2RhbCA9ICgpID0+IHtcbiAgICBtb2RhbC5jdXJyZW50Lm1vZGFsUmVmID0gbW9kYWxSZWYuY3VycmVudDtcbiAgICBtb2RhbC5jdXJyZW50Lm1vdW50ID0gbW91bnROb2RlUmVmLmN1cnJlbnQ7XG4gICAgcmV0dXJuIG1vZGFsLmN1cnJlbnQ7XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1vdW50ZWQgPSAoKSA9PiB7XG4gICAgbWFuYWdlci5tb3VudChnZXRNb2RhbCgpLCB7XG4gICAgICBkaXNhYmxlU2Nyb2xsTG9ja1xuICAgIH0pO1xuXG4gICAgLy8gRml4IGEgYnVnIG9uIENocm9tZSB3aGVyZSB0aGUgc2Nyb2xsIGlzbid0IGluaXRpYWxseSAwLlxuICAgIGlmIChtb2RhbFJlZi5jdXJyZW50KSB7XG4gICAgICBtb2RhbFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVPcGVuID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWRDb250YWluZXIgPSBnZXRDb250YWluZXIoY29udGFpbmVyKSB8fCBnZXREb2MoKS5ib2R5O1xuICAgIG1hbmFnZXIuYWRkKGdldE1vZGFsKCksIHJlc29sdmVkQ29udGFpbmVyKTtcblxuICAgIC8vIFRoZSBlbGVtZW50IHdhcyBhbHJlYWR5IG1vdW50ZWQuXG4gICAgaWYgKG1vZGFsUmVmLmN1cnJlbnQpIHtcbiAgICAgIGhhbmRsZU1vdW50ZWQoKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBpc1RvcE1vZGFsID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gbWFuYWdlci5pc1RvcE1vZGFsKGdldE1vZGFsKCkpLCBbbWFuYWdlcl0pO1xuICBjb25zdCBoYW5kbGVQb3J0YWxSZWYgPSB1c2VFdmVudENhbGxiYWNrKG5vZGUgPT4ge1xuICAgIG1vdW50Tm9kZVJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wZW4gJiYgaXNUb3BNb2RhbCgpKSB7XG4gICAgICBoYW5kbGVNb3VudGVkKCk7XG4gICAgfSBlbHNlIGlmIChtb2RhbFJlZi5jdXJyZW50KSB7XG4gICAgICBhcmlhSGlkZGVuKG1vZGFsUmVmLmN1cnJlbnQsIGFyaWFIaWRkZW5Qcm9wKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVDbG9zZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBtYW5hZ2VyLnJlbW92ZShnZXRNb2RhbCgpLCBhcmlhSGlkZGVuUHJvcCk7XG4gIH0sIFthcmlhSGlkZGVuUHJvcCwgbWFuYWdlcl0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBoYW5kbGVDbG9zZSgpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVDbG9zZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChvcGVuKSB7XG4gICAgICBoYW5kbGVPcGVuKCk7XG4gICAgfSBlbHNlIGlmICghaGFzVHJhbnNpdGlvbiB8fCAhY2xvc2VBZnRlclRyYW5zaXRpb24pIHtcbiAgICAgIGhhbmRsZUNsb3NlKCk7XG4gICAgfVxuICB9LCBbb3BlbiwgaGFuZGxlQ2xvc2UsIGhhc1RyYW5zaXRpb24sIGNsb3NlQWZ0ZXJUcmFuc2l0aW9uLCBoYW5kbGVPcGVuXSk7XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUtleURvd24gPSBvdGhlckhhbmRsZXJzID0+IGV2ZW50ID0+IHtcbiAgICB2YXIgX290aGVySGFuZGxlcnMkb25LZXlEO1xuICAgIChfb3RoZXJIYW5kbGVycyRvbktleUQgPSBvdGhlckhhbmRsZXJzLm9uS2V5RG93bikgPT0gbnVsbCB8fCBfb3RoZXJIYW5kbGVycyRvbktleUQuY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG5cbiAgICAvLyBUaGUgaGFuZGxlciBkb2Vzbid0IHRha2UgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCBpbnRvIGFjY291bnQ6XG4gICAgLy9cbiAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIG1lYW50IHRvIHN0b3AgZGVmYXVsdCBiZWhhdmlvcnMgbGlrZVxuICAgIC8vIGNsaWNraW5nIGEgY2hlY2tib3ggdG8gY2hlY2sgaXQsIGhpdHRpbmcgYSBidXR0b24gdG8gc3VibWl0IGEgZm9ybSxcbiAgICAvLyBhbmQgaGl0dGluZyBsZWZ0IGFycm93IHRvIG1vdmUgdGhlIGN1cnNvciBpbiBhIHRleHQgaW5wdXQgZXRjLlxuICAgIC8vIE9ubHkgc3BlY2lhbCBIVE1MIGVsZW1lbnRzIGhhdmUgdGhlc2UgZGVmYXVsdCBiZWhhdmlvcnMuXG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ0VzY2FwZScgfHwgIWlzVG9wTW9kYWwoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWRpc2FibGVFc2NhcGVLZXlEb3duKSB7XG4gICAgICAvLyBTd2FsbG93IHRoZSBldmVudCwgaW4gY2FzZSBzb21lb25lIGlzIGxpc3RlbmluZyBmb3IgdGhlIGVzY2FwZSBrZXkgb24gdGhlIGJvZHkuXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmIChvbkNsb3NlKSB7XG4gICAgICAgIG9uQ2xvc2UoZXZlbnQsICdlc2NhcGVLZXlEb3duJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBjcmVhdGVIYW5kbGVCYWNrZHJvcENsaWNrID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uQ2xpYztcbiAgICAoX290aGVySGFuZGxlcnMkb25DbGljID0gb3RoZXJIYW5kbGVycy5vbkNsaWNrKSA9PSBudWxsIHx8IF9vdGhlckhhbmRsZXJzJG9uQ2xpYy5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvbkNsb3NlKSB7XG4gICAgICBvbkNsb3NlKGV2ZW50LCAnYmFja2Ryb3BDbGljaycpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0Um9vdFByb3BzID0gKG90aGVySGFuZGxlcnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHByb3BzRXZlbnRIYW5kbGVycyA9IGV4dHJhY3RFdmVudEhhbmRsZXJzKHBhcmFtZXRlcnMpO1xuXG4gICAgLy8gVGhlIGN1c3RvbSBldmVudCBoYW5kbGVycyBzaG91bGRuJ3QgYmUgc3ByZWFkIG9uIHRoZSByb290IGVsZW1lbnRcbiAgICBkZWxldGUgcHJvcHNFdmVudEhhbmRsZXJzLm9uVHJhbnNpdGlvbkVudGVyO1xuICAgIGRlbGV0ZSBwcm9wc0V2ZW50SGFuZGxlcnMub25UcmFuc2l0aW9uRXhpdGVkO1xuICAgIGNvbnN0IGV4dGVybmFsRXZlbnRIYW5kbGVycyA9IF9leHRlbmRzKHt9LCBwcm9wc0V2ZW50SGFuZGxlcnMsIG90aGVySGFuZGxlcnMpO1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICByb2xlOiAncHJlc2VudGF0aW9uJ1xuICAgIH0sIGV4dGVybmFsRXZlbnRIYW5kbGVycywge1xuICAgICAgb25LZXlEb3duOiBjcmVhdGVIYW5kbGVLZXlEb3duKGV4dGVybmFsRXZlbnRIYW5kbGVycyksXG4gICAgICByZWY6IGhhbmRsZVJlZlxuICAgIH0pO1xuICB9O1xuICBjb25zdCBnZXRCYWNrZHJvcFByb3BzID0gKG90aGVySGFuZGxlcnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGV4dGVybmFsRXZlbnRIYW5kbGVycyA9IG90aGVySGFuZGxlcnM7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICdhcmlhLWhpZGRlbic6IHRydWVcbiAgICB9LCBleHRlcm5hbEV2ZW50SGFuZGxlcnMsIHtcbiAgICAgIG9uQ2xpY2s6IGNyZWF0ZUhhbmRsZUJhY2tkcm9wQ2xpY2soZXh0ZXJuYWxFdmVudEhhbmRsZXJzKSxcbiAgICAgIG9wZW5cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ2V0VHJhbnNpdGlvblByb3BzID0gKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUVudGVyID0gKCkgPT4ge1xuICAgICAgc2V0RXhpdGVkKGZhbHNlKTtcbiAgICAgIGlmIChvblRyYW5zaXRpb25FbnRlcikge1xuICAgICAgICBvblRyYW5zaXRpb25FbnRlcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRXhpdGVkID0gKCkgPT4ge1xuICAgICAgc2V0RXhpdGVkKHRydWUpO1xuICAgICAgaWYgKG9uVHJhbnNpdGlvbkV4aXRlZCkge1xuICAgICAgICBvblRyYW5zaXRpb25FeGl0ZWQoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjbG9zZUFmdGVyVHJhbnNpdGlvbikge1xuICAgICAgICBoYW5kbGVDbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uRW50ZXI6IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihoYW5kbGVFbnRlciwgY2hpbGRyZW4gPT0gbnVsbCA/IHZvaWQgMCA6IGNoaWxkcmVuLnByb3BzLm9uRW50ZXIpLFxuICAgICAgb25FeGl0ZWQ6IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihoYW5kbGVFeGl0ZWQsIGNoaWxkcmVuID09IG51bGwgPyB2b2lkIDAgOiBjaGlsZHJlbi5wcm9wcy5vbkV4aXRlZClcbiAgICB9O1xuICB9O1xuICByZXR1cm4ge1xuICAgIGdldFJvb3RQcm9wcyxcbiAgICBnZXRCYWNrZHJvcFByb3BzLFxuICAgIGdldFRyYW5zaXRpb25Qcm9wcyxcbiAgICByb290UmVmOiBoYW5kbGVSZWYsXG4gICAgcG9ydGFsUmVmOiBoYW5kbGVQb3J0YWxSZWYsXG4gICAgaXNUb3BNb2RhbCxcbiAgICBleGl0ZWQsXG4gICAgaGFzVHJhbnNpdGlvblxuICB9O1xufSJdLCJuYW1lcyI6WyJ1bnN0YWJsZV9vd25lcldpbmRvdyIsIm93bmVyV2luZG93IiwidW5zdGFibGVfb3duZXJEb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJ1bnN0YWJsZV9nZXRTY3JvbGxiYXJTaXplIiwiZ2V0U2Nyb2xsYmFyU2l6ZSIsImlzT3ZlcmZsb3dpbmciLCJjb250YWluZXIiLCJkb2MiLCJib2R5IiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiYXJpYUhpZGRlbiIsImVsZW1lbnQiLCJzaG93Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0UGFkZGluZ1JpZ2h0IiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ1JpZ2h0IiwiaXNBcmlhSGlkZGVuRm9yYmlkZGVuT25FbGVtZW50IiwiZm9yYmlkZGVuVGFnTmFtZXMiLCJpc0ZvcmJpZGRlblRhZ05hbWUiLCJpbmRleE9mIiwidGFnTmFtZSIsImlzSW5wdXRIaWRkZW4iLCJnZXRBdHRyaWJ1dGUiLCJhcmlhSGlkZGVuU2libGluZ3MiLCJtb3VudEVsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsImVsZW1lbnRzVG9FeGNsdWRlIiwiYmxhY2tsaXN0IiwiZm9yRWFjaCIsImNhbGwiLCJjaGlsZHJlbiIsImlzTm90RXhjbHVkZWRFbGVtZW50IiwiaXNOb3RGb3JiaWRkZW5FbGVtZW50IiwiZmluZEluZGV4T2YiLCJpdGVtcyIsImNhbGxiYWNrIiwiaWR4Iiwic29tZSIsIml0ZW0iLCJpbmRleCIsImhhbmRsZUNvbnRhaW5lciIsImNvbnRhaW5lckluZm8iLCJwcm9wcyIsInJlc3RvcmVTdHlsZSIsImRpc2FibGVTY3JvbGxMb2NrIiwic2Nyb2xsYmFyU2l6ZSIsInB1c2giLCJ2YWx1ZSIsInN0eWxlIiwicHJvcGVydHkiLCJlbCIsImZpeGVkRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2Nyb2xsQ29udGFpbmVyIiwicGFyZW50Tm9kZSIsIkRvY3VtZW50RnJhZ21lbnQiLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbmVyV2luZG93Iiwibm9kZU5hbWUiLCJvdmVyZmxvd1kiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsInJlc3RvcmUiLCJzZXRQcm9wZXJ0eSIsInJlbW92ZVByb3BlcnR5IiwiZ2V0SGlkZGVuU2libGluZ3MiLCJoaWRkZW5TaWJsaW5ncyIsIk1vZGFsTWFuYWdlciIsImNvbnN0cnVjdG9yIiwiY29udGFpbmVycyIsIm1vZGFscyIsImFkZCIsIm1vZGFsIiwibW9kYWxJbmRleCIsImxlbmd0aCIsIm1vZGFsUmVmIiwibW91bnQiLCJjb250YWluZXJJbmRleCIsInJlbW92ZSIsImFyaWFIaWRkZW5TdGF0ZSIsInNwbGljZSIsIm5leHRUb3AiLCJpc1RvcE1vZGFsIiwiX2V4dGVuZHMiLCJSZWFjdCIsInVuc3RhYmxlX3VzZUZvcmtSZWYiLCJ1c2VGb3JrUmVmIiwidW5zdGFibGVfdXNlRXZlbnRDYWxsYmFjayIsInVzZUV2ZW50Q2FsbGJhY2siLCJ1bnN0YWJsZV9jcmVhdGVDaGFpbmVkRnVuY3Rpb24iLCJjcmVhdGVDaGFpbmVkRnVuY3Rpb24iLCJleHRyYWN0RXZlbnRIYW5kbGVycyIsImdldENvbnRhaW5lciIsImdldEhhc1RyYW5zaXRpb24iLCJoYXNPd25Qcm9wZXJ0eSIsImRlZmF1bHRNYW5hZ2VyIiwidXNlTW9kYWwiLCJwYXJhbWV0ZXJzIiwiZGlzYWJsZUVzY2FwZUtleURvd24iLCJtYW5hZ2VyIiwiY2xvc2VBZnRlclRyYW5zaXRpb24iLCJvblRyYW5zaXRpb25FbnRlciIsIm9uVHJhbnNpdGlvbkV4aXRlZCIsIm9uQ2xvc2UiLCJvcGVuIiwicm9vdFJlZiIsInVzZVJlZiIsIm1vdW50Tm9kZVJlZiIsImhhbmRsZVJlZiIsImV4aXRlZCIsInNldEV4aXRlZCIsInVzZVN0YXRlIiwiaGFzVHJhbnNpdGlvbiIsImFyaWFIaWRkZW5Qcm9wIiwiZ2V0RG9jIiwiY3VycmVudCIsImdldE1vZGFsIiwiaGFuZGxlTW91bnRlZCIsInNjcm9sbFRvcCIsImhhbmRsZU9wZW4iLCJyZXNvbHZlZENvbnRhaW5lciIsInVzZUNhbGxiYWNrIiwiaGFuZGxlUG9ydGFsUmVmIiwibm9kZSIsImhhbmRsZUNsb3NlIiwidXNlRWZmZWN0IiwiY3JlYXRlSGFuZGxlS2V5RG93biIsIm90aGVySGFuZGxlcnMiLCJldmVudCIsIl9vdGhlckhhbmRsZXJzJG9uS2V5RCIsIm9uS2V5RG93biIsImtleSIsInN0b3BQcm9wYWdhdGlvbiIsImNyZWF0ZUhhbmRsZUJhY2tkcm9wQ2xpY2siLCJfb3RoZXJIYW5kbGVycyRvbkNsaWMiLCJvbkNsaWNrIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImdldFJvb3RQcm9wcyIsInByb3BzRXZlbnRIYW5kbGVycyIsImV4dGVybmFsRXZlbnRIYW5kbGVycyIsInJvbGUiLCJyZWYiLCJnZXRCYWNrZHJvcFByb3BzIiwiZ2V0VHJhbnNpdGlvblByb3BzIiwiaGFuZGxlRW50ZXIiLCJoYW5kbGVFeGl0ZWQiLCJvbkVudGVyIiwib25FeGl0ZWQiLCJwb3J0YWxSZWYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///401\n")},1819:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   o: () => (/* binding */ useAutocomplete)\n/* harmony export */ });\n/* unused harmony export createFilterOptions */\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3123);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5466);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(545);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1680);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1805);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6728);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1750);\n'use client';\n\n/* eslint-disable no-constant-condition */\n\n\n\n\n// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\n// Give up on IE11 support for this feature\nfunction stripDiacritics(string) {\n  return typeof string.normalize !== 'undefined' ? string.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : string;\n}\nfunction createFilterOptions(config = {}) {\n  const {\n    ignoreAccents = true,\n    ignoreCase = true,\n    limit,\n    matchFrom = 'any',\n    stringify,\n    trim = false\n  } = config;\n  return (options, {\n    inputValue,\n    getOptionLabel\n  }) => {\n    let input = trim ? inputValue.trim() : inputValue;\n    if (ignoreCase) {\n      input = input.toLowerCase();\n    }\n    if (ignoreAccents) {\n      input = stripDiacritics(input);\n    }\n    const filteredOptions = !input ? options : options.filter(option => {\n      let candidate = (stringify || getOptionLabel)(option);\n      if (ignoreCase) {\n        candidate = candidate.toLowerCase();\n      }\n      if (ignoreAccents) {\n        candidate = stripDiacritics(candidate);\n      }\n      return matchFrom === 'start' ? candidate.indexOf(input) === 0 : candidate.indexOf(input) > -1;\n    });\n    return typeof limit === 'number' ? filteredOptions.slice(0, limit) : filteredOptions;\n  };\n}\n\n// To replace with .findIndex() once we stop IE11 support.\nfunction findIndex(array, comp) {\n  for (let i = 0; i < array.length; i += 1) {\n    if (comp(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n}\nconst defaultFilterOptions = createFilterOptions();\n\n// Number of options to jump in list box when `Page Up` and `Page Down` keys are used.\nconst pageSize = 5;\nconst defaultIsActiveElementInListbox = listboxRef => {\n  var _listboxRef$current$p;\n  return listboxRef.current !== null && ((_listboxRef$current$p = listboxRef.current.parentElement) == null ? void 0 : _listboxRef$current$p.contains(document.activeElement));\n};\nfunction useAutocomplete(props) {\n  const {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    unstable_isActiveElementInListbox = defaultIsActiveElementInListbox,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    unstable_classNamePrefix = 'Mui',\n    autoComplete = false,\n    autoHighlight = false,\n    autoSelect = false,\n    blurOnSelect = false,\n    clearOnBlur = !props.freeSolo,\n    clearOnEscape = false,\n    componentName = 'useAutocomplete',\n    defaultValue = props.multiple ? [] : null,\n    disableClearable = false,\n    disableCloseOnSelect = false,\n    disabled: disabledProp,\n    disabledItemsFocusable = false,\n    disableListWrap = false,\n    filterOptions = defaultFilterOptions,\n    filterSelectedOptions = false,\n    freeSolo = false,\n    getOptionDisabled,\n    getOptionLabel: getOptionLabelProp = option => {\n      var _option$label;\n      return (_option$label = option.label) != null ? _option$label : option;\n    },\n    groupBy,\n    handleHomeEndKeys = !props.freeSolo,\n    id: idProp,\n    includeInputInList = false,\n    inputValue: inputValueProp,\n    isOptionEqualToValue = (option, value) => option === value,\n    multiple = false,\n    onChange,\n    onClose,\n    onHighlightChange,\n    onInputChange,\n    onOpen,\n    open: openProp,\n    openOnFocus = false,\n    options,\n    readOnly = false,\n    selectOnFocus = !props.freeSolo,\n    value: valueProp\n  } = props;\n  const id = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z)(idProp);\n  let getOptionLabel = getOptionLabelProp;\n  getOptionLabel = option => {\n    const optionLabel = getOptionLabelProp(option);\n    if (typeof optionLabel !== 'string') {\n      if (false) {}\n      return String(optionLabel);\n    }\n    return optionLabel;\n  };\n  const ignoreFocus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  const firstFocus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(true);\n  const inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const listboxRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const [anchorEl, setAnchorEl] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null);\n  const [focusedTag, setFocusedTag] = react__WEBPACK_IMPORTED_MODULE_0__.useState(-1);\n  const defaultHighlighted = autoHighlight ? 0 : -1;\n  const highlightedIndexRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(defaultHighlighted);\n  const [value, setValueState] = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z)({\n    controlled: valueProp,\n    default: defaultValue,\n    name: componentName\n  });\n  const [inputValue, setInputValueState] = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z)({\n    controlled: inputValueProp,\n    default: '',\n    name: componentName,\n    state: 'inputValue'\n  });\n  const [focused, setFocused] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const resetInputValue = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event, newValue) => {\n    // retain current `inputValue` if new option isn't selected and `clearOnBlur` is false\n    // When `multiple` is enabled, `newValue` is an array of all selected items including the newly selected item\n    const isOptionSelected = multiple ? value.length < newValue.length : newValue !== null;\n    if (!isOptionSelected && !clearOnBlur) {\n      return;\n    }\n    let newInputValue;\n    if (multiple) {\n      newInputValue = '';\n    } else if (newValue == null) {\n      newInputValue = '';\n    } else {\n      const optionLabel = getOptionLabel(newValue);\n      newInputValue = typeof optionLabel === 'string' ? optionLabel : '';\n    }\n    if (inputValue === newInputValue) {\n      return;\n    }\n    setInputValueState(newInputValue);\n    if (onInputChange) {\n      onInputChange(event, newInputValue, 'reset');\n    }\n  }, [getOptionLabel, inputValue, multiple, onInputChange, setInputValueState, clearOnBlur, value]);\n  const [open, setOpenState] = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z)({\n    controlled: openProp,\n    default: false,\n    name: componentName,\n    state: 'open'\n  });\n  const [inputPristine, setInputPristine] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\n  const inputValueIsSelectedValue = !multiple && value != null && inputValue === getOptionLabel(value);\n  const popupOpen = open && !readOnly;\n  const filteredOptions = popupOpen ? filterOptions(options.filter(option => {\n    if (filterSelectedOptions && (multiple ? value : [value]).some(value2 => value2 !== null && isOptionEqualToValue(option, value2))) {\n      return false;\n    }\n    return true;\n  }),\n  // we use the empty string to manipulate `filterOptions` to not filter any options\n  // i.e. the filter predicate always returns true\n  {\n    inputValue: inputValueIsSelectedValue && inputPristine ? '' : inputValue,\n    getOptionLabel\n  }) : [];\n  const previousProps = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)({\n    filteredOptions,\n    value,\n    inputValue\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const valueChange = value !== previousProps.value;\n    if (focused && !valueChange) {\n      return;\n    }\n\n    // Only reset the input's value when freeSolo if the component's value changes.\n    if (freeSolo && !valueChange) {\n      return;\n    }\n    resetInputValue(null, value);\n  }, [value, resetInputValue, focused, previousProps.value, freeSolo]);\n  const listboxAvailable = open && filteredOptions.length > 0 && !readOnly;\n  if (false) {}\n  const focusTag = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(tagToFocus => {\n    if (tagToFocus === -1) {\n      inputRef.current.focus();\n    } else {\n      anchorEl.querySelector(`[data-tag-index=\"${tagToFocus}\"]`).focus();\n    }\n  });\n\n  // Ensure the focusedTag is never inconsistent\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (multiple && focusedTag > value.length - 1) {\n      setFocusedTag(-1);\n      focusTag(-1);\n    }\n  }, [value, multiple, focusedTag, focusTag]);\n  function validOptionIndex(index, direction) {\n    if (!listboxRef.current || index === -1) {\n      return -1;\n    }\n    let nextFocus = index;\n    while (true) {\n      // Out of range\n      if (direction === 'next' && nextFocus === filteredOptions.length || direction === 'previous' && nextFocus === -1) {\n        return -1;\n      }\n      const option = listboxRef.current.querySelector(`[data-option-index=\"${nextFocus}\"]`);\n\n      // Same logic as MenuList.js\n      const nextFocusDisabled = disabledItemsFocusable ? false : !option || option.disabled || option.getAttribute('aria-disabled') === 'true';\n      if (option && !option.hasAttribute('tabindex') || nextFocusDisabled) {\n        // Move to the next element.\n        nextFocus += direction === 'next' ? 1 : -1;\n      } else {\n        return nextFocus;\n      }\n    }\n  }\n  const setHighlightedIndex = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(({\n    event,\n    index,\n    reason = 'auto'\n  }) => {\n    highlightedIndexRef.current = index;\n\n    // does the index exist?\n    if (index === -1) {\n      inputRef.current.removeAttribute('aria-activedescendant');\n    } else {\n      inputRef.current.setAttribute('aria-activedescendant', `${id}-option-${index}`);\n    }\n    if (onHighlightChange) {\n      onHighlightChange(event, index === -1 ? null : filteredOptions[index], reason);\n    }\n    if (!listboxRef.current) {\n      return;\n    }\n    const prev = listboxRef.current.querySelector(`[role=\"option\"].${unstable_classNamePrefix}-focused`);\n    if (prev) {\n      prev.classList.remove(`${unstable_classNamePrefix}-focused`);\n      prev.classList.remove(`${unstable_classNamePrefix}-focusVisible`);\n    }\n    let listboxNode = listboxRef.current;\n    if (listboxRef.current.getAttribute('role') !== 'listbox') {\n      listboxNode = listboxRef.current.parentElement.querySelector('[role=\"listbox\"]');\n    }\n\n    // \"No results\"\n    if (!listboxNode) {\n      return;\n    }\n    if (index === -1) {\n      listboxNode.scrollTop = 0;\n      return;\n    }\n    const option = listboxRef.current.querySelector(`[data-option-index=\"${index}\"]`);\n    if (!option) {\n      return;\n    }\n    option.classList.add(`${unstable_classNamePrefix}-focused`);\n    if (reason === 'keyboard') {\n      option.classList.add(`${unstable_classNamePrefix}-focusVisible`);\n    }\n\n    // Scroll active descendant into view.\n    // Logic copied from https://www.w3.org/WAI/content-assets/wai-aria-practices/patterns/combobox/examples/js/select-only.js\n    // In case of mouse clicks and touch (in mobile devices) we avoid scrolling the element and keep both behaviors same.\n    // Consider this API instead once it has a better browser support:\n    // .scrollIntoView({ scrollMode: 'if-needed', block: 'nearest' });\n    if (listboxNode.scrollHeight > listboxNode.clientHeight && reason !== 'mouse' && reason !== 'touch') {\n      const element = option;\n      const scrollBottom = listboxNode.clientHeight + listboxNode.scrollTop;\n      const elementBottom = element.offsetTop + element.offsetHeight;\n      if (elementBottom > scrollBottom) {\n        listboxNode.scrollTop = elementBottom - listboxNode.clientHeight;\n      } else if (element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0) < listboxNode.scrollTop) {\n        listboxNode.scrollTop = element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0);\n      }\n    }\n  });\n  const changeHighlightedIndex = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(({\n    event,\n    diff,\n    direction = 'next',\n    reason = 'auto'\n  }) => {\n    if (!popupOpen) {\n      return;\n    }\n    const getNextIndex = () => {\n      const maxIndex = filteredOptions.length - 1;\n      if (diff === 'reset') {\n        return defaultHighlighted;\n      }\n      if (diff === 'start') {\n        return 0;\n      }\n      if (diff === 'end') {\n        return maxIndex;\n      }\n      const newIndex = highlightedIndexRef.current + diff;\n      if (newIndex < 0) {\n        if (newIndex === -1 && includeInputInList) {\n          return -1;\n        }\n        if (disableListWrap && highlightedIndexRef.current !== -1 || Math.abs(diff) > 1) {\n          return 0;\n        }\n        return maxIndex;\n      }\n      if (newIndex > maxIndex) {\n        if (newIndex === maxIndex + 1 && includeInputInList) {\n          return -1;\n        }\n        if (disableListWrap || Math.abs(diff) > 1) {\n          return maxIndex;\n        }\n        return 0;\n      }\n      return newIndex;\n    };\n    const nextIndex = validOptionIndex(getNextIndex(), direction);\n    setHighlightedIndex({\n      index: nextIndex,\n      reason,\n      event\n    });\n\n    // Sync the content of the input with the highlighted option.\n    if (autoComplete && diff !== 'reset') {\n      if (nextIndex === -1) {\n        inputRef.current.value = inputValue;\n      } else {\n        const option = getOptionLabel(filteredOptions[nextIndex]);\n        inputRef.current.value = option;\n\n        // The portion of the selected suggestion that has not been typed by the user,\n        // a completion string, appears inline after the input cursor in the textbox.\n        const index = option.toLowerCase().indexOf(inputValue.toLowerCase());\n        if (index === 0 && inputValue.length > 0) {\n          inputRef.current.setSelectionRange(inputValue.length, option.length);\n        }\n      }\n    }\n  });\n  const checkHighlightedOptionExists = () => {\n    const isSameValue = (value1, value2) => {\n      const label1 = value1 ? getOptionLabel(value1) : '';\n      const label2 = value2 ? getOptionLabel(value2) : '';\n      return label1 === label2;\n    };\n    if (highlightedIndexRef.current !== -1 && previousProps.filteredOptions && previousProps.filteredOptions.length !== filteredOptions.length && previousProps.inputValue === inputValue && (multiple ? value.length === previousProps.value.length && previousProps.value.every((val, i) => getOptionLabel(value[i]) === getOptionLabel(val)) : isSameValue(previousProps.value, value))) {\n      const previousHighlightedOption = previousProps.filteredOptions[highlightedIndexRef.current];\n      if (previousHighlightedOption) {\n        const previousHighlightedOptionExists = filteredOptions.some(option => {\n          return getOptionLabel(option) === getOptionLabel(previousHighlightedOption);\n        });\n        if (previousHighlightedOptionExists) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  const syncHighlightedIndex = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (!popupOpen) {\n      return;\n    }\n\n    // Check if the previously highlighted option still exists in the updated filtered options list and if the value and inputValue haven't changed\n    // If it exists and the value and the inputValue haven't changed, return, otherwise continue execution\n    if (checkHighlightedOptionExists()) {\n      return;\n    }\n    const valueItem = multiple ? value[0] : value;\n\n    // The popup is empty, reset\n    if (filteredOptions.length === 0 || valueItem == null) {\n      changeHighlightedIndex({\n        diff: 'reset'\n      });\n      return;\n    }\n    if (!listboxRef.current) {\n      return;\n    }\n\n    // Synchronize the value with the highlighted index\n    if (valueItem != null) {\n      const currentOption = filteredOptions[highlightedIndexRef.current];\n\n      // Keep the current highlighted index if possible\n      if (multiple && currentOption && findIndex(value, val => isOptionEqualToValue(currentOption, val)) !== -1) {\n        return;\n      }\n      const itemIndex = findIndex(filteredOptions, optionItem => isOptionEqualToValue(optionItem, valueItem));\n      if (itemIndex === -1) {\n        changeHighlightedIndex({\n          diff: 'reset'\n        });\n      } else {\n        setHighlightedIndex({\n          index: itemIndex\n        });\n      }\n      return;\n    }\n\n    // Prevent the highlighted index to leak outside the boundaries.\n    if (highlightedIndexRef.current >= filteredOptions.length - 1) {\n      setHighlightedIndex({\n        index: filteredOptions.length - 1\n      });\n      return;\n    }\n\n    // Restore the focus to the previous index.\n    setHighlightedIndex({\n      index: highlightedIndexRef.current\n    });\n    // Ignore filteredOptions (and options, isOptionEqualToValue, getOptionLabel) not to break the scroll position\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n  // Only sync the highlighted index when the option switch between empty and not\n  filteredOptions.length,\n  // Don't sync the highlighted index with the value when multiple\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  multiple ? false : value, filterSelectedOptions, changeHighlightedIndex, setHighlightedIndex, popupOpen, inputValue, multiple]);\n  const handleListboxRef = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(node => {\n    (0,_mui_utils__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .Z)(listboxRef, node);\n    if (!node) {\n      return;\n    }\n    syncHighlightedIndex();\n  });\n  if (false) {}\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    syncHighlightedIndex();\n  }, [syncHighlightedIndex]);\n  const handleOpen = event => {\n    if (open) {\n      return;\n    }\n    setOpenState(true);\n    setInputPristine(true);\n    if (onOpen) {\n      onOpen(event);\n    }\n  };\n  const handleClose = (event, reason) => {\n    if (!open) {\n      return;\n    }\n    setOpenState(false);\n    if (onClose) {\n      onClose(event, reason);\n    }\n  };\n  const handleValue = (event, newValue, reason, details) => {\n    if (multiple) {\n      if (value.length === newValue.length && value.every((val, i) => val === newValue[i])) {\n        return;\n      }\n    } else if (value === newValue) {\n      return;\n    }\n    if (onChange) {\n      onChange(event, newValue, reason, details);\n    }\n    setValueState(newValue);\n  };\n  const isTouch = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n  const selectNewValue = (event, option, reasonProp = 'selectOption', origin = 'options') => {\n    let reason = reasonProp;\n    let newValue = option;\n    if (multiple) {\n      newValue = Array.isArray(value) ? value.slice() : [];\n      if (false) {}\n      const itemIndex = findIndex(newValue, valueItem => isOptionEqualToValue(option, valueItem));\n      if (itemIndex === -1) {\n        newValue.push(option);\n      } else if (origin !== 'freeSolo') {\n        newValue.splice(itemIndex, 1);\n        reason = 'removeOption';\n      }\n    }\n    resetInputValue(event, newValue);\n    handleValue(event, newValue, reason, {\n      option\n    });\n    if (!disableCloseOnSelect && (!event || !event.ctrlKey && !event.metaKey)) {\n      handleClose(event, reason);\n    }\n    if (blurOnSelect === true || blurOnSelect === 'touch' && isTouch.current || blurOnSelect === 'mouse' && !isTouch.current) {\n      inputRef.current.blur();\n    }\n  };\n  function validTagIndex(index, direction) {\n    if (index === -1) {\n      return -1;\n    }\n    let nextFocus = index;\n    while (true) {\n      // Out of range\n      if (direction === 'next' && nextFocus === value.length || direction === 'previous' && nextFocus === -1) {\n        return -1;\n      }\n      const option = anchorEl.querySelector(`[data-tag-index=\"${nextFocus}\"]`);\n\n      // Same logic as MenuList.js\n      if (!option || !option.hasAttribute('tabindex') || option.disabled || option.getAttribute('aria-disabled') === 'true') {\n        nextFocus += direction === 'next' ? 1 : -1;\n      } else {\n        return nextFocus;\n      }\n    }\n  }\n  const handleFocusTag = (event, direction) => {\n    if (!multiple) {\n      return;\n    }\n    if (inputValue === '') {\n      handleClose(event, 'toggleInput');\n    }\n    let nextTag = focusedTag;\n    if (focusedTag === -1) {\n      if (inputValue === '' && direction === 'previous') {\n        nextTag = value.length - 1;\n      }\n    } else {\n      nextTag += direction === 'next' ? 1 : -1;\n      if (nextTag < 0) {\n        nextTag = 0;\n      }\n      if (nextTag === value.length) {\n        nextTag = -1;\n      }\n    }\n    nextTag = validTagIndex(nextTag, direction);\n    setFocusedTag(nextTag);\n    focusTag(nextTag);\n  };\n  const handleClear = event => {\n    ignoreFocus.current = true;\n    setInputValueState('');\n    if (onInputChange) {\n      onInputChange(event, '', 'clear');\n    }\n    handleValue(event, multiple ? [] : null, 'clear');\n  };\n  const handleKeyDown = other => event => {\n    if (other.onKeyDown) {\n      other.onKeyDown(event);\n    }\n    if (event.defaultMuiPrevented) {\n      return;\n    }\n    if (focusedTag !== -1 && ['ArrowLeft', 'ArrowRight'].indexOf(event.key) === -1) {\n      setFocusedTag(-1);\n      focusTag(-1);\n    }\n\n    // Wait until IME is settled.\n    if (event.which !== 229) {\n      switch (event.key) {\n        case 'Home':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'start',\n              direction: 'next',\n              reason: 'keyboard',\n              event\n            });\n          }\n          break;\n        case 'End':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'end',\n              direction: 'previous',\n              reason: 'keyboard',\n              event\n            });\n          }\n          break;\n        case 'PageUp':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -pageSize,\n            direction: 'previous',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'PageDown':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: pageSize,\n            direction: 'next',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowDown':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: 1,\n            direction: 'next',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowUp':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -1,\n            direction: 'previous',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowLeft':\n          handleFocusTag(event, 'previous');\n          break;\n        case 'ArrowRight':\n          handleFocusTag(event, 'next');\n          break;\n        case 'Enter':\n          if (highlightedIndexRef.current !== -1 && popupOpen) {\n            const option = filteredOptions[highlightedIndexRef.current];\n            const disabled = getOptionDisabled ? getOptionDisabled(option) : false;\n\n            // Avoid early form validation, let the end-users continue filling the form.\n            event.preventDefault();\n            if (disabled) {\n              return;\n            }\n            selectNewValue(event, option, 'selectOption');\n\n            // Move the selection to the end.\n            if (autoComplete) {\n              inputRef.current.setSelectionRange(inputRef.current.value.length, inputRef.current.value.length);\n            }\n          } else if (freeSolo && inputValue !== '' && inputValueIsSelectedValue === false) {\n            if (multiple) {\n              // Allow people to add new values before they submit the form.\n              event.preventDefault();\n            }\n            selectNewValue(event, inputValue, 'createOption', 'freeSolo');\n          }\n          break;\n        case 'Escape':\n          if (popupOpen) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault();\n            // Avoid the Modal to handle the event.\n            event.stopPropagation();\n            handleClose(event, 'escape');\n          } else if (clearOnEscape && (inputValue !== '' || multiple && value.length > 0)) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault();\n            // Avoid the Modal to handle the event.\n            event.stopPropagation();\n            handleClear(event);\n          }\n          break;\n        case 'Backspace':\n          if (multiple && !readOnly && inputValue === '' && value.length > 0) {\n            const index = focusedTag === -1 ? value.length - 1 : focusedTag;\n            const newValue = value.slice();\n            newValue.splice(index, 1);\n            handleValue(event, newValue, 'removeOption', {\n              option: value[index]\n            });\n          }\n          break;\n        case 'Delete':\n          if (multiple && !readOnly && inputValue === '' && value.length > 0 && focusedTag !== -1) {\n            const index = focusedTag;\n            const newValue = value.slice();\n            newValue.splice(index, 1);\n            handleValue(event, newValue, 'removeOption', {\n              option: value[index]\n            });\n          }\n          break;\n        default:\n      }\n    }\n  };\n  const handleFocus = event => {\n    setFocused(true);\n    if (openOnFocus && !ignoreFocus.current) {\n      handleOpen(event);\n    }\n  };\n  const handleBlur = event => {\n    // Ignore the event when using the scrollbar with IE11\n    if (unstable_isActiveElementInListbox(listboxRef)) {\n      inputRef.current.focus();\n      return;\n    }\n    setFocused(false);\n    firstFocus.current = true;\n    ignoreFocus.current = false;\n    if (autoSelect && highlightedIndexRef.current !== -1 && popupOpen) {\n      selectNewValue(event, filteredOptions[highlightedIndexRef.current], 'blur');\n    } else if (autoSelect && freeSolo && inputValue !== '') {\n      selectNewValue(event, inputValue, 'blur', 'freeSolo');\n    } else if (clearOnBlur) {\n      resetInputValue(event, value);\n    }\n    handleClose(event, 'blur');\n  };\n  const handleInputChange = event => {\n    const newValue = event.target.value;\n    if (inputValue !== newValue) {\n      setInputValueState(newValue);\n      setInputPristine(false);\n      if (onInputChange) {\n        onInputChange(event, newValue, 'input');\n      }\n    }\n    if (newValue === '') {\n      if (!disableClearable && !multiple) {\n        handleValue(event, null, 'clear');\n      }\n    } else {\n      handleOpen(event);\n    }\n  };\n  const handleOptionMouseMove = event => {\n    const index = Number(event.currentTarget.getAttribute('data-option-index'));\n    if (highlightedIndexRef.current !== index) {\n      setHighlightedIndex({\n        event,\n        index,\n        reason: 'mouse'\n      });\n    }\n  };\n  const handleOptionTouchStart = event => {\n    setHighlightedIndex({\n      event,\n      index: Number(event.currentTarget.getAttribute('data-option-index')),\n      reason: 'touch'\n    });\n    isTouch.current = true;\n  };\n  const handleOptionClick = event => {\n    const index = Number(event.currentTarget.getAttribute('data-option-index'));\n    selectNewValue(event, filteredOptions[index], 'selectOption');\n    isTouch.current = false;\n  };\n  const handleTagDelete = index => event => {\n    const newValue = value.slice();\n    newValue.splice(index, 1);\n    handleValue(event, newValue, 'removeOption', {\n      option: value[index]\n    });\n  };\n  const handlePopupIndicator = event => {\n    if (open) {\n      handleClose(event, 'toggleInput');\n    } else {\n      handleOpen(event);\n    }\n  };\n\n  // Prevent input blur when interacting with the combobox\n  const handleMouseDown = event => {\n    // Prevent focusing the input if click is anywhere outside the Autocomplete\n    if (!event.currentTarget.contains(event.target)) {\n      return;\n    }\n    if (event.target.getAttribute('id') !== id) {\n      event.preventDefault();\n    }\n  };\n\n  // Focus the input when interacting with the combobox\n  const handleClick = event => {\n    // Prevent focusing the input if click is anywhere outside the Autocomplete\n    if (!event.currentTarget.contains(event.target)) {\n      return;\n    }\n    inputRef.current.focus();\n    if (selectOnFocus && firstFocus.current && inputRef.current.selectionEnd - inputRef.current.selectionStart === 0) {\n      inputRef.current.select();\n    }\n    firstFocus.current = false;\n  };\n  const handleInputMouseDown = event => {\n    if (!disabledProp && (inputValue === '' || !open)) {\n      handlePopupIndicator(event);\n    }\n  };\n  let dirty = freeSolo && inputValue.length > 0;\n  dirty = dirty || (multiple ? value.length > 0 : value !== null);\n  let groupedOptions = filteredOptions;\n  if (groupBy) {\n    // used to keep track of key and indexes in the result array\n    const indexBy = new Map();\n    let warn = false;\n    groupedOptions = filteredOptions.reduce((acc, option, index) => {\n      const group = groupBy(option);\n      if (acc.length > 0 && acc[acc.length - 1].group === group) {\n        acc[acc.length - 1].options.push(option);\n      } else {\n        if (false) {}\n        acc.push({\n          key: index,\n          index,\n          group,\n          options: [option]\n        });\n      }\n      return acc;\n    }, []);\n  }\n  if (disabledProp && focused) {\n    handleBlur();\n  }\n  return {\n    getRootProps: (other = {}) => (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z)({\n      'aria-owns': listboxAvailable ? `${id}-listbox` : null\n    }, other, {\n      onKeyDown: handleKeyDown(other),\n      onMouseDown: handleMouseDown,\n      onClick: handleClick\n    }),\n    getInputLabelProps: () => ({\n      id: `${id}-label`,\n      htmlFor: id\n    }),\n    getInputProps: () => ({\n      id,\n      value: inputValue,\n      onBlur: handleBlur,\n      onFocus: handleFocus,\n      onChange: handleInputChange,\n      onMouseDown: handleInputMouseDown,\n      // if open then this is handled imperatively so don't let react override\n      // only have an opinion about this when closed\n      'aria-activedescendant': popupOpen ? '' : null,\n      'aria-autocomplete': autoComplete ? 'both' : 'list',\n      'aria-controls': listboxAvailable ? `${id}-listbox` : undefined,\n      'aria-expanded': listboxAvailable,\n      // Disable browser's suggestion that might overlap with the popup.\n      // Handle autocomplete but not autofill.\n      autoComplete: 'off',\n      ref: inputRef,\n      autoCapitalize: 'none',\n      spellCheck: 'false',\n      role: 'combobox',\n      disabled: disabledProp\n    }),\n    getClearProps: () => ({\n      tabIndex: -1,\n      onClick: handleClear\n    }),\n    getPopupIndicatorProps: () => ({\n      tabIndex: -1,\n      onClick: handlePopupIndicator\n    }),\n    getTagProps: ({\n      index\n    }) => (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z)({\n      key: index,\n      'data-tag-index': index,\n      tabIndex: -1\n    }, !readOnly && {\n      onDelete: handleTagDelete(index)\n    }),\n    getListboxProps: () => ({\n      role: 'listbox',\n      id: `${id}-listbox`,\n      'aria-labelledby': `${id}-label`,\n      ref: handleListboxRef,\n      onMouseDown: event => {\n        // Prevent blur\n        event.preventDefault();\n      }\n    }),\n    getOptionProps: ({\n      index,\n      option\n    }) => {\n      const selected = (multiple ? value : [value]).some(value2 => value2 != null && isOptionEqualToValue(option, value2));\n      const disabled = getOptionDisabled ? getOptionDisabled(option) : false;\n      return {\n        key: getOptionLabel(option),\n        tabIndex: -1,\n        role: 'option',\n        id: `${id}-option-${index}`,\n        onMouseMove: handleOptionMouseMove,\n        onClick: handleOptionClick,\n        onTouchStart: handleOptionTouchStart,\n        'data-option-index': index,\n        'aria-disabled': disabled,\n        'aria-selected': selected\n      };\n    },\n    id,\n    inputValue,\n    value,\n    dirty,\n    expanded: popupOpen && anchorEl,\n    popupOpen,\n    focused: focused || focusedTag !== -1,\n    anchorEl,\n    setAnchorEl,\n    focusedTag,\n    groupedOptions\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgxOS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLFlBQVk7O0FBRVo7QUFDMEQ7QUFDM0I7QUFDMko7O0FBRTFMO0FBQ0E7QUFDQSxTQUFTVyxlQUFlQSxDQUFDQyxNQUFNLEVBQUU7RUFDL0IsT0FBTyxPQUFPQSxNQUFNLENBQUNDLFNBQVMsS0FBSyxXQUFXLEdBQUdELE1BQU0sQ0FBQ0MsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDQyxPQUFPLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxDQUFDLEdBQUdGLE1BQU07QUFDbkg7QUFDTyxTQUFTRyxtQkFBbUJBLENBQUNDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtFQUMvQyxNQUFNO0lBQ0pDLGFBQWEsR0FBRyxJQUFJO0lBQ3BCQyxVQUFVLEdBQUcsSUFBSTtJQUNqQkMsS0FBSztJQUNMQyxTQUFTLEdBQUcsS0FBSztJQUNqQkMsU0FBUztJQUNUQyxJQUFJLEdBQUc7RUFDVCxDQUFDLEdBQUdOLE1BQU07RUFDVixPQUFPLENBQUNPLE9BQU8sRUFBRTtJQUNmQyxVQUFVO0lBQ1ZDO0VBQ0YsQ0FBQyxLQUFLO0lBQ0osSUFBSUMsS0FBSyxHQUFHSixJQUFJLEdBQUdFLFVBQVUsQ0FBQ0YsSUFBSSxDQUFDLENBQUMsR0FBR0UsVUFBVTtJQUNqRCxJQUFJTixVQUFVLEVBQUU7TUFDZFEsS0FBSyxHQUFHQSxLQUFLLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0lBQzdCO0lBQ0EsSUFBSVYsYUFBYSxFQUFFO01BQ2pCUyxLQUFLLEdBQUdmLGVBQWUsQ0FBQ2UsS0FBSyxDQUFDO0lBQ2hDO0lBQ0EsTUFBTUUsZUFBZSxHQUFHLENBQUNGLEtBQUssR0FBR0gsT0FBTyxHQUFHQSxPQUFPLENBQUNNLE1BQU0sQ0FBQ0MsTUFBTSxJQUFJO01BQ2xFLElBQUlDLFNBQVMsR0FBRyxDQUFDVixTQUFTLElBQUlJLGNBQWMsRUFBRUssTUFBTSxDQUFDO01BQ3JELElBQUlaLFVBQVUsRUFBRTtRQUNkYSxTQUFTLEdBQUdBLFNBQVMsQ0FBQ0osV0FBVyxDQUFDLENBQUM7TUFDckM7TUFDQSxJQUFJVixhQUFhLEVBQUU7UUFDakJjLFNBQVMsR0FBR3BCLGVBQWUsQ0FBQ29CLFNBQVMsQ0FBQztNQUN4QztNQUNBLE9BQU9YLFNBQVMsS0FBSyxPQUFPLEdBQUdXLFNBQVMsQ0FBQ0MsT0FBTyxDQUFDTixLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUdLLFNBQVMsQ0FBQ0MsT0FBTyxDQUFDTixLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0YsQ0FBQyxDQUFDO0lBQ0YsT0FBTyxPQUFPUCxLQUFLLEtBQUssUUFBUSxHQUFHUyxlQUFlLENBQUNLLEtBQUssQ0FBQyxDQUFDLEVBQUVkLEtBQUssQ0FBQyxHQUFHUyxlQUFlO0VBQ3RGLENBQUM7QUFDSDs7QUFFQTtBQUNBLFNBQVNNLFNBQVNBLENBQUNDLEtBQUssRUFBRUMsSUFBSSxFQUFFO0VBQzlCLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRixLQUFLLENBQUNHLE1BQU0sRUFBRUQsQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUN4QyxJQUFJRCxJQUFJLENBQUNELEtBQUssQ0FBQ0UsQ0FBQyxDQUFDLENBQUMsRUFBRTtNQUNsQixPQUFPQSxDQUFDO0lBQ1Y7RUFDRjtFQUNBLE9BQU8sQ0FBQyxDQUFDO0FBQ1g7QUFDQSxNQUFNRSxvQkFBb0IsR0FBR3hCLG1CQUFtQixDQUFDLENBQUM7O0FBRWxEO0FBQ0EsTUFBTXlCLFFBQVEsR0FBRyxDQUFDO0FBQ2xCLE1BQU1DLCtCQUErQixHQUFHQyxVQUFVLElBQUk7RUFDcEQsSUFBSUMscUJBQXFCO0VBQ3pCLE9BQU9ELFVBQVUsQ0FBQ0UsT0FBTyxLQUFLLElBQUksS0FBSyxDQUFDRCxxQkFBcUIsR0FBR0QsVUFBVSxDQUFDRSxPQUFPLENBQUNDLGFBQWEsS0FBSyxJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUdGLHFCQUFxQixDQUFDRyxRQUFRLENBQUNDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLENBQUM7QUFDOUssQ0FBQztBQUNNLFNBQVNDLGVBQWVBLENBQUNDLEtBQUssRUFBRTtFQUNyQyxNQUFNO0lBQ0o7SUFDQUMsaUNBQWlDLEdBQUdWLCtCQUErQjtJQUNuRTtJQUNBVyx3QkFBd0IsR0FBRyxLQUFLO0lBQ2hDQyxZQUFZLEdBQUcsS0FBSztJQUNwQkMsYUFBYSxHQUFHLEtBQUs7SUFDckJDLFVBQVUsR0FBRyxLQUFLO0lBQ2xCQyxZQUFZLEdBQUcsS0FBSztJQUNwQkMsV0FBVyxHQUFHLENBQUNQLEtBQUssQ0FBQ1EsUUFBUTtJQUM3QkMsYUFBYSxHQUFHLEtBQUs7SUFDckJDLGFBQWEsR0FBRyxpQkFBaUI7SUFDakNDLFlBQVksR0FBR1gsS0FBSyxDQUFDWSxRQUFRLEdBQUcsRUFBRSxHQUFHLElBQUk7SUFDekNDLGdCQUFnQixHQUFHLEtBQUs7SUFDeEJDLG9CQUFvQixHQUFHLEtBQUs7SUFDNUJDLFFBQVEsRUFBRUMsWUFBWTtJQUN0QkMsc0JBQXNCLEdBQUcsS0FBSztJQUM5QkMsZUFBZSxHQUFHLEtBQUs7SUFDdkJDLGFBQWEsR0FBRzlCLG9CQUFvQjtJQUNwQytCLHFCQUFxQixHQUFHLEtBQUs7SUFDN0JaLFFBQVEsR0FBRyxLQUFLO0lBQ2hCYSxpQkFBaUI7SUFDakI5QyxjQUFjLEVBQUUrQyxrQkFBa0IsR0FBRzFDLE1BQU0sSUFBSTtNQUM3QyxJQUFJMkMsYUFBYTtNQUNqQixPQUFPLENBQUNBLGFBQWEsR0FBRzNDLE1BQU0sQ0FBQzRDLEtBQUssS0FBSyxJQUFJLEdBQUdELGFBQWEsR0FBRzNDLE1BQU07SUFDeEUsQ0FBQztJQUNENkMsT0FBTztJQUNQQyxpQkFBaUIsR0FBRyxDQUFDMUIsS0FBSyxDQUFDUSxRQUFRO0lBQ25DbUIsRUFBRSxFQUFFQyxNQUFNO0lBQ1ZDLGtCQUFrQixHQUFHLEtBQUs7SUFDMUJ2RCxVQUFVLEVBQUV3RCxjQUFjO0lBQzFCQyxvQkFBb0IsR0FBR0EsQ0FBQ25ELE1BQU0sRUFBRW9ELEtBQUssS0FBS3BELE1BQU0sS0FBS29ELEtBQUs7SUFDMURwQixRQUFRLEdBQUcsS0FBSztJQUNoQnFCLFFBQVE7SUFDUkMsT0FBTztJQUNQQyxpQkFBaUI7SUFDakJDLGFBQWE7SUFDYkMsTUFBTTtJQUNOQyxJQUFJLEVBQUVDLFFBQVE7SUFDZEMsV0FBVyxHQUFHLEtBQUs7SUFDbkJuRSxPQUFPO0lBQ1BvRSxRQUFRLEdBQUcsS0FBSztJQUNoQkMsYUFBYSxHQUFHLENBQUMxQyxLQUFLLENBQUNRLFFBQVE7SUFDL0J3QixLQUFLLEVBQUVXO0VBQ1QsQ0FBQyxHQUFHM0MsS0FBSztFQUNULE1BQU0yQixFQUFFLEdBQUdwRSwrREFBSyxDQUFDcUUsTUFBTSxDQUFDO0VBQ3hCLElBQUlyRCxjQUFjLEdBQUcrQyxrQkFBa0I7RUFDdkMvQyxjQUFjLEdBQUdLLE1BQU0sSUFBSTtJQUN6QixNQUFNZ0UsV0FBVyxHQUFHdEIsa0JBQWtCLENBQUMxQyxNQUFNLENBQUM7SUFDOUMsSUFBSSxPQUFPZ0UsV0FBVyxLQUFLLFFBQVEsRUFBRTtNQUNuQyxJQUFJQyxLQUFxQyxFQUFFLEVBRzFDO01BQ0QsT0FBT1EsTUFBTSxDQUFDVCxXQUFXLENBQUM7SUFDNUI7SUFDQSxPQUFPQSxXQUFXO0VBQ3BCLENBQUM7RUFDRCxNQUFNVSxXQUFXLEdBQUd2Ryx5Q0FBWSxDQUFDLEtBQUssQ0FBQztFQUN2QyxNQUFNeUcsVUFBVSxHQUFHekcseUNBQVksQ0FBQyxJQUFJLENBQUM7RUFDckMsTUFBTTBHLFFBQVEsR0FBRzFHLHlDQUFZLENBQUMsSUFBSSxDQUFDO0VBQ25DLE1BQU15QyxVQUFVLEdBQUd6Qyx5Q0FBWSxDQUFDLElBQUksQ0FBQztFQUNyQyxNQUFNLENBQUMyRyxRQUFRLEVBQUVDLFdBQVcsQ0FBQyxHQUFHNUcsMkNBQWMsQ0FBQyxJQUFJLENBQUM7RUFDcEQsTUFBTSxDQUFDOEcsVUFBVSxFQUFFQyxhQUFhLENBQUMsR0FBRy9HLDJDQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDdEQsTUFBTWdILGtCQUFrQixHQUFHM0QsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7RUFDakQsTUFBTTRELG1CQUFtQixHQUFHakgseUNBQVksQ0FBQ2dILGtCQUFrQixDQUFDO0VBQzVELE1BQU0sQ0FBQy9CLEtBQUssRUFBRWlDLGFBQWEsQ0FBQyxHQUFHNUcsK0RBQWEsQ0FBQztJQUMzQzZHLFVBQVUsRUFBRXZCLFNBQVM7SUFDckJ3QixPQUFPLEVBQUV4RCxZQUFZO0lBQ3JCeUQsSUFBSSxFQUFFMUQ7RUFDUixDQUFDLENBQUM7RUFDRixNQUFNLENBQUNwQyxVQUFVLEVBQUUrRixrQkFBa0IsQ0FBQyxHQUFHaEgsK0RBQWEsQ0FBQztJQUNyRDZHLFVBQVUsRUFBRXBDLGNBQWM7SUFDMUJxQyxPQUFPLEVBQUUsRUFBRTtJQUNYQyxJQUFJLEVBQUUxRCxhQUFhO0lBQ25CNEQsS0FBSyxFQUFFO0VBQ1QsQ0FBQyxDQUFDO0VBQ0YsTUFBTSxDQUFDQyxPQUFPLEVBQUVDLFVBQVUsQ0FBQyxHQUFHekgsMkNBQWMsQ0FBQyxLQUFLLENBQUM7RUFDbkQsTUFBTTBILGVBQWUsR0FBRzFILDhDQUFpQixDQUFDLENBQUM0SCxLQUFLLEVBQUVDLFFBQVEsS0FBSztJQUM3RDtJQUNBO0lBQ0EsTUFBTUMsZ0JBQWdCLEdBQUdqRSxRQUFRLEdBQUdvQixLQUFLLENBQUM1QyxNQUFNLEdBQUd3RixRQUFRLENBQUN4RixNQUFNLEdBQUd3RixRQUFRLEtBQUssSUFBSTtJQUN0RixJQUFJLENBQUNDLGdCQUFnQixJQUFJLENBQUN0RSxXQUFXLEVBQUU7TUFDckM7SUFDRjtJQUNBLElBQUl1RSxhQUFhO0lBQ2pCLElBQUlsRSxRQUFRLEVBQUU7TUFDWmtFLGFBQWEsR0FBRyxFQUFFO0lBQ3BCLENBQUMsTUFBTSxJQUFJRixRQUFRLElBQUksSUFBSSxFQUFFO01BQzNCRSxhQUFhLEdBQUcsRUFBRTtJQUNwQixDQUFDLE1BQU07TUFDTCxNQUFNbEMsV0FBVyxHQUFHckUsY0FBYyxDQUFDcUcsUUFBUSxDQUFDO01BQzVDRSxhQUFhLEdBQUcsT0FBT2xDLFdBQVcsS0FBSyxRQUFRLEdBQUdBLFdBQVcsR0FBRyxFQUFFO0lBQ3BFO0lBQ0EsSUFBSXRFLFVBQVUsS0FBS3dHLGFBQWEsRUFBRTtNQUNoQztJQUNGO0lBQ0FULGtCQUFrQixDQUFDUyxhQUFhLENBQUM7SUFDakMsSUFBSTFDLGFBQWEsRUFBRTtNQUNqQkEsYUFBYSxDQUFDdUMsS0FBSyxFQUFFRyxhQUFhLEVBQUUsT0FBTyxDQUFDO0lBQzlDO0VBQ0YsQ0FBQyxFQUFFLENBQUN2RyxjQUFjLEVBQUVELFVBQVUsRUFBRXNDLFFBQVEsRUFBRXdCLGFBQWEsRUFBRWlDLGtCQUFrQixFQUFFOUQsV0FBVyxFQUFFeUIsS0FBSyxDQUFDLENBQUM7RUFDakcsTUFBTSxDQUFDTSxJQUFJLEVBQUV5QyxZQUFZLENBQUMsR0FBRzFILCtEQUFhLENBQUM7SUFDekM2RyxVQUFVLEVBQUUzQixRQUFRO0lBQ3BCNEIsT0FBTyxFQUFFLEtBQUs7SUFDZEMsSUFBSSxFQUFFMUQsYUFBYTtJQUNuQjRELEtBQUssRUFBRTtFQUNULENBQUMsQ0FBQztFQUNGLE1BQU0sQ0FBQ1UsYUFBYSxFQUFFQyxnQkFBZ0IsQ0FBQyxHQUFHbEksMkNBQWMsQ0FBQyxJQUFJLENBQUM7RUFDOUQsTUFBTW1JLHlCQUF5QixHQUFHLENBQUN0RSxRQUFRLElBQUlvQixLQUFLLElBQUksSUFBSSxJQUFJMUQsVUFBVSxLQUFLQyxjQUFjLENBQUN5RCxLQUFLLENBQUM7RUFDcEcsTUFBTW1ELFNBQVMsR0FBRzdDLElBQUksSUFBSSxDQUFDRyxRQUFRO0VBQ25DLE1BQU0vRCxlQUFlLEdBQUd5RyxTQUFTLEdBQUdoRSxhQUFhLENBQUM5QyxPQUFPLENBQUNNLE1BQU0sQ0FBQ0MsTUFBTSxJQUFJO0lBQ3pFLElBQUl3QyxxQkFBcUIsSUFBSSxDQUFDUixRQUFRLEdBQUdvQixLQUFLLEdBQUcsQ0FBQ0EsS0FBSyxDQUFDLEVBQUVvRCxJQUFJLENBQUNDLE1BQU0sSUFBSUEsTUFBTSxLQUFLLElBQUksSUFBSXRELG9CQUFvQixDQUFDbkQsTUFBTSxFQUFFeUcsTUFBTSxDQUFDLENBQUMsRUFBRTtNQUNqSSxPQUFPLEtBQUs7SUFDZDtJQUNBLE9BQU8sSUFBSTtFQUNiLENBQUMsQ0FBQztFQUNGO0VBQ0E7RUFDQTtJQUNFL0csVUFBVSxFQUFFNEcseUJBQXlCLElBQUlGLGFBQWEsR0FBRyxFQUFFLEdBQUcxRyxVQUFVO0lBQ3hFQztFQUNGLENBQUMsQ0FBQyxHQUFHLEVBQUU7RUFDUCxNQUFNK0csYUFBYSxHQUFHOUgsK0RBQWdCLENBQUM7SUFDckNrQixlQUFlO0lBQ2ZzRCxLQUFLO0lBQ0wxRDtFQUNGLENBQUMsQ0FBQztFQUNGdkIsNENBQWUsQ0FBQyxNQUFNO0lBQ3BCLE1BQU15SSxXQUFXLEdBQUd4RCxLQUFLLEtBQUtzRCxhQUFhLENBQUN0RCxLQUFLO0lBQ2pELElBQUl1QyxPQUFPLElBQUksQ0FBQ2lCLFdBQVcsRUFBRTtNQUMzQjtJQUNGOztJQUVBO0lBQ0EsSUFBSWhGLFFBQVEsSUFBSSxDQUFDZ0YsV0FBVyxFQUFFO01BQzVCO0lBQ0Y7SUFDQWYsZUFBZSxDQUFDLElBQUksRUFBRXpDLEtBQUssQ0FBQztFQUM5QixDQUFDLEVBQUUsQ0FBQ0EsS0FBSyxFQUFFeUMsZUFBZSxFQUFFRixPQUFPLEVBQUVlLGFBQWEsQ0FBQ3RELEtBQUssRUFBRXhCLFFBQVEsQ0FBQyxDQUFDO0VBQ3BFLE1BQU1pRixnQkFBZ0IsR0FBR25ELElBQUksSUFBSTVELGVBQWUsQ0FBQ1UsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDcUQsUUFBUTtFQUN4RSxJQUFJSSxLQUFxQyxFQUFFLEVBTzFDO0VBQ0QsTUFBTWdELFFBQVEsR0FBRzFJLCtEQUFnQixDQUFDMkksVUFBVSxJQUFJO0lBQzlDLElBQUlBLFVBQVUsS0FBSyxDQUFDLENBQUMsRUFBRTtNQUNyQnJDLFFBQVEsQ0FBQy9ELE9BQU8sQ0FBQ3FHLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUMsTUFBTTtNQUNMckMsUUFBUSxDQUFDc0MsYUFBYSxDQUFFLG9CQUFtQkYsVUFBVyxJQUFHLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLENBQUM7SUFDcEU7RUFDRixDQUFDLENBQUM7O0VBRUY7RUFDQWhKLDRDQUFlLENBQUMsTUFBTTtJQUNwQixJQUFJNkQsUUFBUSxJQUFJaUQsVUFBVSxHQUFHN0IsS0FBSyxDQUFDNUMsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUM3QzBFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUNqQitCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNkO0VBQ0YsQ0FBQyxFQUFFLENBQUM3RCxLQUFLLEVBQUVwQixRQUFRLEVBQUVpRCxVQUFVLEVBQUVnQyxRQUFRLENBQUMsQ0FBQztFQUMzQyxTQUFTSSxnQkFBZ0JBLENBQUNDLEtBQUssRUFBRUMsU0FBUyxFQUFFO0lBQzFDLElBQUksQ0FBQzNHLFVBQVUsQ0FBQ0UsT0FBTyxJQUFJd0csS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO01BQ3ZDLE9BQU8sQ0FBQyxDQUFDO0lBQ1g7SUFDQSxJQUFJRSxTQUFTLEdBQUdGLEtBQUs7SUFDckIsT0FBTyxJQUFJLEVBQUU7TUFDWDtNQUNBLElBQUlDLFNBQVMsS0FBSyxNQUFNLElBQUlDLFNBQVMsS0FBSzFILGVBQWUsQ0FBQ1UsTUFBTSxJQUFJK0csU0FBUyxLQUFLLFVBQVUsSUFBSUMsU0FBUyxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ2hILE9BQU8sQ0FBQyxDQUFDO01BQ1g7TUFDQSxNQUFNeEgsTUFBTSxHQUFHWSxVQUFVLENBQUNFLE9BQU8sQ0FBQ3NHLGFBQWEsQ0FBRSx1QkFBc0JJLFNBQVUsSUFBRyxDQUFDOztNQUVyRjtNQUNBLE1BQU1DLGlCQUFpQixHQUFHcEYsc0JBQXNCLEdBQUcsS0FBSyxHQUFHLENBQUNyQyxNQUFNLElBQUlBLE1BQU0sQ0FBQ21DLFFBQVEsSUFBSW5DLE1BQU0sQ0FBQzBILFlBQVksQ0FBQyxlQUFlLENBQUMsS0FBSyxNQUFNO01BQ3hJLElBQUkxSCxNQUFNLElBQUksQ0FBQ0EsTUFBTSxDQUFDMkgsWUFBWSxDQUFDLFVBQVUsQ0FBQyxJQUFJRixpQkFBaUIsRUFBRTtRQUNuRTtRQUNBRCxTQUFTLElBQUlELFNBQVMsS0FBSyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztNQUM1QyxDQUFDLE1BQU07UUFDTCxPQUFPQyxTQUFTO01BQ2xCO0lBQ0Y7RUFDRjtFQUNBLE1BQU1JLG1CQUFtQixHQUFHckosK0RBQWdCLENBQUMsQ0FBQztJQUM1Q3dILEtBQUs7SUFDTHVCLEtBQUs7SUFDTE8sTUFBTSxHQUFHO0VBQ1gsQ0FBQyxLQUFLO0lBQ0p6QyxtQkFBbUIsQ0FBQ3RFLE9BQU8sR0FBR3dHLEtBQUs7O0lBRW5DO0lBQ0EsSUFBSUEsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO01BQ2hCekMsUUFBUSxDQUFDL0QsT0FBTyxDQUFDZ0gsZUFBZSxDQUFDLHVCQUF1QixDQUFDO0lBQzNELENBQUMsTUFBTTtNQUNMakQsUUFBUSxDQUFDL0QsT0FBTyxDQUFDaUgsWUFBWSxDQUFDLHVCQUF1QixFQUFHLEdBQUVoRixFQUFHLFdBQVV1RSxLQUFNLEVBQUMsQ0FBQztJQUNqRjtJQUNBLElBQUkvRCxpQkFBaUIsRUFBRTtNQUNyQkEsaUJBQWlCLENBQUN3QyxLQUFLLEVBQUV1QixLQUFLLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHeEgsZUFBZSxDQUFDd0gsS0FBSyxDQUFDLEVBQUVPLE1BQU0sQ0FBQztJQUNoRjtJQUNBLElBQUksQ0FBQ2pILFVBQVUsQ0FBQ0UsT0FBTyxFQUFFO01BQ3ZCO0lBQ0Y7SUFDQSxNQUFNa0gsSUFBSSxHQUFHcEgsVUFBVSxDQUFDRSxPQUFPLENBQUNzRyxhQUFhLENBQUUsbUJBQWtCOUYsd0JBQXlCLFVBQVMsQ0FBQztJQUNwRyxJQUFJMEcsSUFBSSxFQUFFO01BQ1JBLElBQUksQ0FBQ0MsU0FBUyxDQUFDQyxNQUFNLENBQUUsR0FBRTVHLHdCQUF5QixVQUFTLENBQUM7TUFDNUQwRyxJQUFJLENBQUNDLFNBQVMsQ0FBQ0MsTUFBTSxDQUFFLEdBQUU1Ryx3QkFBeUIsZUFBYyxDQUFDO0lBQ25FO0lBQ0EsSUFBSTZHLFdBQVcsR0FBR3ZILFVBQVUsQ0FBQ0UsT0FBTztJQUNwQyxJQUFJRixVQUFVLENBQUNFLE9BQU8sQ0FBQzRHLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBSyxTQUFTLEVBQUU7TUFDekRTLFdBQVcsR0FBR3ZILFVBQVUsQ0FBQ0UsT0FBTyxDQUFDQyxhQUFhLENBQUNxRyxhQUFhLENBQUMsa0JBQWtCLENBQUM7SUFDbEY7O0lBRUE7SUFDQSxJQUFJLENBQUNlLFdBQVcsRUFBRTtNQUNoQjtJQUNGO0lBQ0EsSUFBSWIsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO01BQ2hCYSxXQUFXLENBQUNDLFNBQVMsR0FBRyxDQUFDO01BQ3pCO0lBQ0Y7SUFDQSxNQUFNcEksTUFBTSxHQUFHWSxVQUFVLENBQUNFLE9BQU8sQ0FBQ3NHLGFBQWEsQ0FBRSx1QkFBc0JFLEtBQU0sSUFBRyxDQUFDO0lBQ2pGLElBQUksQ0FBQ3RILE1BQU0sRUFBRTtNQUNYO0lBQ0Y7SUFDQUEsTUFBTSxDQUFDaUksU0FBUyxDQUFDSSxHQUFHLENBQUUsR0FBRS9HLHdCQUF5QixVQUFTLENBQUM7SUFDM0QsSUFBSXVHLE1BQU0sS0FBSyxVQUFVLEVBQUU7TUFDekI3SCxNQUFNLENBQUNpSSxTQUFTLENBQUNJLEdBQUcsQ0FBRSxHQUFFL0csd0JBQXlCLGVBQWMsQ0FBQztJQUNsRTs7SUFFQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSTZHLFdBQVcsQ0FBQ0csWUFBWSxHQUFHSCxXQUFXLENBQUNJLFlBQVksSUFBSVYsTUFBTSxLQUFLLE9BQU8sSUFBSUEsTUFBTSxLQUFLLE9BQU8sRUFBRTtNQUNuRyxNQUFNVyxPQUFPLEdBQUd4SSxNQUFNO01BQ3RCLE1BQU15SSxZQUFZLEdBQUdOLFdBQVcsQ0FBQ0ksWUFBWSxHQUFHSixXQUFXLENBQUNDLFNBQVM7TUFDckUsTUFBTU0sYUFBYSxHQUFHRixPQUFPLENBQUNHLFNBQVMsR0FBR0gsT0FBTyxDQUFDSSxZQUFZO01BQzlELElBQUlGLGFBQWEsR0FBR0QsWUFBWSxFQUFFO1FBQ2hDTixXQUFXLENBQUNDLFNBQVMsR0FBR00sYUFBYSxHQUFHUCxXQUFXLENBQUNJLFlBQVk7TUFDbEUsQ0FBQyxNQUFNLElBQUlDLE9BQU8sQ0FBQ0csU0FBUyxHQUFHSCxPQUFPLENBQUNJLFlBQVksSUFBSS9GLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUdzRixXQUFXLENBQUNDLFNBQVMsRUFBRTtRQUNqR0QsV0FBVyxDQUFDQyxTQUFTLEdBQUdJLE9BQU8sQ0FBQ0csU0FBUyxHQUFHSCxPQUFPLENBQUNJLFlBQVksSUFBSS9GLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO01BQ3hGO0lBQ0Y7RUFDRixDQUFDLENBQUM7RUFDRixNQUFNZ0csc0JBQXNCLEdBQUd0SywrREFBZ0IsQ0FBQyxDQUFDO0lBQy9Dd0gsS0FBSztJQUNMK0MsSUFBSTtJQUNKdkIsU0FBUyxHQUFHLE1BQU07SUFDbEJNLE1BQU0sR0FBRztFQUNYLENBQUMsS0FBSztJQUNKLElBQUksQ0FBQ3RCLFNBQVMsRUFBRTtNQUNkO0lBQ0Y7SUFDQSxNQUFNd0MsWUFBWSxHQUFHQSxDQUFBLEtBQU07TUFDekIsTUFBTUMsUUFBUSxHQUFHbEosZUFBZSxDQUFDVSxNQUFNLEdBQUcsQ0FBQztNQUMzQyxJQUFJc0ksSUFBSSxLQUFLLE9BQU8sRUFBRTtRQUNwQixPQUFPM0Qsa0JBQWtCO01BQzNCO01BQ0EsSUFBSTJELElBQUksS0FBSyxPQUFPLEVBQUU7UUFDcEIsT0FBTyxDQUFDO01BQ1Y7TUFDQSxJQUFJQSxJQUFJLEtBQUssS0FBSyxFQUFFO1FBQ2xCLE9BQU9FLFFBQVE7TUFDakI7TUFDQSxNQUFNQyxRQUFRLEdBQUc3RCxtQkFBbUIsQ0FBQ3RFLE9BQU8sR0FBR2dJLElBQUk7TUFDbkQsSUFBSUcsUUFBUSxHQUFHLENBQUMsRUFBRTtRQUNoQixJQUFJQSxRQUFRLEtBQUssQ0FBQyxDQUFDLElBQUloRyxrQkFBa0IsRUFBRTtVQUN6QyxPQUFPLENBQUMsQ0FBQztRQUNYO1FBQ0EsSUFBSVgsZUFBZSxJQUFJOEMsbUJBQW1CLENBQUN0RSxPQUFPLEtBQUssQ0FBQyxDQUFDLElBQUlvSSxJQUFJLENBQUNDLEdBQUcsQ0FBQ0wsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1VBQy9FLE9BQU8sQ0FBQztRQUNWO1FBQ0EsT0FBT0UsUUFBUTtNQUNqQjtNQUNBLElBQUlDLFFBQVEsR0FBR0QsUUFBUSxFQUFFO1FBQ3ZCLElBQUlDLFFBQVEsS0FBS0QsUUFBUSxHQUFHLENBQUMsSUFBSS9GLGtCQUFrQixFQUFFO1VBQ25ELE9BQU8sQ0FBQyxDQUFDO1FBQ1g7UUFDQSxJQUFJWCxlQUFlLElBQUk0RyxJQUFJLENBQUNDLEdBQUcsQ0FBQ0wsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1VBQ3pDLE9BQU9FLFFBQVE7UUFDakI7UUFDQSxPQUFPLENBQUM7TUFDVjtNQUNBLE9BQU9DLFFBQVE7SUFDakIsQ0FBQztJQUNELE1BQU1HLFNBQVMsR0FBRy9CLGdCQUFnQixDQUFDMEIsWUFBWSxDQUFDLENBQUMsRUFBRXhCLFNBQVMsQ0FBQztJQUM3REssbUJBQW1CLENBQUM7TUFDbEJOLEtBQUssRUFBRThCLFNBQVM7TUFDaEJ2QixNQUFNO01BQ045QjtJQUNGLENBQUMsQ0FBQzs7SUFFRjtJQUNBLElBQUl4RSxZQUFZLElBQUl1SCxJQUFJLEtBQUssT0FBTyxFQUFFO01BQ3BDLElBQUlNLFNBQVMsS0FBSyxDQUFDLENBQUMsRUFBRTtRQUNwQnZFLFFBQVEsQ0FBQy9ELE9BQU8sQ0FBQ3NDLEtBQUssR0FBRzFELFVBQVU7TUFDckMsQ0FBQyxNQUFNO1FBQ0wsTUFBTU0sTUFBTSxHQUFHTCxjQUFjLENBQUNHLGVBQWUsQ0FBQ3NKLFNBQVMsQ0FBQyxDQUFDO1FBQ3pEdkUsUUFBUSxDQUFDL0QsT0FBTyxDQUFDc0MsS0FBSyxHQUFHcEQsTUFBTTs7UUFFL0I7UUFDQTtRQUNBLE1BQU1zSCxLQUFLLEdBQUd0SCxNQUFNLENBQUNILFdBQVcsQ0FBQyxDQUFDLENBQUNLLE9BQU8sQ0FBQ1IsVUFBVSxDQUFDRyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLElBQUl5SCxLQUFLLEtBQUssQ0FBQyxJQUFJNUgsVUFBVSxDQUFDYyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQ3hDcUUsUUFBUSxDQUFDL0QsT0FBTyxDQUFDdUksaUJBQWlCLENBQUMzSixVQUFVLENBQUNjLE1BQU0sRUFBRVIsTUFBTSxDQUFDUSxNQUFNLENBQUM7UUFDdEU7TUFDRjtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0VBQ0YsTUFBTThJLDRCQUE0QixHQUFHQSxDQUFBLEtBQU07SUFDekMsTUFBTUMsV0FBVyxHQUFHQSxDQUFDQyxNQUFNLEVBQUUvQyxNQUFNLEtBQUs7TUFDdEMsTUFBTWdELE1BQU0sR0FBR0QsTUFBTSxHQUFHN0osY0FBYyxDQUFDNkosTUFBTSxDQUFDLEdBQUcsRUFBRTtNQUNuRCxNQUFNRSxNQUFNLEdBQUdqRCxNQUFNLEdBQUc5RyxjQUFjLENBQUM4RyxNQUFNLENBQUMsR0FBRyxFQUFFO01BQ25ELE9BQU9nRCxNQUFNLEtBQUtDLE1BQU07SUFDMUIsQ0FBQztJQUNELElBQUl0RSxtQkFBbUIsQ0FBQ3RFLE9BQU8sS0FBSyxDQUFDLENBQUMsSUFBSTRGLGFBQWEsQ0FBQzVHLGVBQWUsSUFBSTRHLGFBQWEsQ0FBQzVHLGVBQWUsQ0FBQ1UsTUFBTSxLQUFLVixlQUFlLENBQUNVLE1BQU0sSUFBSWtHLGFBQWEsQ0FBQ2hILFVBQVUsS0FBS0EsVUFBVSxLQUFLc0MsUUFBUSxHQUFHb0IsS0FBSyxDQUFDNUMsTUFBTSxLQUFLa0csYUFBYSxDQUFDdEQsS0FBSyxDQUFDNUMsTUFBTSxJQUFJa0csYUFBYSxDQUFDdEQsS0FBSyxDQUFDdUcsS0FBSyxDQUFDLENBQUNDLEdBQUcsRUFBRXJKLENBQUMsS0FBS1osY0FBYyxDQUFDeUQsS0FBSyxDQUFDN0MsQ0FBQyxDQUFDLENBQUMsS0FBS1osY0FBYyxDQUFDaUssR0FBRyxDQUFDLENBQUMsR0FBR0wsV0FBVyxDQUFDN0MsYUFBYSxDQUFDdEQsS0FBSyxFQUFFQSxLQUFLLENBQUMsQ0FBQyxFQUFFO01BQ3RYLE1BQU15Ryx5QkFBeUIsR0FBR25ELGFBQWEsQ0FBQzVHLGVBQWUsQ0FBQ3NGLG1CQUFtQixDQUFDdEUsT0FBTyxDQUFDO01BQzVGLElBQUkrSSx5QkFBeUIsRUFBRTtRQUM3QixNQUFNQywrQkFBK0IsR0FBR2hLLGVBQWUsQ0FBQzBHLElBQUksQ0FBQ3hHLE1BQU0sSUFBSTtVQUNyRSxPQUFPTCxjQUFjLENBQUNLLE1BQU0sQ0FBQyxLQUFLTCxjQUFjLENBQUNrSyx5QkFBeUIsQ0FBQztRQUM3RSxDQUFDLENBQUM7UUFDRixJQUFJQywrQkFBK0IsRUFBRTtVQUNuQyxPQUFPLElBQUk7UUFDYjtNQUNGO0lBQ0Y7SUFDQSxPQUFPLEtBQUs7RUFDZCxDQUFDO0VBQ0QsTUFBTUMsb0JBQW9CLEdBQUc1TCw4Q0FBaUIsQ0FBQyxNQUFNO0lBQ25ELElBQUksQ0FBQ29JLFNBQVMsRUFBRTtNQUNkO0lBQ0Y7O0lBRUE7SUFDQTtJQUNBLElBQUkrQyw0QkFBNEIsQ0FBQyxDQUFDLEVBQUU7TUFDbEM7SUFDRjtJQUNBLE1BQU1VLFNBQVMsR0FBR2hJLFFBQVEsR0FBR29CLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBR0EsS0FBSzs7SUFFN0M7SUFDQSxJQUFJdEQsZUFBZSxDQUFDVSxNQUFNLEtBQUssQ0FBQyxJQUFJd0osU0FBUyxJQUFJLElBQUksRUFBRTtNQUNyRG5CLHNCQUFzQixDQUFDO1FBQ3JCQyxJQUFJLEVBQUU7TUFDUixDQUFDLENBQUM7TUFDRjtJQUNGO0lBQ0EsSUFBSSxDQUFDbEksVUFBVSxDQUFDRSxPQUFPLEVBQUU7TUFDdkI7SUFDRjs7SUFFQTtJQUNBLElBQUlrSixTQUFTLElBQUksSUFBSSxFQUFFO01BQ3JCLE1BQU1DLGFBQWEsR0FBR25LLGVBQWUsQ0FBQ3NGLG1CQUFtQixDQUFDdEUsT0FBTyxDQUFDOztNQUVsRTtNQUNBLElBQUlrQixRQUFRLElBQUlpSSxhQUFhLElBQUk3SixTQUFTLENBQUNnRCxLQUFLLEVBQUV3RyxHQUFHLElBQUl6RyxvQkFBb0IsQ0FBQzhHLGFBQWEsRUFBRUwsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtRQUN6RztNQUNGO01BQ0EsTUFBTU0sU0FBUyxHQUFHOUosU0FBUyxDQUFDTixlQUFlLEVBQUVxSyxVQUFVLElBQUloSCxvQkFBb0IsQ0FBQ2dILFVBQVUsRUFBRUgsU0FBUyxDQUFDLENBQUM7TUFDdkcsSUFBSUUsU0FBUyxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ3BCckIsc0JBQXNCLENBQUM7VUFDckJDLElBQUksRUFBRTtRQUNSLENBQUMsQ0FBQztNQUNKLENBQUMsTUFBTTtRQUNMbEIsbUJBQW1CLENBQUM7VUFDbEJOLEtBQUssRUFBRTRDO1FBQ1QsQ0FBQyxDQUFDO01BQ0o7TUFDQTtJQUNGOztJQUVBO0lBQ0EsSUFBSTlFLG1CQUFtQixDQUFDdEUsT0FBTyxJQUFJaEIsZUFBZSxDQUFDVSxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQzdEb0gsbUJBQW1CLENBQUM7UUFDbEJOLEtBQUssRUFBRXhILGVBQWUsQ0FBQ1UsTUFBTSxHQUFHO01BQ2xDLENBQUMsQ0FBQztNQUNGO0lBQ0Y7O0lBRUE7SUFDQW9ILG1CQUFtQixDQUFDO01BQ2xCTixLQUFLLEVBQUVsQyxtQkFBbUIsQ0FBQ3RFO0lBQzdCLENBQUMsQ0FBQztJQUNGO0lBQ0E7RUFDRixDQUFDLEVBQUU7RUFDSDtFQUNBaEIsZUFBZSxDQUFDVSxNQUFNO0VBQ3RCO0VBQ0E7RUFDQXdCLFFBQVEsR0FBRyxLQUFLLEdBQUdvQixLQUFLLEVBQUVaLHFCQUFxQixFQUFFcUcsc0JBQXNCLEVBQUVqQixtQkFBbUIsRUFBRXJCLFNBQVMsRUFBRTdHLFVBQVUsRUFBRXNDLFFBQVEsQ0FBQyxDQUFDO0VBQy9ILE1BQU1vSSxnQkFBZ0IsR0FBRzdMLCtEQUFnQixDQUFDOEwsSUFBSSxJQUFJO0lBQ2hEaE0sK0RBQU0sQ0FBQ3VDLFVBQVUsRUFBRXlKLElBQUksQ0FBQztJQUN4QixJQUFJLENBQUNBLElBQUksRUFBRTtNQUNUO0lBQ0Y7SUFDQU4sb0JBQW9CLENBQUMsQ0FBQztFQUN4QixDQUFDLENBQUM7RUFDRixJQUFJOUYsS0FBcUMsRUFBRSxFQVcxQztFQUNEOUYsNENBQWUsQ0FBQyxNQUFNO0lBQ3BCNEwsb0JBQW9CLENBQUMsQ0FBQztFQUN4QixDQUFDLEVBQUUsQ0FBQ0Esb0JBQW9CLENBQUMsQ0FBQztFQUMxQixNQUFNUSxVQUFVLEdBQUd4RSxLQUFLLElBQUk7SUFDMUIsSUFBSXJDLElBQUksRUFBRTtNQUNSO0lBQ0Y7SUFDQXlDLFlBQVksQ0FBQyxJQUFJLENBQUM7SUFDbEJFLGdCQUFnQixDQUFDLElBQUksQ0FBQztJQUN0QixJQUFJNUMsTUFBTSxFQUFFO01BQ1ZBLE1BQU0sQ0FBQ3NDLEtBQUssQ0FBQztJQUNmO0VBQ0YsQ0FBQztFQUNELE1BQU15RSxXQUFXLEdBQUdBLENBQUN6RSxLQUFLLEVBQUU4QixNQUFNLEtBQUs7SUFDckMsSUFBSSxDQUFDbkUsSUFBSSxFQUFFO01BQ1Q7SUFDRjtJQUNBeUMsWUFBWSxDQUFDLEtBQUssQ0FBQztJQUNuQixJQUFJN0MsT0FBTyxFQUFFO01BQ1hBLE9BQU8sQ0FBQ3lDLEtBQUssRUFBRThCLE1BQU0sQ0FBQztJQUN4QjtFQUNGLENBQUM7RUFDRCxNQUFNNEMsV0FBVyxHQUFHQSxDQUFDMUUsS0FBSyxFQUFFQyxRQUFRLEVBQUU2QixNQUFNLEVBQUU2QyxPQUFPLEtBQUs7SUFDeEQsSUFBSTFJLFFBQVEsRUFBRTtNQUNaLElBQUlvQixLQUFLLENBQUM1QyxNQUFNLEtBQUt3RixRQUFRLENBQUN4RixNQUFNLElBQUk0QyxLQUFLLENBQUN1RyxLQUFLLENBQUMsQ0FBQ0MsR0FBRyxFQUFFckosQ0FBQyxLQUFLcUosR0FBRyxLQUFLNUQsUUFBUSxDQUFDekYsQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUNwRjtNQUNGO0lBQ0YsQ0FBQyxNQUFNLElBQUk2QyxLQUFLLEtBQUs0QyxRQUFRLEVBQUU7TUFDN0I7SUFDRjtJQUNBLElBQUkzQyxRQUFRLEVBQUU7TUFDWkEsUUFBUSxDQUFDMEMsS0FBSyxFQUFFQyxRQUFRLEVBQUU2QixNQUFNLEVBQUU2QyxPQUFPLENBQUM7SUFDNUM7SUFDQXJGLGFBQWEsQ0FBQ1csUUFBUSxDQUFDO0VBQ3pCLENBQUM7RUFDRCxNQUFNMkUsT0FBTyxHQUFHeE0seUNBQVksQ0FBQyxLQUFLLENBQUM7RUFDbkMsTUFBTXlNLGNBQWMsR0FBR0EsQ0FBQzdFLEtBQUssRUFBRS9GLE1BQU0sRUFBRTZLLFVBQVUsR0FBRyxjQUFjLEVBQUVDLE1BQU0sR0FBRyxTQUFTLEtBQUs7SUFDekYsSUFBSWpELE1BQU0sR0FBR2dELFVBQVU7SUFDdkIsSUFBSTdFLFFBQVEsR0FBR2hHLE1BQU07SUFDckIsSUFBSWdDLFFBQVEsRUFBRTtNQUNaZ0UsUUFBUSxHQUFHK0UsS0FBSyxDQUFDQyxPQUFPLENBQUM1SCxLQUFLLENBQUMsR0FBR0EsS0FBSyxDQUFDakQsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFO01BQ3BELElBQUk4RCxLQUFxQyxFQUFFLEVBSzFDO01BQ0QsTUFBTWlHLFNBQVMsR0FBRzlKLFNBQVMsQ0FBQzRGLFFBQVEsRUFBRWdFLFNBQVMsSUFBSTdHLG9CQUFvQixDQUFDbkQsTUFBTSxFQUFFZ0ssU0FBUyxDQUFDLENBQUM7TUFDM0YsSUFBSUUsU0FBUyxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ3BCbEUsUUFBUSxDQUFDa0YsSUFBSSxDQUFDbEwsTUFBTSxDQUFDO01BQ3ZCLENBQUMsTUFBTSxJQUFJOEssTUFBTSxLQUFLLFVBQVUsRUFBRTtRQUNoQzlFLFFBQVEsQ0FBQ21GLE1BQU0sQ0FBQ2pCLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDN0JyQyxNQUFNLEdBQUcsY0FBYztNQUN6QjtJQUNGO0lBQ0FoQyxlQUFlLENBQUNFLEtBQUssRUFBRUMsUUFBUSxDQUFDO0lBQ2hDeUUsV0FBVyxDQUFDMUUsS0FBSyxFQUFFQyxRQUFRLEVBQUU2QixNQUFNLEVBQUU7TUFDbkM3SDtJQUNGLENBQUMsQ0FBQztJQUNGLElBQUksQ0FBQ2tDLG9CQUFvQixLQUFLLENBQUM2RCxLQUFLLElBQUksQ0FBQ0EsS0FBSyxDQUFDcUYsT0FBTyxJQUFJLENBQUNyRixLQUFLLENBQUNzRixPQUFPLENBQUMsRUFBRTtNQUN6RWIsV0FBVyxDQUFDekUsS0FBSyxFQUFFOEIsTUFBTSxDQUFDO0lBQzVCO0lBQ0EsSUFBSW5HLFlBQVksS0FBSyxJQUFJLElBQUlBLFlBQVksS0FBSyxPQUFPLElBQUlpSixPQUFPLENBQUM3SixPQUFPLElBQUlZLFlBQVksS0FBSyxPQUFPLElBQUksQ0FBQ2lKLE9BQU8sQ0FBQzdKLE9BQU8sRUFBRTtNQUN4SCtELFFBQVEsQ0FBQy9ELE9BQU8sQ0FBQ3dLLElBQUksQ0FBQyxDQUFDO0lBQ3pCO0VBQ0YsQ0FBQztFQUNELFNBQVNDLGFBQWFBLENBQUNqRSxLQUFLLEVBQUVDLFNBQVMsRUFBRTtJQUN2QyxJQUFJRCxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7TUFDaEIsT0FBTyxDQUFDLENBQUM7SUFDWDtJQUNBLElBQUlFLFNBQVMsR0FBR0YsS0FBSztJQUNyQixPQUFPLElBQUksRUFBRTtNQUNYO01BQ0EsSUFBSUMsU0FBUyxLQUFLLE1BQU0sSUFBSUMsU0FBUyxLQUFLcEUsS0FBSyxDQUFDNUMsTUFBTSxJQUFJK0csU0FBUyxLQUFLLFVBQVUsSUFBSUMsU0FBUyxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ3RHLE9BQU8sQ0FBQyxDQUFDO01BQ1g7TUFDQSxNQUFNeEgsTUFBTSxHQUFHOEUsUUFBUSxDQUFDc0MsYUFBYSxDQUFFLG9CQUFtQkksU0FBVSxJQUFHLENBQUM7O01BRXhFO01BQ0EsSUFBSSxDQUFDeEgsTUFBTSxJQUFJLENBQUNBLE1BQU0sQ0FBQzJILFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSTNILE1BQU0sQ0FBQ21DLFFBQVEsSUFBSW5DLE1BQU0sQ0FBQzBILFlBQVksQ0FBQyxlQUFlLENBQUMsS0FBSyxNQUFNLEVBQUU7UUFDckhGLFNBQVMsSUFBSUQsU0FBUyxLQUFLLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO01BQzVDLENBQUMsTUFBTTtRQUNMLE9BQU9DLFNBQVM7TUFDbEI7SUFDRjtFQUNGO0VBQ0EsTUFBTWdFLGNBQWMsR0FBR0EsQ0FBQ3pGLEtBQUssRUFBRXdCLFNBQVMsS0FBSztJQUMzQyxJQUFJLENBQUN2RixRQUFRLEVBQUU7TUFDYjtJQUNGO0lBQ0EsSUFBSXRDLFVBQVUsS0FBSyxFQUFFLEVBQUU7TUFDckI4SyxXQUFXLENBQUN6RSxLQUFLLEVBQUUsYUFBYSxDQUFDO0lBQ25DO0lBQ0EsSUFBSTBGLE9BQU8sR0FBR3hHLFVBQVU7SUFDeEIsSUFBSUEsVUFBVSxLQUFLLENBQUMsQ0FBQyxFQUFFO01BQ3JCLElBQUl2RixVQUFVLEtBQUssRUFBRSxJQUFJNkgsU0FBUyxLQUFLLFVBQVUsRUFBRTtRQUNqRGtFLE9BQU8sR0FBR3JJLEtBQUssQ0FBQzVDLE1BQU0sR0FBRyxDQUFDO01BQzVCO0lBQ0YsQ0FBQyxNQUFNO01BQ0xpTCxPQUFPLElBQUlsRSxTQUFTLEtBQUssTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7TUFDeEMsSUFBSWtFLE9BQU8sR0FBRyxDQUFDLEVBQUU7UUFDZkEsT0FBTyxHQUFHLENBQUM7TUFDYjtNQUNBLElBQUlBLE9BQU8sS0FBS3JJLEtBQUssQ0FBQzVDLE1BQU0sRUFBRTtRQUM1QmlMLE9BQU8sR0FBRyxDQUFDLENBQUM7TUFDZDtJQUNGO0lBQ0FBLE9BQU8sR0FBR0YsYUFBYSxDQUFDRSxPQUFPLEVBQUVsRSxTQUFTLENBQUM7SUFDM0NyQyxhQUFhLENBQUN1RyxPQUFPLENBQUM7SUFDdEJ4RSxRQUFRLENBQUN3RSxPQUFPLENBQUM7RUFDbkIsQ0FBQztFQUNELE1BQU1DLFdBQVcsR0FBRzNGLEtBQUssSUFBSTtJQUMzQnJCLFdBQVcsQ0FBQzVELE9BQU8sR0FBRyxJQUFJO0lBQzFCMkUsa0JBQWtCLENBQUMsRUFBRSxDQUFDO0lBQ3RCLElBQUlqQyxhQUFhLEVBQUU7TUFDakJBLGFBQWEsQ0FBQ3VDLEtBQUssRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDO0lBQ25DO0lBQ0EwRSxXQUFXLENBQUMxRSxLQUFLLEVBQUUvRCxRQUFRLEdBQUcsRUFBRSxHQUFHLElBQUksRUFBRSxPQUFPLENBQUM7RUFDbkQsQ0FBQztFQUNELE1BQU0ySixhQUFhLEdBQUdDLEtBQUssSUFBSTdGLEtBQUssSUFBSTtJQUN0QyxJQUFJNkYsS0FBSyxDQUFDQyxTQUFTLEVBQUU7TUFDbkJELEtBQUssQ0FBQ0MsU0FBUyxDQUFDOUYsS0FBSyxDQUFDO0lBQ3hCO0lBQ0EsSUFBSUEsS0FBSyxDQUFDK0YsbUJBQW1CLEVBQUU7TUFDN0I7SUFDRjtJQUNBLElBQUk3RyxVQUFVLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLENBQUMvRSxPQUFPLENBQUM2RixLQUFLLENBQUNnRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtNQUM5RTdHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUNqQitCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNkOztJQUVBO0lBQ0EsSUFBSWxCLEtBQUssQ0FBQ2lHLEtBQUssS0FBSyxHQUFHLEVBQUU7TUFDdkIsUUFBUWpHLEtBQUssQ0FBQ2dHLEdBQUc7UUFDZixLQUFLLE1BQU07VUFDVCxJQUFJeEYsU0FBUyxJQUFJekQsaUJBQWlCLEVBQUU7WUFDbEM7WUFDQWlELEtBQUssQ0FBQ2tHLGNBQWMsQ0FBQyxDQUFDO1lBQ3RCcEQsc0JBQXNCLENBQUM7Y0FDckJDLElBQUksRUFBRSxPQUFPO2NBQ2J2QixTQUFTLEVBQUUsTUFBTTtjQUNqQk0sTUFBTSxFQUFFLFVBQVU7Y0FDbEI5QjtZQUNGLENBQUMsQ0FBQztVQUNKO1VBQ0E7UUFDRixLQUFLLEtBQUs7VUFDUixJQUFJUSxTQUFTLElBQUl6RCxpQkFBaUIsRUFBRTtZQUNsQztZQUNBaUQsS0FBSyxDQUFDa0csY0FBYyxDQUFDLENBQUM7WUFDdEJwRCxzQkFBc0IsQ0FBQztjQUNyQkMsSUFBSSxFQUFFLEtBQUs7Y0FDWHZCLFNBQVMsRUFBRSxVQUFVO2NBQ3JCTSxNQUFNLEVBQUUsVUFBVTtjQUNsQjlCO1lBQ0YsQ0FBQyxDQUFDO1VBQ0o7VUFDQTtRQUNGLEtBQUssUUFBUTtVQUNYO1VBQ0FBLEtBQUssQ0FBQ2tHLGNBQWMsQ0FBQyxDQUFDO1VBQ3RCcEQsc0JBQXNCLENBQUM7WUFDckJDLElBQUksRUFBRSxDQUFDcEksUUFBUTtZQUNmNkcsU0FBUyxFQUFFLFVBQVU7WUFDckJNLE1BQU0sRUFBRSxVQUFVO1lBQ2xCOUI7VUFDRixDQUFDLENBQUM7VUFDRndFLFVBQVUsQ0FBQ3hFLEtBQUssQ0FBQztVQUNqQjtRQUNGLEtBQUssVUFBVTtVQUNiO1VBQ0FBLEtBQUssQ0FBQ2tHLGNBQWMsQ0FBQyxDQUFDO1VBQ3RCcEQsc0JBQXNCLENBQUM7WUFDckJDLElBQUksRUFBRXBJLFFBQVE7WUFDZDZHLFNBQVMsRUFBRSxNQUFNO1lBQ2pCTSxNQUFNLEVBQUUsVUFBVTtZQUNsQjlCO1VBQ0YsQ0FBQyxDQUFDO1VBQ0Z3RSxVQUFVLENBQUN4RSxLQUFLLENBQUM7VUFDakI7UUFDRixLQUFLLFdBQVc7VUFDZDtVQUNBQSxLQUFLLENBQUNrRyxjQUFjLENBQUMsQ0FBQztVQUN0QnBELHNCQUFzQixDQUFDO1lBQ3JCQyxJQUFJLEVBQUUsQ0FBQztZQUNQdkIsU0FBUyxFQUFFLE1BQU07WUFDakJNLE1BQU0sRUFBRSxVQUFVO1lBQ2xCOUI7VUFDRixDQUFDLENBQUM7VUFDRndFLFVBQVUsQ0FBQ3hFLEtBQUssQ0FBQztVQUNqQjtRQUNGLEtBQUssU0FBUztVQUNaO1VBQ0FBLEtBQUssQ0FBQ2tHLGNBQWMsQ0FBQyxDQUFDO1VBQ3RCcEQsc0JBQXNCLENBQUM7WUFDckJDLElBQUksRUFBRSxDQUFDLENBQUM7WUFDUnZCLFNBQVMsRUFBRSxVQUFVO1lBQ3JCTSxNQUFNLEVBQUUsVUFBVTtZQUNsQjlCO1VBQ0YsQ0FBQyxDQUFDO1VBQ0Z3RSxVQUFVLENBQUN4RSxLQUFLLENBQUM7VUFDakI7UUFDRixLQUFLLFdBQVc7VUFDZHlGLGNBQWMsQ0FBQ3pGLEtBQUssRUFBRSxVQUFVLENBQUM7VUFDakM7UUFDRixLQUFLLFlBQVk7VUFDZnlGLGNBQWMsQ0FBQ3pGLEtBQUssRUFBRSxNQUFNLENBQUM7VUFDN0I7UUFDRixLQUFLLE9BQU87VUFDVixJQUFJWCxtQkFBbUIsQ0FBQ3RFLE9BQU8sS0FBSyxDQUFDLENBQUMsSUFBSXlGLFNBQVMsRUFBRTtZQUNuRCxNQUFNdkcsTUFBTSxHQUFHRixlQUFlLENBQUNzRixtQkFBbUIsQ0FBQ3RFLE9BQU8sQ0FBQztZQUMzRCxNQUFNcUIsUUFBUSxHQUFHTSxpQkFBaUIsR0FBR0EsaUJBQWlCLENBQUN6QyxNQUFNLENBQUMsR0FBRyxLQUFLOztZQUV0RTtZQUNBK0YsS0FBSyxDQUFDa0csY0FBYyxDQUFDLENBQUM7WUFDdEIsSUFBSTlKLFFBQVEsRUFBRTtjQUNaO1lBQ0Y7WUFDQXlJLGNBQWMsQ0FBQzdFLEtBQUssRUFBRS9GLE1BQU0sRUFBRSxjQUFjLENBQUM7O1lBRTdDO1lBQ0EsSUFBSXVCLFlBQVksRUFBRTtjQUNoQnNELFFBQVEsQ0FBQy9ELE9BQU8sQ0FBQ3VJLGlCQUFpQixDQUFDeEUsUUFBUSxDQUFDL0QsT0FBTyxDQUFDc0MsS0FBSyxDQUFDNUMsTUFBTSxFQUFFcUUsUUFBUSxDQUFDL0QsT0FBTyxDQUFDc0MsS0FBSyxDQUFDNUMsTUFBTSxDQUFDO1lBQ2xHO1VBQ0YsQ0FBQyxNQUFNLElBQUlvQixRQUFRLElBQUlsQyxVQUFVLEtBQUssRUFBRSxJQUFJNEcseUJBQXlCLEtBQUssS0FBSyxFQUFFO1lBQy9FLElBQUl0RSxRQUFRLEVBQUU7Y0FDWjtjQUNBK0QsS0FBSyxDQUFDa0csY0FBYyxDQUFDLENBQUM7WUFDeEI7WUFDQXJCLGNBQWMsQ0FBQzdFLEtBQUssRUFBRXJHLFVBQVUsRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDO1VBQy9EO1VBQ0E7UUFDRixLQUFLLFFBQVE7VUFDWCxJQUFJNkcsU0FBUyxFQUFFO1lBQ2I7WUFDQVIsS0FBSyxDQUFDa0csY0FBYyxDQUFDLENBQUM7WUFDdEI7WUFDQWxHLEtBQUssQ0FBQ21HLGVBQWUsQ0FBQyxDQUFDO1lBQ3ZCMUIsV0FBVyxDQUFDekUsS0FBSyxFQUFFLFFBQVEsQ0FBQztVQUM5QixDQUFDLE1BQU0sSUFBSWxFLGFBQWEsS0FBS25DLFVBQVUsS0FBSyxFQUFFLElBQUlzQyxRQUFRLElBQUlvQixLQUFLLENBQUM1QyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDL0U7WUFDQXVGLEtBQUssQ0FBQ2tHLGNBQWMsQ0FBQyxDQUFDO1lBQ3RCO1lBQ0FsRyxLQUFLLENBQUNtRyxlQUFlLENBQUMsQ0FBQztZQUN2QlIsV0FBVyxDQUFDM0YsS0FBSyxDQUFDO1VBQ3BCO1VBQ0E7UUFDRixLQUFLLFdBQVc7VUFDZCxJQUFJL0QsUUFBUSxJQUFJLENBQUM2QixRQUFRLElBQUluRSxVQUFVLEtBQUssRUFBRSxJQUFJMEQsS0FBSyxDQUFDNUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNsRSxNQUFNOEcsS0FBSyxHQUFHckMsVUFBVSxLQUFLLENBQUMsQ0FBQyxHQUFHN0IsS0FBSyxDQUFDNUMsTUFBTSxHQUFHLENBQUMsR0FBR3lFLFVBQVU7WUFDL0QsTUFBTWUsUUFBUSxHQUFHNUMsS0FBSyxDQUFDakQsS0FBSyxDQUFDLENBQUM7WUFDOUI2RixRQUFRLENBQUNtRixNQUFNLENBQUM3RCxLQUFLLEVBQUUsQ0FBQyxDQUFDO1lBQ3pCbUQsV0FBVyxDQUFDMUUsS0FBSyxFQUFFQyxRQUFRLEVBQUUsY0FBYyxFQUFFO2NBQzNDaEcsTUFBTSxFQUFFb0QsS0FBSyxDQUFDa0UsS0FBSztZQUNyQixDQUFDLENBQUM7VUFDSjtVQUNBO1FBQ0YsS0FBSyxRQUFRO1VBQ1gsSUFBSXRGLFFBQVEsSUFBSSxDQUFDNkIsUUFBUSxJQUFJbkUsVUFBVSxLQUFLLEVBQUUsSUFBSTBELEtBQUssQ0FBQzVDLE1BQU0sR0FBRyxDQUFDLElBQUl5RSxVQUFVLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDdkYsTUFBTXFDLEtBQUssR0FBR3JDLFVBQVU7WUFDeEIsTUFBTWUsUUFBUSxHQUFHNUMsS0FBSyxDQUFDakQsS0FBSyxDQUFDLENBQUM7WUFDOUI2RixRQUFRLENBQUNtRixNQUFNLENBQUM3RCxLQUFLLEVBQUUsQ0FBQyxDQUFDO1lBQ3pCbUQsV0FBVyxDQUFDMUUsS0FBSyxFQUFFQyxRQUFRLEVBQUUsY0FBYyxFQUFFO2NBQzNDaEcsTUFBTSxFQUFFb0QsS0FBSyxDQUFDa0UsS0FBSztZQUNyQixDQUFDLENBQUM7VUFDSjtVQUNBO1FBQ0Y7TUFDRjtJQUNGO0VBQ0YsQ0FBQztFQUNELE1BQU02RSxXQUFXLEdBQUdwRyxLQUFLLElBQUk7SUFDM0JILFVBQVUsQ0FBQyxJQUFJLENBQUM7SUFDaEIsSUFBSWhDLFdBQVcsSUFBSSxDQUFDYyxXQUFXLENBQUM1RCxPQUFPLEVBQUU7TUFDdkN5SixVQUFVLENBQUN4RSxLQUFLLENBQUM7SUFDbkI7RUFDRixDQUFDO0VBQ0QsTUFBTXFHLFVBQVUsR0FBR3JHLEtBQUssSUFBSTtJQUMxQjtJQUNBLElBQUkxRSxpQ0FBaUMsQ0FBQ1QsVUFBVSxDQUFDLEVBQUU7TUFDakRpRSxRQUFRLENBQUMvRCxPQUFPLENBQUNxRyxLQUFLLENBQUMsQ0FBQztNQUN4QjtJQUNGO0lBQ0F2QixVQUFVLENBQUMsS0FBSyxDQUFDO0lBQ2pCaEIsVUFBVSxDQUFDOUQsT0FBTyxHQUFHLElBQUk7SUFDekI0RCxXQUFXLENBQUM1RCxPQUFPLEdBQUcsS0FBSztJQUMzQixJQUFJVyxVQUFVLElBQUkyRCxtQkFBbUIsQ0FBQ3RFLE9BQU8sS0FBSyxDQUFDLENBQUMsSUFBSXlGLFNBQVMsRUFBRTtNQUNqRXFFLGNBQWMsQ0FBQzdFLEtBQUssRUFBRWpHLGVBQWUsQ0FBQ3NGLG1CQUFtQixDQUFDdEUsT0FBTyxDQUFDLEVBQUUsTUFBTSxDQUFDO0lBQzdFLENBQUMsTUFBTSxJQUFJVyxVQUFVLElBQUlHLFFBQVEsSUFBSWxDLFVBQVUsS0FBSyxFQUFFLEVBQUU7TUFDdERrTCxjQUFjLENBQUM3RSxLQUFLLEVBQUVyRyxVQUFVLEVBQUUsTUFBTSxFQUFFLFVBQVUsQ0FBQztJQUN2RCxDQUFDLE1BQU0sSUFBSWlDLFdBQVcsRUFBRTtNQUN0QmtFLGVBQWUsQ0FBQ0UsS0FBSyxFQUFFM0MsS0FBSyxDQUFDO0lBQy9CO0lBQ0FvSCxXQUFXLENBQUN6RSxLQUFLLEVBQUUsTUFBTSxDQUFDO0VBQzVCLENBQUM7RUFDRCxNQUFNc0csaUJBQWlCLEdBQUd0RyxLQUFLLElBQUk7SUFDakMsTUFBTUMsUUFBUSxHQUFHRCxLQUFLLENBQUN1RyxNQUFNLENBQUNsSixLQUFLO0lBQ25DLElBQUkxRCxVQUFVLEtBQUtzRyxRQUFRLEVBQUU7TUFDM0JQLGtCQUFrQixDQUFDTyxRQUFRLENBQUM7TUFDNUJLLGdCQUFnQixDQUFDLEtBQUssQ0FBQztNQUN2QixJQUFJN0MsYUFBYSxFQUFFO1FBQ2pCQSxhQUFhLENBQUN1QyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxPQUFPLENBQUM7TUFDekM7SUFDRjtJQUNBLElBQUlBLFFBQVEsS0FBSyxFQUFFLEVBQUU7TUFDbkIsSUFBSSxDQUFDL0QsZ0JBQWdCLElBQUksQ0FBQ0QsUUFBUSxFQUFFO1FBQ2xDeUksV0FBVyxDQUFDMUUsS0FBSyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUM7TUFDbkM7SUFDRixDQUFDLE1BQU07TUFDTHdFLFVBQVUsQ0FBQ3hFLEtBQUssQ0FBQztJQUNuQjtFQUNGLENBQUM7RUFDRCxNQUFNd0cscUJBQXFCLEdBQUd4RyxLQUFLLElBQUk7SUFDckMsTUFBTXVCLEtBQUssR0FBR2tGLE1BQU0sQ0FBQ3pHLEtBQUssQ0FBQzBHLGFBQWEsQ0FBQy9FLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzNFLElBQUl0QyxtQkFBbUIsQ0FBQ3RFLE9BQU8sS0FBS3dHLEtBQUssRUFBRTtNQUN6Q00sbUJBQW1CLENBQUM7UUFDbEI3QixLQUFLO1FBQ0x1QixLQUFLO1FBQ0xPLE1BQU0sRUFBRTtNQUNWLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUNELE1BQU02RSxzQkFBc0IsR0FBRzNHLEtBQUssSUFBSTtJQUN0QzZCLG1CQUFtQixDQUFDO01BQ2xCN0IsS0FBSztNQUNMdUIsS0FBSyxFQUFFa0YsTUFBTSxDQUFDekcsS0FBSyxDQUFDMEcsYUFBYSxDQUFDL0UsWUFBWSxDQUFDLG1CQUFtQixDQUFDLENBQUM7TUFDcEVHLE1BQU0sRUFBRTtJQUNWLENBQUMsQ0FBQztJQUNGOEMsT0FBTyxDQUFDN0osT0FBTyxHQUFHLElBQUk7RUFDeEIsQ0FBQztFQUNELE1BQU02TCxpQkFBaUIsR0FBRzVHLEtBQUssSUFBSTtJQUNqQyxNQUFNdUIsS0FBSyxHQUFHa0YsTUFBTSxDQUFDekcsS0FBSyxDQUFDMEcsYUFBYSxDQUFDL0UsWUFBWSxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDM0VrRCxjQUFjLENBQUM3RSxLQUFLLEVBQUVqRyxlQUFlLENBQUN3SCxLQUFLLENBQUMsRUFBRSxjQUFjLENBQUM7SUFDN0RxRCxPQUFPLENBQUM3SixPQUFPLEdBQUcsS0FBSztFQUN6QixDQUFDO0VBQ0QsTUFBTThMLGVBQWUsR0FBR3RGLEtBQUssSUFBSXZCLEtBQUssSUFBSTtJQUN4QyxNQUFNQyxRQUFRLEdBQUc1QyxLQUFLLENBQUNqRCxLQUFLLENBQUMsQ0FBQztJQUM5QjZGLFFBQVEsQ0FBQ21GLE1BQU0sQ0FBQzdELEtBQUssRUFBRSxDQUFDLENBQUM7SUFDekJtRCxXQUFXLENBQUMxRSxLQUFLLEVBQUVDLFFBQVEsRUFBRSxjQUFjLEVBQUU7TUFDM0NoRyxNQUFNLEVBQUVvRCxLQUFLLENBQUNrRSxLQUFLO0lBQ3JCLENBQUMsQ0FBQztFQUNKLENBQUM7RUFDRCxNQUFNdUYsb0JBQW9CLEdBQUc5RyxLQUFLLElBQUk7SUFDcEMsSUFBSXJDLElBQUksRUFBRTtNQUNSOEcsV0FBVyxDQUFDekUsS0FBSyxFQUFFLGFBQWEsQ0FBQztJQUNuQyxDQUFDLE1BQU07TUFDTHdFLFVBQVUsQ0FBQ3hFLEtBQUssQ0FBQztJQUNuQjtFQUNGLENBQUM7O0VBRUQ7RUFDQSxNQUFNK0csZUFBZSxHQUFHL0csS0FBSyxJQUFJO0lBQy9CO0lBQ0EsSUFBSSxDQUFDQSxLQUFLLENBQUMwRyxhQUFhLENBQUN6TCxRQUFRLENBQUMrRSxLQUFLLENBQUN1RyxNQUFNLENBQUMsRUFBRTtNQUMvQztJQUNGO0lBQ0EsSUFBSXZHLEtBQUssQ0FBQ3VHLE1BQU0sQ0FBQzVFLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSzNFLEVBQUUsRUFBRTtNQUMxQ2dELEtBQUssQ0FBQ2tHLGNBQWMsQ0FBQyxDQUFDO0lBQ3hCO0VBQ0YsQ0FBQzs7RUFFRDtFQUNBLE1BQU1jLFdBQVcsR0FBR2hILEtBQUssSUFBSTtJQUMzQjtJQUNBLElBQUksQ0FBQ0EsS0FBSyxDQUFDMEcsYUFBYSxDQUFDekwsUUFBUSxDQUFDK0UsS0FBSyxDQUFDdUcsTUFBTSxDQUFDLEVBQUU7TUFDL0M7SUFDRjtJQUNBekgsUUFBUSxDQUFDL0QsT0FBTyxDQUFDcUcsS0FBSyxDQUFDLENBQUM7SUFDeEIsSUFBSXJELGFBQWEsSUFBSWMsVUFBVSxDQUFDOUQsT0FBTyxJQUFJK0QsUUFBUSxDQUFDL0QsT0FBTyxDQUFDa00sWUFBWSxHQUFHbkksUUFBUSxDQUFDL0QsT0FBTyxDQUFDbU0sY0FBYyxLQUFLLENBQUMsRUFBRTtNQUNoSHBJLFFBQVEsQ0FBQy9ELE9BQU8sQ0FBQ29NLE1BQU0sQ0FBQyxDQUFDO0lBQzNCO0lBQ0F0SSxVQUFVLENBQUM5RCxPQUFPLEdBQUcsS0FBSztFQUM1QixDQUFDO0VBQ0QsTUFBTXFNLG9CQUFvQixHQUFHcEgsS0FBSyxJQUFJO0lBQ3BDLElBQUksQ0FBQzNELFlBQVksS0FBSzFDLFVBQVUsS0FBSyxFQUFFLElBQUksQ0FBQ2dFLElBQUksQ0FBQyxFQUFFO01BQ2pEbUosb0JBQW9CLENBQUM5RyxLQUFLLENBQUM7SUFDN0I7RUFDRixDQUFDO0VBQ0QsSUFBSXFILEtBQUssR0FBR3hMLFFBQVEsSUFBSWxDLFVBQVUsQ0FBQ2MsTUFBTSxHQUFHLENBQUM7RUFDN0M0TSxLQUFLLEdBQUdBLEtBQUssS0FBS3BMLFFBQVEsR0FBR29CLEtBQUssQ0FBQzVDLE1BQU0sR0FBRyxDQUFDLEdBQUc0QyxLQUFLLEtBQUssSUFBSSxDQUFDO0VBQy9ELElBQUlpSyxjQUFjLEdBQUd2TixlQUFlO0VBQ3BDLElBQUkrQyxPQUFPLEVBQUU7SUFDWDtJQUNBLE1BQU15SyxPQUFPLEdBQUcsSUFBSUMsR0FBRyxDQUFDLENBQUM7SUFDekIsSUFBSXhHLElBQUksR0FBRyxLQUFLO0lBQ2hCc0csY0FBYyxHQUFHdk4sZUFBZSxDQUFDME4sTUFBTSxDQUFDLENBQUNDLEdBQUcsRUFBRXpOLE1BQU0sRUFBRXNILEtBQUssS0FBSztNQUM5RCxNQUFNb0csS0FBSyxHQUFHN0ssT0FBTyxDQUFDN0MsTUFBTSxDQUFDO01BQzdCLElBQUl5TixHQUFHLENBQUNqTixNQUFNLEdBQUcsQ0FBQyxJQUFJaU4sR0FBRyxDQUFDQSxHQUFHLENBQUNqTixNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUNrTixLQUFLLEtBQUtBLEtBQUssRUFBRTtRQUN6REQsR0FBRyxDQUFDQSxHQUFHLENBQUNqTixNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUNmLE9BQU8sQ0FBQ3lMLElBQUksQ0FBQ2xMLE1BQU0sQ0FBQztNQUMxQyxDQUFDLE1BQU07UUFDTCxJQUFJaUUsS0FBcUMsRUFBRSxFQU0xQztRQUNEd0osR0FBRyxDQUFDdkMsSUFBSSxDQUFDO1VBQ1BhLEdBQUcsRUFBRXpFLEtBQUs7VUFDVkEsS0FBSztVQUNMb0csS0FBSztVQUNMak8sT0FBTyxFQUFFLENBQUNPLE1BQU07UUFDbEIsQ0FBQyxDQUFDO01BQ0o7TUFDQSxPQUFPeU4sR0FBRztJQUNaLENBQUMsRUFBRSxFQUFFLENBQUM7RUFDUjtFQUNBLElBQUlyTCxZQUFZLElBQUl1RCxPQUFPLEVBQUU7SUFDM0J5RyxVQUFVLENBQUMsQ0FBQztFQUNkO0VBQ0EsT0FBTztJQUNMeUIsWUFBWSxFQUFFQSxDQUFDakMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLMU4sdUZBQVEsQ0FBQztNQUNyQyxXQUFXLEVBQUUySSxnQkFBZ0IsR0FBSSxHQUFFOUQsRUFBRyxVQUFTLEdBQUc7SUFDcEQsQ0FBQyxFQUFFNkksS0FBSyxFQUFFO01BQ1JDLFNBQVMsRUFBRUYsYUFBYSxDQUFDQyxLQUFLLENBQUM7TUFDL0JrQyxXQUFXLEVBQUVoQixlQUFlO01BQzVCaUIsT0FBTyxFQUFFaEI7SUFDWCxDQUFDLENBQUM7SUFDRmlCLGtCQUFrQixFQUFFQSxDQUFBLE1BQU87TUFDekJqTCxFQUFFLEVBQUcsR0FBRUEsRUFBRyxRQUFPO01BQ2pCa0wsT0FBTyxFQUFFbEw7SUFDWCxDQUFDLENBQUM7SUFDRm1MLGFBQWEsRUFBRUEsQ0FBQSxNQUFPO01BQ3BCbkwsRUFBRTtNQUNGSyxLQUFLLEVBQUUxRCxVQUFVO01BQ2pCeU8sTUFBTSxFQUFFL0IsVUFBVTtNQUNsQmdDLE9BQU8sRUFBRWpDLFdBQVc7TUFDcEI5SSxRQUFRLEVBQUVnSixpQkFBaUI7TUFDM0J5QixXQUFXLEVBQUVYLG9CQUFvQjtNQUNqQztNQUNBO01BQ0EsdUJBQXVCLEVBQUU1RyxTQUFTLEdBQUcsRUFBRSxHQUFHLElBQUk7TUFDOUMsbUJBQW1CLEVBQUVoRixZQUFZLEdBQUcsTUFBTSxHQUFHLE1BQU07TUFDbkQsZUFBZSxFQUFFc0YsZ0JBQWdCLEdBQUksR0FBRTlELEVBQUcsVUFBUyxHQUFHc0IsU0FBUztNQUMvRCxlQUFlLEVBQUV3QyxnQkFBZ0I7TUFDakM7TUFDQTtNQUNBdEYsWUFBWSxFQUFFLEtBQUs7TUFDbkI4TSxHQUFHLEVBQUV4SixRQUFRO01BQ2J5SixjQUFjLEVBQUUsTUFBTTtNQUN0QkMsVUFBVSxFQUFFLE9BQU87TUFDbkJDLElBQUksRUFBRSxVQUFVO01BQ2hCck0sUUFBUSxFQUFFQztJQUNaLENBQUMsQ0FBQztJQUNGcU0sYUFBYSxFQUFFQSxDQUFBLE1BQU87TUFDcEJDLFFBQVEsRUFBRSxDQUFDLENBQUM7TUFDWlgsT0FBTyxFQUFFckM7SUFDWCxDQUFDLENBQUM7SUFDRmlELHNCQUFzQixFQUFFQSxDQUFBLE1BQU87TUFDN0JELFFBQVEsRUFBRSxDQUFDLENBQUM7TUFDWlgsT0FBTyxFQUFFbEI7SUFDWCxDQUFDLENBQUM7SUFDRitCLFdBQVcsRUFBRUEsQ0FBQztNQUNadEg7SUFDRixDQUFDLEtBQUtwSix1RkFBUSxDQUFDO01BQ2I2TixHQUFHLEVBQUV6RSxLQUFLO01BQ1YsZ0JBQWdCLEVBQUVBLEtBQUs7TUFDdkJvSCxRQUFRLEVBQUUsQ0FBQztJQUNiLENBQUMsRUFBRSxDQUFDN0ssUUFBUSxJQUFJO01BQ2RnTCxRQUFRLEVBQUVqQyxlQUFlLENBQUN0RixLQUFLO0lBQ2pDLENBQUMsQ0FBQztJQUNGd0gsZUFBZSxFQUFFQSxDQUFBLE1BQU87TUFDdEJOLElBQUksRUFBRSxTQUFTO01BQ2Z6TCxFQUFFLEVBQUcsR0FBRUEsRUFBRyxVQUFTO01BQ25CLGlCQUFpQixFQUFHLEdBQUVBLEVBQUcsUUFBTztNQUNoQ3NMLEdBQUcsRUFBRWpFLGdCQUFnQjtNQUNyQjBELFdBQVcsRUFBRS9ILEtBQUssSUFBSTtRQUNwQjtRQUNBQSxLQUFLLENBQUNrRyxjQUFjLENBQUMsQ0FBQztNQUN4QjtJQUNGLENBQUMsQ0FBQztJQUNGOEMsY0FBYyxFQUFFQSxDQUFDO01BQ2Z6SCxLQUFLO01BQ0x0SDtJQUNGLENBQUMsS0FBSztNQUNKLE1BQU1nUCxRQUFRLEdBQUcsQ0FBQ2hOLFFBQVEsR0FBR29CLEtBQUssR0FBRyxDQUFDQSxLQUFLLENBQUMsRUFBRW9ELElBQUksQ0FBQ0MsTUFBTSxJQUFJQSxNQUFNLElBQUksSUFBSSxJQUFJdEQsb0JBQW9CLENBQUNuRCxNQUFNLEVBQUV5RyxNQUFNLENBQUMsQ0FBQztNQUNwSCxNQUFNdEUsUUFBUSxHQUFHTSxpQkFBaUIsR0FBR0EsaUJBQWlCLENBQUN6QyxNQUFNLENBQUMsR0FBRyxLQUFLO01BQ3RFLE9BQU87UUFDTCtMLEdBQUcsRUFBRXBNLGNBQWMsQ0FBQ0ssTUFBTSxDQUFDO1FBQzNCME8sUUFBUSxFQUFFLENBQUMsQ0FBQztRQUNaRixJQUFJLEVBQUUsUUFBUTtRQUNkekwsRUFBRSxFQUFHLEdBQUVBLEVBQUcsV0FBVXVFLEtBQU0sRUFBQztRQUMzQjJILFdBQVcsRUFBRTFDLHFCQUFxQjtRQUNsQ3dCLE9BQU8sRUFBRXBCLGlCQUFpQjtRQUMxQnVDLFlBQVksRUFBRXhDLHNCQUFzQjtRQUNwQyxtQkFBbUIsRUFBRXBGLEtBQUs7UUFDMUIsZUFBZSxFQUFFbkYsUUFBUTtRQUN6QixlQUFlLEVBQUU2TTtNQUNuQixDQUFDO0lBQ0gsQ0FBQztJQUNEak0sRUFBRTtJQUNGckQsVUFBVTtJQUNWMEQsS0FBSztJQUNMZ0ssS0FBSztJQUNMK0IsUUFBUSxFQUFFNUksU0FBUyxJQUFJekIsUUFBUTtJQUMvQnlCLFNBQVM7SUFDVFosT0FBTyxFQUFFQSxPQUFPLElBQUlWLFVBQVUsS0FBSyxDQUFDLENBQUM7SUFDckNILFFBQVE7SUFDUkMsV0FBVztJQUNYRSxVQUFVO0lBQ1ZvSTtFQUNGLENBQUM7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2VsZGVyLWJvb2tzLWZlLy4vbm9kZV9tb2R1bGVzL0BtdWkvYmFzZS91c2VBdXRvY29tcGxldGUvdXNlQXV0b2NvbXBsZXRlLmpzPzk5MmMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zdGFudC1jb25kaXRpb24gKi9cbmltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdW5zdGFibGVfc2V0UmVmIGFzIHNldFJlZiwgdW5zdGFibGVfdXNlRXZlbnRDYWxsYmFjayBhcyB1c2VFdmVudENhbGxiYWNrLCB1bnN0YWJsZV91c2VDb250cm9sbGVkIGFzIHVzZUNvbnRyb2xsZWQsIHVuc3RhYmxlX3VzZUlkIGFzIHVzZUlkLCB1c2VQcmV2aW91c1Byb3BzIH0gZnJvbSAnQG11aS91dGlscyc7XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzk5MDkwNC9yZW1vdmUtYWNjZW50cy1kaWFjcml0aWNzLWluLWEtc3RyaW5nLWluLWphdmFzY3JpcHRcbi8vIEdpdmUgdXAgb24gSUUxMSBzdXBwb3J0IGZvciB0aGlzIGZlYXR1cmVcbmZ1bmN0aW9uIHN0cmlwRGlhY3JpdGljcyhzdHJpbmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBzdHJpbmcubm9ybWFsaXplICE9PSAndW5kZWZpbmVkJyA/IHN0cmluZy5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKSA6IHN0cmluZztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaWx0ZXJPcHRpb25zKGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpZ25vcmVBY2NlbnRzID0gdHJ1ZSxcbiAgICBpZ25vcmVDYXNlID0gdHJ1ZSxcbiAgICBsaW1pdCxcbiAgICBtYXRjaEZyb20gPSAnYW55JyxcbiAgICBzdHJpbmdpZnksXG4gICAgdHJpbSA9IGZhbHNlXG4gIH0gPSBjb25maWc7XG4gIHJldHVybiAob3B0aW9ucywge1xuICAgIGlucHV0VmFsdWUsXG4gICAgZ2V0T3B0aW9uTGFiZWxcbiAgfSkgPT4ge1xuICAgIGxldCBpbnB1dCA9IHRyaW0gPyBpbnB1dFZhbHVlLnRyaW0oKSA6IGlucHV0VmFsdWU7XG4gICAgaWYgKGlnbm9yZUNhc2UpIHtcbiAgICAgIGlucHV0ID0gaW5wdXQudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKGlnbm9yZUFjY2VudHMpIHtcbiAgICAgIGlucHV0ID0gc3RyaXBEaWFjcml0aWNzKGlucHV0KTtcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyZWRPcHRpb25zID0gIWlucHV0ID8gb3B0aW9ucyA6IG9wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiB7XG4gICAgICBsZXQgY2FuZGlkYXRlID0gKHN0cmluZ2lmeSB8fCBnZXRPcHRpb25MYWJlbCkob3B0aW9uKTtcbiAgICAgIGlmIChpZ25vcmVDYXNlKSB7XG4gICAgICAgIGNhbmRpZGF0ZSA9IGNhbmRpZGF0ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGlnbm9yZUFjY2VudHMpIHtcbiAgICAgICAgY2FuZGlkYXRlID0gc3RyaXBEaWFjcml0aWNzKGNhbmRpZGF0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2hGcm9tID09PSAnc3RhcnQnID8gY2FuZGlkYXRlLmluZGV4T2YoaW5wdXQpID09PSAwIDogY2FuZGlkYXRlLmluZGV4T2YoaW5wdXQpID4gLTE7XG4gICAgfSk7XG4gICAgcmV0dXJuIHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgPyBmaWx0ZXJlZE9wdGlvbnMuc2xpY2UoMCwgbGltaXQpIDogZmlsdGVyZWRPcHRpb25zO1xuICB9O1xufVxuXG4vLyBUbyByZXBsYWNlIHdpdGggLmZpbmRJbmRleCgpIG9uY2Ugd2Ugc3RvcCBJRTExIHN1cHBvcnQuXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIGNvbXApIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChjb21wKGFycmF5W2ldKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cbmNvbnN0IGRlZmF1bHRGaWx0ZXJPcHRpb25zID0gY3JlYXRlRmlsdGVyT3B0aW9ucygpO1xuXG4vLyBOdW1iZXIgb2Ygb3B0aW9ucyB0byBqdW1wIGluIGxpc3QgYm94IHdoZW4gYFBhZ2UgVXBgIGFuZCBgUGFnZSBEb3duYCBrZXlzIGFyZSB1c2VkLlxuY29uc3QgcGFnZVNpemUgPSA1O1xuY29uc3QgZGVmYXVsdElzQWN0aXZlRWxlbWVudEluTGlzdGJveCA9IGxpc3Rib3hSZWYgPT4ge1xuICB2YXIgX2xpc3Rib3hSZWYkY3VycmVudCRwO1xuICByZXR1cm4gbGlzdGJveFJlZi5jdXJyZW50ICE9PSBudWxsICYmICgoX2xpc3Rib3hSZWYkY3VycmVudCRwID0gbGlzdGJveFJlZi5jdXJyZW50LnBhcmVudEVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbGlzdGJveFJlZiRjdXJyZW50JHAuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VBdXRvY29tcGxldGUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbiAgICB1bnN0YWJsZV9pc0FjdGl2ZUVsZW1lbnRJbkxpc3Rib3ggPSBkZWZhdWx0SXNBY3RpdmVFbGVtZW50SW5MaXN0Ym94LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbiAgICB1bnN0YWJsZV9jbGFzc05hbWVQcmVmaXggPSAnTXVpJyxcbiAgICBhdXRvQ29tcGxldGUgPSBmYWxzZSxcbiAgICBhdXRvSGlnaGxpZ2h0ID0gZmFsc2UsXG4gICAgYXV0b1NlbGVjdCA9IGZhbHNlLFxuICAgIGJsdXJPblNlbGVjdCA9IGZhbHNlLFxuICAgIGNsZWFyT25CbHVyID0gIXByb3BzLmZyZWVTb2xvLFxuICAgIGNsZWFyT25Fc2NhcGUgPSBmYWxzZSxcbiAgICBjb21wb25lbnROYW1lID0gJ3VzZUF1dG9jb21wbGV0ZScsXG4gICAgZGVmYXVsdFZhbHVlID0gcHJvcHMubXVsdGlwbGUgPyBbXSA6IG51bGwsXG4gICAgZGlzYWJsZUNsZWFyYWJsZSA9IGZhbHNlLFxuICAgIGRpc2FibGVDbG9zZU9uU2VsZWN0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkUHJvcCxcbiAgICBkaXNhYmxlZEl0ZW1zRm9jdXNhYmxlID0gZmFsc2UsXG4gICAgZGlzYWJsZUxpc3RXcmFwID0gZmFsc2UsXG4gICAgZmlsdGVyT3B0aW9ucyA9IGRlZmF1bHRGaWx0ZXJPcHRpb25zLFxuICAgIGZpbHRlclNlbGVjdGVkT3B0aW9ucyA9IGZhbHNlLFxuICAgIGZyZWVTb2xvID0gZmFsc2UsXG4gICAgZ2V0T3B0aW9uRGlzYWJsZWQsXG4gICAgZ2V0T3B0aW9uTGFiZWw6IGdldE9wdGlvbkxhYmVsUHJvcCA9IG9wdGlvbiA9PiB7XG4gICAgICB2YXIgX29wdGlvbiRsYWJlbDtcbiAgICAgIHJldHVybiAoX29wdGlvbiRsYWJlbCA9IG9wdGlvbi5sYWJlbCkgIT0gbnVsbCA/IF9vcHRpb24kbGFiZWwgOiBvcHRpb247XG4gICAgfSxcbiAgICBncm91cEJ5LFxuICAgIGhhbmRsZUhvbWVFbmRLZXlzID0gIXByb3BzLmZyZWVTb2xvLFxuICAgIGlkOiBpZFByb3AsXG4gICAgaW5jbHVkZUlucHV0SW5MaXN0ID0gZmFsc2UsXG4gICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZVByb3AsXG4gICAgaXNPcHRpb25FcXVhbFRvVmFsdWUgPSAob3B0aW9uLCB2YWx1ZSkgPT4gb3B0aW9uID09PSB2YWx1ZSxcbiAgICBtdWx0aXBsZSA9IGZhbHNlLFxuICAgIG9uQ2hhbmdlLFxuICAgIG9uQ2xvc2UsXG4gICAgb25IaWdobGlnaHRDaGFuZ2UsXG4gICAgb25JbnB1dENoYW5nZSxcbiAgICBvbk9wZW4sXG4gICAgb3Blbjogb3BlblByb3AsXG4gICAgb3Blbk9uRm9jdXMgPSBmYWxzZSxcbiAgICBvcHRpb25zLFxuICAgIHJlYWRPbmx5ID0gZmFsc2UsXG4gICAgc2VsZWN0T25Gb2N1cyA9ICFwcm9wcy5mcmVlU29sbyxcbiAgICB2YWx1ZTogdmFsdWVQcm9wXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgaWQgPSB1c2VJZChpZFByb3ApO1xuICBsZXQgZ2V0T3B0aW9uTGFiZWwgPSBnZXRPcHRpb25MYWJlbFByb3A7XG4gIGdldE9wdGlvbkxhYmVsID0gb3B0aW9uID0+IHtcbiAgICBjb25zdCBvcHRpb25MYWJlbCA9IGdldE9wdGlvbkxhYmVsUHJvcChvcHRpb24pO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9uTGFiZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjb25zdCBlcnJvbmVvdXNSZXR1cm4gPSBvcHRpb25MYWJlbCA9PT0gdW5kZWZpbmVkID8gJ3VuZGVmaW5lZCcgOiBgJHt0eXBlb2Ygb3B0aW9uTGFiZWx9ICgke29wdGlvbkxhYmVsfSlgO1xuICAgICAgICBjb25zb2xlLmVycm9yKGBNVUk6IFRoZSBcXGBnZXRPcHRpb25MYWJlbFxcYCBtZXRob2Qgb2YgJHtjb21wb25lbnROYW1lfSByZXR1cm5lZCAke2Vycm9uZW91c1JldHVybn0gaW5zdGVhZCBvZiBhIHN0cmluZyBmb3IgJHtKU09OLnN0cmluZ2lmeShvcHRpb24pfS5gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBTdHJpbmcob3B0aW9uTGFiZWwpO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uTGFiZWw7XG4gIH07XG4gIGNvbnN0IGlnbm9yZUZvY3VzID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgZmlyc3RGb2N1cyA9IFJlYWN0LnVzZVJlZih0cnVlKTtcbiAgY29uc3QgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGxpc3Rib3hSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IFthbmNob3JFbCwgc2V0QW5jaG9yRWxdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtmb2N1c2VkVGFnLCBzZXRGb2N1c2VkVGFnXSA9IFJlYWN0LnVzZVN0YXRlKC0xKTtcbiAgY29uc3QgZGVmYXVsdEhpZ2hsaWdodGVkID0gYXV0b0hpZ2hsaWdodCA/IDAgOiAtMTtcbiAgY29uc3QgaGlnaGxpZ2h0ZWRJbmRleFJlZiA9IFJlYWN0LnVzZVJlZihkZWZhdWx0SGlnaGxpZ2h0ZWQpO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlU3RhdGVdID0gdXNlQ29udHJvbGxlZCh7XG4gICAgY29udHJvbGxlZDogdmFsdWVQcm9wLFxuICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSxcbiAgICBuYW1lOiBjb21wb25lbnROYW1lXG4gIH0pO1xuICBjb25zdCBbaW5wdXRWYWx1ZSwgc2V0SW5wdXRWYWx1ZVN0YXRlXSA9IHVzZUNvbnRyb2xsZWQoe1xuICAgIGNvbnRyb2xsZWQ6IGlucHV0VmFsdWVQcm9wLFxuICAgIGRlZmF1bHQ6ICcnLFxuICAgIG5hbWU6IGNvbXBvbmVudE5hbWUsXG4gICAgc3RhdGU6ICdpbnB1dFZhbHVlJ1xuICB9KTtcbiAgY29uc3QgW2ZvY3VzZWQsIHNldEZvY3VzZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByZXNldElucHV0VmFsdWUgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQsIG5ld1ZhbHVlKSA9PiB7XG4gICAgLy8gcmV0YWluIGN1cnJlbnQgYGlucHV0VmFsdWVgIGlmIG5ldyBvcHRpb24gaXNuJ3Qgc2VsZWN0ZWQgYW5kIGBjbGVhck9uQmx1cmAgaXMgZmFsc2VcbiAgICAvLyBXaGVuIGBtdWx0aXBsZWAgaXMgZW5hYmxlZCwgYG5ld1ZhbHVlYCBpcyBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgaXRlbXMgaW5jbHVkaW5nIHRoZSBuZXdseSBzZWxlY3RlZCBpdGVtXG4gICAgY29uc3QgaXNPcHRpb25TZWxlY3RlZCA9IG11bHRpcGxlID8gdmFsdWUubGVuZ3RoIDwgbmV3VmFsdWUubGVuZ3RoIDogbmV3VmFsdWUgIT09IG51bGw7XG4gICAgaWYgKCFpc09wdGlvblNlbGVjdGVkICYmICFjbGVhck9uQmx1cikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbmV3SW5wdXRWYWx1ZTtcbiAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgIG5ld0lucHV0VmFsdWUgPSAnJztcbiAgICB9IGVsc2UgaWYgKG5ld1ZhbHVlID09IG51bGwpIHtcbiAgICAgIG5ld0lucHV0VmFsdWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3B0aW9uTGFiZWwgPSBnZXRPcHRpb25MYWJlbChuZXdWYWx1ZSk7XG4gICAgICBuZXdJbnB1dFZhbHVlID0gdHlwZW9mIG9wdGlvbkxhYmVsID09PSAnc3RyaW5nJyA/IG9wdGlvbkxhYmVsIDogJyc7XG4gICAgfVxuICAgIGlmIChpbnB1dFZhbHVlID09PSBuZXdJbnB1dFZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldElucHV0VmFsdWVTdGF0ZShuZXdJbnB1dFZhbHVlKTtcbiAgICBpZiAob25JbnB1dENoYW5nZSkge1xuICAgICAgb25JbnB1dENoYW5nZShldmVudCwgbmV3SW5wdXRWYWx1ZSwgJ3Jlc2V0Jyk7XG4gICAgfVxuICB9LCBbZ2V0T3B0aW9uTGFiZWwsIGlucHV0VmFsdWUsIG11bHRpcGxlLCBvbklucHV0Q2hhbmdlLCBzZXRJbnB1dFZhbHVlU3RhdGUsIGNsZWFyT25CbHVyLCB2YWx1ZV0pO1xuICBjb25zdCBbb3Blbiwgc2V0T3BlblN0YXRlXSA9IHVzZUNvbnRyb2xsZWQoe1xuICAgIGNvbnRyb2xsZWQ6IG9wZW5Qcm9wLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIG5hbWU6IGNvbXBvbmVudE5hbWUsXG4gICAgc3RhdGU6ICdvcGVuJ1xuICB9KTtcbiAgY29uc3QgW2lucHV0UHJpc3RpbmUsIHNldElucHV0UHJpc3RpbmVdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IGlucHV0VmFsdWVJc1NlbGVjdGVkVmFsdWUgPSAhbXVsdGlwbGUgJiYgdmFsdWUgIT0gbnVsbCAmJiBpbnB1dFZhbHVlID09PSBnZXRPcHRpb25MYWJlbCh2YWx1ZSk7XG4gIGNvbnN0IHBvcHVwT3BlbiA9IG9wZW4gJiYgIXJlYWRPbmx5O1xuICBjb25zdCBmaWx0ZXJlZE9wdGlvbnMgPSBwb3B1cE9wZW4gPyBmaWx0ZXJPcHRpb25zKG9wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiB7XG4gICAgaWYgKGZpbHRlclNlbGVjdGVkT3B0aW9ucyAmJiAobXVsdGlwbGUgPyB2YWx1ZSA6IFt2YWx1ZV0pLnNvbWUodmFsdWUyID0+IHZhbHVlMiAhPT0gbnVsbCAmJiBpc09wdGlvbkVxdWFsVG9WYWx1ZShvcHRpb24sIHZhbHVlMikpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9KSxcbiAgLy8gd2UgdXNlIHRoZSBlbXB0eSBzdHJpbmcgdG8gbWFuaXB1bGF0ZSBgZmlsdGVyT3B0aW9uc2AgdG8gbm90IGZpbHRlciBhbnkgb3B0aW9uc1xuICAvLyBpLmUuIHRoZSBmaWx0ZXIgcHJlZGljYXRlIGFsd2F5cyByZXR1cm5zIHRydWVcbiAge1xuICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWVJc1NlbGVjdGVkVmFsdWUgJiYgaW5wdXRQcmlzdGluZSA/ICcnIDogaW5wdXRWYWx1ZSxcbiAgICBnZXRPcHRpb25MYWJlbFxuICB9KSA6IFtdO1xuICBjb25zdCBwcmV2aW91c1Byb3BzID0gdXNlUHJldmlvdXNQcm9wcyh7XG4gICAgZmlsdGVyZWRPcHRpb25zLFxuICAgIHZhbHVlLFxuICAgIGlucHV0VmFsdWVcbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdmFsdWVDaGFuZ2UgPSB2YWx1ZSAhPT0gcHJldmlvdXNQcm9wcy52YWx1ZTtcbiAgICBpZiAoZm9jdXNlZCAmJiAhdmFsdWVDaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPbmx5IHJlc2V0IHRoZSBpbnB1dCdzIHZhbHVlIHdoZW4gZnJlZVNvbG8gaWYgdGhlIGNvbXBvbmVudCdzIHZhbHVlIGNoYW5nZXMuXG4gICAgaWYgKGZyZWVTb2xvICYmICF2YWx1ZUNoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXNldElucHV0VmFsdWUobnVsbCwgdmFsdWUpO1xuICB9LCBbdmFsdWUsIHJlc2V0SW5wdXRWYWx1ZSwgZm9jdXNlZCwgcHJldmlvdXNQcm9wcy52YWx1ZSwgZnJlZVNvbG9dKTtcbiAgY29uc3QgbGlzdGJveEF2YWlsYWJsZSA9IG9wZW4gJiYgZmlsdGVyZWRPcHRpb25zLmxlbmd0aCA+IDAgJiYgIXJlYWRPbmx5O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiAhZnJlZVNvbG8gJiYgb3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBtaXNzaW5nVmFsdWUgPSAobXVsdGlwbGUgPyB2YWx1ZSA6IFt2YWx1ZV0pLmZpbHRlcih2YWx1ZTIgPT4gIW9wdGlvbnMuc29tZShvcHRpb24gPT4gaXNPcHRpb25FcXVhbFRvVmFsdWUob3B0aW9uLCB2YWx1ZTIpKSk7XG4gICAgICBpZiAobWlzc2luZ1ZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFtgTVVJOiBUaGUgdmFsdWUgcHJvdmlkZWQgdG8gJHtjb21wb25lbnROYW1lfSBpcyBpbnZhbGlkLmAsIGBOb25lIG9mIHRoZSBvcHRpb25zIG1hdGNoIHdpdGggXFxgJHttaXNzaW5nVmFsdWUubGVuZ3RoID4gMSA/IEpTT04uc3RyaW5naWZ5KG1pc3NpbmdWYWx1ZSkgOiBKU09OLnN0cmluZ2lmeShtaXNzaW5nVmFsdWVbMF0pfVxcYC5gLCAnWW91IGNhbiB1c2UgdGhlIGBpc09wdGlvbkVxdWFsVG9WYWx1ZWAgcHJvcCB0byBjdXN0b21pemUgdGhlIGVxdWFsaXR5IHRlc3QuJ10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBmb2N1c1RhZyA9IHVzZUV2ZW50Q2FsbGJhY2sodGFnVG9Gb2N1cyA9PiB7XG4gICAgaWYgKHRhZ1RvRm9jdXMgPT09IC0xKSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuY2hvckVsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhZy1pbmRleD1cIiR7dGFnVG9Gb2N1c31cIl1gKS5mb2N1cygpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gRW5zdXJlIHRoZSBmb2N1c2VkVGFnIGlzIG5ldmVyIGluY29uc2lzdGVudFxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtdWx0aXBsZSAmJiBmb2N1c2VkVGFnID4gdmFsdWUubGVuZ3RoIC0gMSkge1xuICAgICAgc2V0Rm9jdXNlZFRhZygtMSk7XG4gICAgICBmb2N1c1RhZygtMSk7XG4gICAgfVxuICB9LCBbdmFsdWUsIG11bHRpcGxlLCBmb2N1c2VkVGFnLCBmb2N1c1RhZ10pO1xuICBmdW5jdGlvbiB2YWxpZE9wdGlvbkluZGV4KGluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoIWxpc3Rib3hSZWYuY3VycmVudCB8fCBpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgbGV0IG5leHRGb2N1cyA9IGluZGV4O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAvLyBPdXQgb2YgcmFuZ2VcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0JyAmJiBuZXh0Rm9jdXMgPT09IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggfHwgZGlyZWN0aW9uID09PSAncHJldmlvdXMnICYmIG5leHRGb2N1cyA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3B0aW9uID0gbGlzdGJveFJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLW9wdGlvbi1pbmRleD1cIiR7bmV4dEZvY3VzfVwiXWApO1xuXG4gICAgICAvLyBTYW1lIGxvZ2ljIGFzIE1lbnVMaXN0LmpzXG4gICAgICBjb25zdCBuZXh0Rm9jdXNEaXNhYmxlZCA9IGRpc2FibGVkSXRlbXNGb2N1c2FibGUgPyBmYWxzZSA6ICFvcHRpb24gfHwgb3B0aW9uLmRpc2FibGVkIHx8IG9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKSA9PT0gJ3RydWUnO1xuICAgICAgaWYgKG9wdGlvbiAmJiAhb3B0aW9uLmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSB8fCBuZXh0Rm9jdXNEaXNhYmxlZCkge1xuICAgICAgICAvLyBNb3ZlIHRvIHRoZSBuZXh0IGVsZW1lbnQuXG4gICAgICAgIG5leHRGb2N1cyArPSBkaXJlY3Rpb24gPT09ICduZXh0JyA/IDEgOiAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXh0Rm9jdXM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHNldEhpZ2hsaWdodGVkSW5kZXggPSB1c2VFdmVudENhbGxiYWNrKCh7XG4gICAgZXZlbnQsXG4gICAgaW5kZXgsXG4gICAgcmVhc29uID0gJ2F1dG8nXG4gIH0pID0+IHtcbiAgICBoaWdobGlnaHRlZEluZGV4UmVmLmN1cnJlbnQgPSBpbmRleDtcblxuICAgIC8vIGRvZXMgdGhlIGluZGV4IGV4aXN0P1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIGAke2lkfS1vcHRpb24tJHtpbmRleH1gKTtcbiAgICB9XG4gICAgaWYgKG9uSGlnaGxpZ2h0Q2hhbmdlKSB7XG4gICAgICBvbkhpZ2hsaWdodENoYW5nZShldmVudCwgaW5kZXggPT09IC0xID8gbnVsbCA6IGZpbHRlcmVkT3B0aW9uc1tpbmRleF0sIHJlYXNvbik7XG4gICAgfVxuICAgIGlmICghbGlzdGJveFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXYgPSBsaXN0Ym94UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcihgW3JvbGU9XCJvcHRpb25cIl0uJHt1bnN0YWJsZV9jbGFzc05hbWVQcmVmaXh9LWZvY3VzZWRgKTtcbiAgICBpZiAocHJldikge1xuICAgICAgcHJldi5jbGFzc0xpc3QucmVtb3ZlKGAke3Vuc3RhYmxlX2NsYXNzTmFtZVByZWZpeH0tZm9jdXNlZGApO1xuICAgICAgcHJldi5jbGFzc0xpc3QucmVtb3ZlKGAke3Vuc3RhYmxlX2NsYXNzTmFtZVByZWZpeH0tZm9jdXNWaXNpYmxlYCk7XG4gICAgfVxuICAgIGxldCBsaXN0Ym94Tm9kZSA9IGxpc3Rib3hSZWYuY3VycmVudDtcbiAgICBpZiAobGlzdGJveFJlZi5jdXJyZW50LmdldEF0dHJpYnV0ZSgncm9sZScpICE9PSAnbGlzdGJveCcpIHtcbiAgICAgIGxpc3Rib3hOb2RlID0gbGlzdGJveFJlZi5jdXJyZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignW3JvbGU9XCJsaXN0Ym94XCJdJyk7XG4gICAgfVxuXG4gICAgLy8gXCJObyByZXN1bHRzXCJcbiAgICBpZiAoIWxpc3Rib3hOb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIGxpc3Rib3hOb2RlLnNjcm9sbFRvcCA9IDA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9wdGlvbiA9IGxpc3Rib3hSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1vcHRpb24taW5kZXg9XCIke2luZGV4fVwiXWApO1xuICAgIGlmICghb3B0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9wdGlvbi5jbGFzc0xpc3QuYWRkKGAke3Vuc3RhYmxlX2NsYXNzTmFtZVByZWZpeH0tZm9jdXNlZGApO1xuICAgIGlmIChyZWFzb24gPT09ICdrZXlib2FyZCcpIHtcbiAgICAgIG9wdGlvbi5jbGFzc0xpc3QuYWRkKGAke3Vuc3RhYmxlX2NsYXNzTmFtZVByZWZpeH0tZm9jdXNWaXNpYmxlYCk7XG4gICAgfVxuXG4gICAgLy8gU2Nyb2xsIGFjdGl2ZSBkZXNjZW5kYW50IGludG8gdmlldy5cbiAgICAvLyBMb2dpYyBjb3BpZWQgZnJvbSBodHRwczovL3d3dy53My5vcmcvV0FJL2NvbnRlbnQtYXNzZXRzL3dhaS1hcmlhLXByYWN0aWNlcy9wYXR0ZXJucy9jb21ib2JveC9leGFtcGxlcy9qcy9zZWxlY3Qtb25seS5qc1xuICAgIC8vIEluIGNhc2Ugb2YgbW91c2UgY2xpY2tzIGFuZCB0b3VjaCAoaW4gbW9iaWxlIGRldmljZXMpIHdlIGF2b2lkIHNjcm9sbGluZyB0aGUgZWxlbWVudCBhbmQga2VlcCBib3RoIGJlaGF2aW9ycyBzYW1lLlxuICAgIC8vIENvbnNpZGVyIHRoaXMgQVBJIGluc3RlYWQgb25jZSBpdCBoYXMgYSBiZXR0ZXIgYnJvd3NlciBzdXBwb3J0OlxuICAgIC8vIC5zY3JvbGxJbnRvVmlldyh7IHNjcm9sbE1vZGU6ICdpZi1uZWVkZWQnLCBibG9jazogJ25lYXJlc3QnIH0pO1xuICAgIGlmIChsaXN0Ym94Tm9kZS5zY3JvbGxIZWlnaHQgPiBsaXN0Ym94Tm9kZS5jbGllbnRIZWlnaHQgJiYgcmVhc29uICE9PSAnbW91c2UnICYmIHJlYXNvbiAhPT0gJ3RvdWNoJykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IG9wdGlvbjtcbiAgICAgIGNvbnN0IHNjcm9sbEJvdHRvbSA9IGxpc3Rib3hOb2RlLmNsaWVudEhlaWdodCArIGxpc3Rib3hOb2RlLnNjcm9sbFRvcDtcbiAgICAgIGNvbnN0IGVsZW1lbnRCb3R0b20gPSBlbGVtZW50Lm9mZnNldFRvcCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgaWYgKGVsZW1lbnRCb3R0b20gPiBzY3JvbGxCb3R0b20pIHtcbiAgICAgICAgbGlzdGJveE5vZGUuc2Nyb2xsVG9wID0gZWxlbWVudEJvdHRvbSAtIGxpc3Rib3hOb2RlLmNsaWVudEhlaWdodDtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5vZmZzZXRUb3AgLSBlbGVtZW50Lm9mZnNldEhlaWdodCAqIChncm91cEJ5ID8gMS4zIDogMCkgPCBsaXN0Ym94Tm9kZS5zY3JvbGxUb3ApIHtcbiAgICAgICAgbGlzdGJveE5vZGUuc2Nyb2xsVG9wID0gZWxlbWVudC5vZmZzZXRUb3AgLSBlbGVtZW50Lm9mZnNldEhlaWdodCAqIChncm91cEJ5ID8gMS4zIDogMCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgY2hhbmdlSGlnaGxpZ2h0ZWRJbmRleCA9IHVzZUV2ZW50Q2FsbGJhY2soKHtcbiAgICBldmVudCxcbiAgICBkaWZmLFxuICAgIGRpcmVjdGlvbiA9ICduZXh0JyxcbiAgICByZWFzb24gPSAnYXV0bydcbiAgfSkgPT4ge1xuICAgIGlmICghcG9wdXBPcGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGdldE5leHRJbmRleCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG1heEluZGV4ID0gZmlsdGVyZWRPcHRpb25zLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoZGlmZiA9PT0gJ3Jlc2V0Jykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEhpZ2hsaWdodGVkO1xuICAgICAgfVxuICAgICAgaWYgKGRpZmYgPT09ICdzdGFydCcpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoZGlmZiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgcmV0dXJuIG1heEluZGV4O1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBoaWdobGlnaHRlZEluZGV4UmVmLmN1cnJlbnQgKyBkaWZmO1xuICAgICAgaWYgKG5ld0luZGV4IDwgMCkge1xuICAgICAgICBpZiAobmV3SW5kZXggPT09IC0xICYmIGluY2x1ZGVJbnB1dEluTGlzdCkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzYWJsZUxpc3RXcmFwICYmIGhpZ2hsaWdodGVkSW5kZXhSZWYuY3VycmVudCAhPT0gLTEgfHwgTWF0aC5hYnMoZGlmZikgPiAxKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heEluZGV4O1xuICAgICAgfVxuICAgICAgaWYgKG5ld0luZGV4ID4gbWF4SW5kZXgpIHtcbiAgICAgICAgaWYgKG5ld0luZGV4ID09PSBtYXhJbmRleCArIDEgJiYgaW5jbHVkZUlucHV0SW5MaXN0KSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNhYmxlTGlzdFdyYXAgfHwgTWF0aC5hYnMoZGlmZikgPiAxKSB7XG4gICAgICAgICAgcmV0dXJuIG1heEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0luZGV4O1xuICAgIH07XG4gICAgY29uc3QgbmV4dEluZGV4ID0gdmFsaWRPcHRpb25JbmRleChnZXROZXh0SW5kZXgoKSwgZGlyZWN0aW9uKTtcbiAgICBzZXRIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICByZWFzb24sXG4gICAgICBldmVudFxuICAgIH0pO1xuXG4gICAgLy8gU3luYyB0aGUgY29udGVudCBvZiB0aGUgaW5wdXQgd2l0aCB0aGUgaGlnaGxpZ2h0ZWQgb3B0aW9uLlxuICAgIGlmIChhdXRvQ29tcGxldGUgJiYgZGlmZiAhPT0gJ3Jlc2V0Jykge1xuICAgICAgaWYgKG5leHRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgaW5wdXRSZWYuY3VycmVudC52YWx1ZSA9IGlucHV0VmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBnZXRPcHRpb25MYWJlbChmaWx0ZXJlZE9wdGlvbnNbbmV4dEluZGV4XSk7XG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSBvcHRpb247XG5cbiAgICAgICAgLy8gVGhlIHBvcnRpb24gb2YgdGhlIHNlbGVjdGVkIHN1Z2dlc3Rpb24gdGhhdCBoYXMgbm90IGJlZW4gdHlwZWQgYnkgdGhlIHVzZXIsXG4gICAgICAgIC8vIGEgY29tcGxldGlvbiBzdHJpbmcsIGFwcGVhcnMgaW5saW5lIGFmdGVyIHRoZSBpbnB1dCBjdXJzb3IgaW4gdGhlIHRleHRib3guXG4gICAgICAgIGNvbnN0IGluZGV4ID0gb3B0aW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpbnB1dFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaW5wdXRSZWYuY3VycmVudC5zZXRTZWxlY3Rpb25SYW5nZShpbnB1dFZhbHVlLmxlbmd0aCwgb3B0aW9uLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCBjaGVja0hpZ2hsaWdodGVkT3B0aW9uRXhpc3RzID0gKCkgPT4ge1xuICAgIGNvbnN0IGlzU2FtZVZhbHVlID0gKHZhbHVlMSwgdmFsdWUyKSA9PiB7XG4gICAgICBjb25zdCBsYWJlbDEgPSB2YWx1ZTEgPyBnZXRPcHRpb25MYWJlbCh2YWx1ZTEpIDogJyc7XG4gICAgICBjb25zdCBsYWJlbDIgPSB2YWx1ZTIgPyBnZXRPcHRpb25MYWJlbCh2YWx1ZTIpIDogJyc7XG4gICAgICByZXR1cm4gbGFiZWwxID09PSBsYWJlbDI7XG4gICAgfTtcbiAgICBpZiAoaGlnaGxpZ2h0ZWRJbmRleFJlZi5jdXJyZW50ICE9PSAtMSAmJiBwcmV2aW91c1Byb3BzLmZpbHRlcmVkT3B0aW9ucyAmJiBwcmV2aW91c1Byb3BzLmZpbHRlcmVkT3B0aW9ucy5sZW5ndGggIT09IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggJiYgcHJldmlvdXNQcm9wcy5pbnB1dFZhbHVlID09PSBpbnB1dFZhbHVlICYmIChtdWx0aXBsZSA/IHZhbHVlLmxlbmd0aCA9PT0gcHJldmlvdXNQcm9wcy52YWx1ZS5sZW5ndGggJiYgcHJldmlvdXNQcm9wcy52YWx1ZS5ldmVyeSgodmFsLCBpKSA9PiBnZXRPcHRpb25MYWJlbCh2YWx1ZVtpXSkgPT09IGdldE9wdGlvbkxhYmVsKHZhbCkpIDogaXNTYW1lVmFsdWUocHJldmlvdXNQcm9wcy52YWx1ZSwgdmFsdWUpKSkge1xuICAgICAgY29uc3QgcHJldmlvdXNIaWdobGlnaHRlZE9wdGlvbiA9IHByZXZpb3VzUHJvcHMuZmlsdGVyZWRPcHRpb25zW2hpZ2hsaWdodGVkSW5kZXhSZWYuY3VycmVudF07XG4gICAgICBpZiAocHJldmlvdXNIaWdobGlnaHRlZE9wdGlvbikge1xuICAgICAgICBjb25zdCBwcmV2aW91c0hpZ2hsaWdodGVkT3B0aW9uRXhpc3RzID0gZmlsdGVyZWRPcHRpb25zLnNvbWUob3B0aW9uID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2V0T3B0aW9uTGFiZWwob3B0aW9uKSA9PT0gZ2V0T3B0aW9uTGFiZWwocHJldmlvdXNIaWdobGlnaHRlZE9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJldmlvdXNIaWdobGlnaHRlZE9wdGlvbkV4aXN0cykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgY29uc3Qgc3luY0hpZ2hsaWdodGVkSW5kZXggPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFwb3B1cE9wZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgcHJldmlvdXNseSBoaWdobGlnaHRlZCBvcHRpb24gc3RpbGwgZXhpc3RzIGluIHRoZSB1cGRhdGVkIGZpbHRlcmVkIG9wdGlvbnMgbGlzdCBhbmQgaWYgdGhlIHZhbHVlIGFuZCBpbnB1dFZhbHVlIGhhdmVuJ3QgY2hhbmdlZFxuICAgIC8vIElmIGl0IGV4aXN0cyBhbmQgdGhlIHZhbHVlIGFuZCB0aGUgaW5wdXRWYWx1ZSBoYXZlbid0IGNoYW5nZWQsIHJldHVybiwgb3RoZXJ3aXNlIGNvbnRpbnVlIGV4ZWN1dGlvblxuICAgIGlmIChjaGVja0hpZ2hsaWdodGVkT3B0aW9uRXhpc3RzKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVJdGVtID0gbXVsdGlwbGUgPyB2YWx1ZVswXSA6IHZhbHVlO1xuXG4gICAgLy8gVGhlIHBvcHVwIGlzIGVtcHR5LCByZXNldFxuICAgIGlmIChmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoID09PSAwIHx8IHZhbHVlSXRlbSA9PSBudWxsKSB7XG4gICAgICBjaGFuZ2VIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgICAgZGlmZjogJ3Jlc2V0J1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbGlzdGJveFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU3luY2hyb25pemUgdGhlIHZhbHVlIHdpdGggdGhlIGhpZ2hsaWdodGVkIGluZGV4XG4gICAgaWYgKHZhbHVlSXRlbSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBjdXJyZW50T3B0aW9uID0gZmlsdGVyZWRPcHRpb25zW2hpZ2hsaWdodGVkSW5kZXhSZWYuY3VycmVudF07XG5cbiAgICAgIC8vIEtlZXAgdGhlIGN1cnJlbnQgaGlnaGxpZ2h0ZWQgaW5kZXggaWYgcG9zc2libGVcbiAgICAgIGlmIChtdWx0aXBsZSAmJiBjdXJyZW50T3B0aW9uICYmIGZpbmRJbmRleCh2YWx1ZSwgdmFsID0+IGlzT3B0aW9uRXF1YWxUb1ZhbHVlKGN1cnJlbnRPcHRpb24sIHZhbCkpICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpdGVtSW5kZXggPSBmaW5kSW5kZXgoZmlsdGVyZWRPcHRpb25zLCBvcHRpb25JdGVtID0+IGlzT3B0aW9uRXF1YWxUb1ZhbHVlKG9wdGlvbkl0ZW0sIHZhbHVlSXRlbSkpO1xuICAgICAgaWYgKGl0ZW1JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgY2hhbmdlSGlnaGxpZ2h0ZWRJbmRleCh7XG4gICAgICAgICAgZGlmZjogJ3Jlc2V0J1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEhpZ2hsaWdodGVkSW5kZXgoe1xuICAgICAgICAgIGluZGV4OiBpdGVtSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCB0aGUgaGlnaGxpZ2h0ZWQgaW5kZXggdG8gbGVhayBvdXRzaWRlIHRoZSBib3VuZGFyaWVzLlxuICAgIGlmIChoaWdobGlnaHRlZEluZGV4UmVmLmN1cnJlbnQgPj0gZmlsdGVyZWRPcHRpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgIHNldEhpZ2hsaWdodGVkSW5kZXgoe1xuICAgICAgICBpbmRleDogZmlsdGVyZWRPcHRpb25zLmxlbmd0aCAtIDFcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlc3RvcmUgdGhlIGZvY3VzIHRvIHRoZSBwcmV2aW91cyBpbmRleC5cbiAgICBzZXRIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgIGluZGV4OiBoaWdobGlnaHRlZEluZGV4UmVmLmN1cnJlbnRcbiAgICB9KTtcbiAgICAvLyBJZ25vcmUgZmlsdGVyZWRPcHRpb25zIChhbmQgb3B0aW9ucywgaXNPcHRpb25FcXVhbFRvVmFsdWUsIGdldE9wdGlvbkxhYmVsKSBub3QgdG8gYnJlYWsgdGhlIHNjcm9sbCBwb3NpdGlvblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW1xuICAvLyBPbmx5IHN5bmMgdGhlIGhpZ2hsaWdodGVkIGluZGV4IHdoZW4gdGhlIG9wdGlvbiBzd2l0Y2ggYmV0d2VlbiBlbXB0eSBhbmQgbm90XG4gIGZpbHRlcmVkT3B0aW9ucy5sZW5ndGgsXG4gIC8vIERvbid0IHN5bmMgdGhlIGhpZ2hsaWdodGVkIGluZGV4IHdpdGggdGhlIHZhbHVlIHdoZW4gbXVsdGlwbGVcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBtdWx0aXBsZSA/IGZhbHNlIDogdmFsdWUsIGZpbHRlclNlbGVjdGVkT3B0aW9ucywgY2hhbmdlSGlnaGxpZ2h0ZWRJbmRleCwgc2V0SGlnaGxpZ2h0ZWRJbmRleCwgcG9wdXBPcGVuLCBpbnB1dFZhbHVlLCBtdWx0aXBsZV0pO1xuICBjb25zdCBoYW5kbGVMaXN0Ym94UmVmID0gdXNlRXZlbnRDYWxsYmFjayhub2RlID0+IHtcbiAgICBzZXRSZWYobGlzdGJveFJlZiwgbm9kZSk7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN5bmNIaWdobGlnaHRlZEluZGV4KCk7XG4gIH0pO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoIWlucHV0UmVmLmN1cnJlbnQgfHwgaW5wdXRSZWYuY3VycmVudC5ub2RlTmFtZSAhPT0gJ0lOUFVUJykge1xuICAgICAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAmJiBpbnB1dFJlZi5jdXJyZW50Lm5vZGVOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFtgQSB0ZXh0YXJlYSBlbGVtZW50IHdhcyBwcm92aWRlZCB0byAke2NvbXBvbmVudE5hbWV9IHdoZXJlIGlucHV0IHdhcyBleHBlY3RlZC5gLCBgVGhpcyBpcyBub3QgYSBzdXBwb3J0ZWQgc2NlbmFyaW8gYnV0IGl0IG1heSB3b3JrIHVuZGVyIGNlcnRhaW4gY29uZGl0aW9ucy5gLCBgQSB0ZXh0YXJlYSBrZXlib2FyZCBuYXZpZ2F0aW9uIG1heSBjb25mbGljdCB3aXRoIEF1dG9jb21wbGV0ZSBjb250cm9scyAoZS5nLiBlbnRlciBhbmQgYXJyb3cga2V5cykuYCwgYE1ha2Ugc3VyZSB0byB0ZXN0IGtleWJvYXJkIG5hdmlnYXRpb24gYW5kIGFkZCBjdXN0b20gZXZlbnQgaGFuZGxlcnMgaWYgbmVjZXNzYXJ5LmBdLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBVbmFibGUgdG8gZmluZCB0aGUgaW5wdXQgZWxlbWVudC4gSXQgd2FzIHJlc29sdmVkIHRvICR7aW5wdXRSZWYuY3VycmVudH0gd2hpbGUgYW4gSFRNTElucHV0RWxlbWVudCB3YXMgZXhwZWN0ZWQuYCwgYEluc3RlYWQsICR7Y29tcG9uZW50TmFtZX0gZXhwZWN0cyBhbiBpbnB1dCBlbGVtZW50LmAsICcnLCBjb21wb25lbnROYW1lID09PSAndXNlQXV0b2NvbXBsZXRlJyA/ICdNYWtlIHN1cmUgeW91IGhhdmUgYm91bmQgZ2V0SW5wdXRQcm9wcyBjb3JyZWN0bHkgYW5kIHRoYXQgdGhlIG5vcm1hbCByZWYvZWZmZWN0IHJlc29sdXRpb25zIG9yZGVyIGlzIGd1YXJhbnRlZWQuJyA6ICdNYWtlIHN1cmUgeW91IGhhdmUgY3VzdG9taXplZCB0aGUgaW5wdXQgY29tcG9uZW50IGNvcnJlY3RseS4nXS5qb2luKCdcXG4nKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbY29tcG9uZW50TmFtZV0pO1xuICB9XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc3luY0hpZ2hsaWdodGVkSW5kZXgoKTtcbiAgfSwgW3N5bmNIaWdobGlnaHRlZEluZGV4XSk7XG4gIGNvbnN0IGhhbmRsZU9wZW4gPSBldmVudCA9PiB7XG4gICAgaWYgKG9wZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0T3BlblN0YXRlKHRydWUpO1xuICAgIHNldElucHV0UHJpc3RpbmUodHJ1ZSk7XG4gICAgaWYgKG9uT3Blbikge1xuICAgICAgb25PcGVuKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gKGV2ZW50LCByZWFzb24pID0+IHtcbiAgICBpZiAoIW9wZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0T3BlblN0YXRlKGZhbHNlKTtcbiAgICBpZiAob25DbG9zZSkge1xuICAgICAgb25DbG9zZShldmVudCwgcmVhc29uKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZVZhbHVlID0gKGV2ZW50LCBuZXdWYWx1ZSwgcmVhc29uLCBkZXRhaWxzKSA9PiB7XG4gICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSBuZXdWYWx1ZS5sZW5ndGggJiYgdmFsdWUuZXZlcnkoKHZhbCwgaSkgPT4gdmFsID09PSBuZXdWYWx1ZVtpXSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG5ld1ZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgb25DaGFuZ2UoZXZlbnQsIG5ld1ZhbHVlLCByZWFzb24sIGRldGFpbHMpO1xuICAgIH1cbiAgICBzZXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgfTtcbiAgY29uc3QgaXNUb3VjaCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHNlbGVjdE5ld1ZhbHVlID0gKGV2ZW50LCBvcHRpb24sIHJlYXNvblByb3AgPSAnc2VsZWN0T3B0aW9uJywgb3JpZ2luID0gJ29wdGlvbnMnKSA9PiB7XG4gICAgbGV0IHJlYXNvbiA9IHJlYXNvblByb3A7XG4gICAgbGV0IG5ld1ZhbHVlID0gb3B0aW9uO1xuICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgbmV3VmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLnNsaWNlKCkgOiBbXTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBuZXdWYWx1ZS5maWx0ZXIodmFsID0+IGlzT3B0aW9uRXF1YWxUb1ZhbHVlKG9wdGlvbiwgdmFsKSk7XG4gICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgXFxgaXNPcHRpb25FcXVhbFRvVmFsdWVcXGAgbWV0aG9kIG9mICR7Y29tcG9uZW50TmFtZX0gZG9lcyBub3QgaGFuZGxlIHRoZSBhcmd1bWVudHMgY29ycmVjdGx5LmAsIGBUaGUgY29tcG9uZW50IGV4cGVjdHMgYSBzaW5nbGUgdmFsdWUgdG8gbWF0Y2ggYSBnaXZlbiBvcHRpb24gYnV0IGZvdW5kICR7bWF0Y2hlcy5sZW5ndGh9IG1hdGNoZXMuYF0uam9pbignXFxuJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBpdGVtSW5kZXggPSBmaW5kSW5kZXgobmV3VmFsdWUsIHZhbHVlSXRlbSA9PiBpc09wdGlvbkVxdWFsVG9WYWx1ZShvcHRpb24sIHZhbHVlSXRlbSkpO1xuICAgICAgaWYgKGl0ZW1JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgbmV3VmFsdWUucHVzaChvcHRpb24pO1xuICAgICAgfSBlbHNlIGlmIChvcmlnaW4gIT09ICdmcmVlU29sbycpIHtcbiAgICAgICAgbmV3VmFsdWUuc3BsaWNlKGl0ZW1JbmRleCwgMSk7XG4gICAgICAgIHJlYXNvbiA9ICdyZW1vdmVPcHRpb24nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXNldElucHV0VmFsdWUoZXZlbnQsIG5ld1ZhbHVlKTtcbiAgICBoYW5kbGVWYWx1ZShldmVudCwgbmV3VmFsdWUsIHJlYXNvbiwge1xuICAgICAgb3B0aW9uXG4gICAgfSk7XG4gICAgaWYgKCFkaXNhYmxlQ2xvc2VPblNlbGVjdCAmJiAoIWV2ZW50IHx8ICFldmVudC5jdHJsS2V5ICYmICFldmVudC5tZXRhS2V5KSkge1xuICAgICAgaGFuZGxlQ2xvc2UoZXZlbnQsIHJlYXNvbik7XG4gICAgfVxuICAgIGlmIChibHVyT25TZWxlY3QgPT09IHRydWUgfHwgYmx1ck9uU2VsZWN0ID09PSAndG91Y2gnICYmIGlzVG91Y2guY3VycmVudCB8fCBibHVyT25TZWxlY3QgPT09ICdtb3VzZScgJiYgIWlzVG91Y2guY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5ibHVyKCk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiB2YWxpZFRhZ0luZGV4KGluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGxldCBuZXh0Rm9jdXMgPSBpbmRleDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gT3V0IG9mIHJhbmdlXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnbmV4dCcgJiYgbmV4dEZvY3VzID09PSB2YWx1ZS5sZW5ndGggfHwgZGlyZWN0aW9uID09PSAncHJldmlvdXMnICYmIG5leHRGb2N1cyA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3B0aW9uID0gYW5jaG9yRWwucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFnLWluZGV4PVwiJHtuZXh0Rm9jdXN9XCJdYCk7XG5cbiAgICAgIC8vIFNhbWUgbG9naWMgYXMgTWVudUxpc3QuanNcbiAgICAgIGlmICghb3B0aW9uIHx8ICFvcHRpb24uaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpIHx8IG9wdGlvbi5kaXNhYmxlZCB8fCBvcHRpb24uZ2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJykgPT09ICd0cnVlJykge1xuICAgICAgICBuZXh0Rm9jdXMgKz0gZGlyZWN0aW9uID09PSAnbmV4dCcgPyAxIDogLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV4dEZvY3VzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBoYW5kbGVGb2N1c1RhZyA9IChldmVudCwgZGlyZWN0aW9uKSA9PiB7XG4gICAgaWYgKCFtdWx0aXBsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXRWYWx1ZSA9PT0gJycpIHtcbiAgICAgIGhhbmRsZUNsb3NlKGV2ZW50LCAndG9nZ2xlSW5wdXQnKTtcbiAgICB9XG4gICAgbGV0IG5leHRUYWcgPSBmb2N1c2VkVGFnO1xuICAgIGlmIChmb2N1c2VkVGFnID09PSAtMSkge1xuICAgICAgaWYgKGlucHV0VmFsdWUgPT09ICcnICYmIGRpcmVjdGlvbiA9PT0gJ3ByZXZpb3VzJykge1xuICAgICAgICBuZXh0VGFnID0gdmFsdWUubGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dFRhZyArPSBkaXJlY3Rpb24gPT09ICduZXh0JyA/IDEgOiAtMTtcbiAgICAgIGlmIChuZXh0VGFnIDwgMCkge1xuICAgICAgICBuZXh0VGFnID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0VGFnID09PSB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgbmV4dFRhZyA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXh0VGFnID0gdmFsaWRUYWdJbmRleChuZXh0VGFnLCBkaXJlY3Rpb24pO1xuICAgIHNldEZvY3VzZWRUYWcobmV4dFRhZyk7XG4gICAgZm9jdXNUYWcobmV4dFRhZyk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNsZWFyID0gZXZlbnQgPT4ge1xuICAgIGlnbm9yZUZvY3VzLmN1cnJlbnQgPSB0cnVlO1xuICAgIHNldElucHV0VmFsdWVTdGF0ZSgnJyk7XG4gICAgaWYgKG9uSW5wdXRDaGFuZ2UpIHtcbiAgICAgIG9uSW5wdXRDaGFuZ2UoZXZlbnQsICcnLCAnY2xlYXInKTtcbiAgICB9XG4gICAgaGFuZGxlVmFsdWUoZXZlbnQsIG11bHRpcGxlID8gW10gOiBudWxsLCAnY2xlYXInKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IG90aGVyID0+IGV2ZW50ID0+IHtcbiAgICBpZiAob3RoZXIub25LZXlEb3duKSB7XG4gICAgICBvdGhlci5vbktleURvd24oZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQuZGVmYXVsdE11aVByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZm9jdXNlZFRhZyAhPT0gLTEgJiYgWydBcnJvd0xlZnQnLCAnQXJyb3dSaWdodCddLmluZGV4T2YoZXZlbnQua2V5KSA9PT0gLTEpIHtcbiAgICAgIHNldEZvY3VzZWRUYWcoLTEpO1xuICAgICAgZm9jdXNUYWcoLTEpO1xuICAgIH1cblxuICAgIC8vIFdhaXQgdW50aWwgSU1FIGlzIHNldHRsZWQuXG4gICAgaWYgKGV2ZW50LndoaWNoICE9PSAyMjkpIHtcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICAgIGlmIChwb3B1cE9wZW4gJiYgaGFuZGxlSG9tZUVuZEtleXMpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc2Nyb2xsIG9mIHRoZSBwYWdlXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY2hhbmdlSGlnaGxpZ2h0ZWRJbmRleCh7XG4gICAgICAgICAgICAgIGRpZmY6ICdzdGFydCcsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogJ25leHQnLFxuICAgICAgICAgICAgICByZWFzb246ICdrZXlib2FyZCcsXG4gICAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgICAgaWYgKHBvcHVwT3BlbiAmJiBoYW5kbGVIb21lRW5kS2V5cykge1xuICAgICAgICAgICAgLy8gUHJldmVudCBzY3JvbGwgb2YgdGhlIHBhZ2VcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjaGFuZ2VIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgICAgICAgICAgZGlmZjogJ2VuZCcsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogJ3ByZXZpb3VzJyxcbiAgICAgICAgICAgICAgcmVhc29uOiAna2V5Ym9hcmQnLFxuICAgICAgICAgICAgICBldmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQYWdlVXAnOlxuICAgICAgICAgIC8vIFByZXZlbnQgc2Nyb2xsIG9mIHRoZSBwYWdlXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjaGFuZ2VIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgICAgICAgIGRpZmY6IC1wYWdlU2l6ZSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ3ByZXZpb3VzJyxcbiAgICAgICAgICAgIHJlYXNvbjogJ2tleWJvYXJkJyxcbiAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaGFuZGxlT3BlbihldmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BhZ2VEb3duJzpcbiAgICAgICAgICAvLyBQcmV2ZW50IHNjcm9sbCBvZiB0aGUgcGFnZVxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY2hhbmdlSGlnaGxpZ2h0ZWRJbmRleCh7XG4gICAgICAgICAgICBkaWZmOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ25leHQnLFxuICAgICAgICAgICAgcmVhc29uOiAna2V5Ym9hcmQnLFxuICAgICAgICAgICAgZXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBoYW5kbGVPcGVuKGV2ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAvLyBQcmV2ZW50IGN1cnNvciBtb3ZlXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjaGFuZ2VIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgICAgICAgIGRpZmY6IDEsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICduZXh0JyxcbiAgICAgICAgICAgIHJlYXNvbjogJ2tleWJvYXJkJyxcbiAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaGFuZGxlT3BlbihldmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgIC8vIFByZXZlbnQgY3Vyc29yIG1vdmVcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGNoYW5nZUhpZ2hsaWdodGVkSW5kZXgoe1xuICAgICAgICAgICAgZGlmZjogLTEsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdwcmV2aW91cycsXG4gICAgICAgICAgICByZWFzb246ICdrZXlib2FyZCcsXG4gICAgICAgICAgICBldmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGhhbmRsZU9wZW4oZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgIGhhbmRsZUZvY3VzVGFnKGV2ZW50LCAncHJldmlvdXMnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgaGFuZGxlRm9jdXNUYWcoZXZlbnQsICduZXh0Jyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICBpZiAoaGlnaGxpZ2h0ZWRJbmRleFJlZi5jdXJyZW50ICE9PSAtMSAmJiBwb3B1cE9wZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGZpbHRlcmVkT3B0aW9uc1toaWdobGlnaHRlZEluZGV4UmVmLmN1cnJlbnRdO1xuICAgICAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBnZXRPcHRpb25EaXNhYmxlZCA/IGdldE9wdGlvbkRpc2FibGVkKG9wdGlvbikgOiBmYWxzZTtcblxuICAgICAgICAgICAgLy8gQXZvaWQgZWFybHkgZm9ybSB2YWxpZGF0aW9uLCBsZXQgdGhlIGVuZC11c2VycyBjb250aW51ZSBmaWxsaW5nIHRoZSBmb3JtLlxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3ROZXdWYWx1ZShldmVudCwgb3B0aW9uLCAnc2VsZWN0T3B0aW9uJyk7XG5cbiAgICAgICAgICAgIC8vIE1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgZW5kLlxuICAgICAgICAgICAgaWYgKGF1dG9Db21wbGV0ZSkge1xuICAgICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50LnNldFNlbGVjdGlvblJhbmdlKGlucHV0UmVmLmN1cnJlbnQudmFsdWUubGVuZ3RoLCBpbnB1dFJlZi5jdXJyZW50LnZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChmcmVlU29sbyAmJiBpbnB1dFZhbHVlICE9PSAnJyAmJiBpbnB1dFZhbHVlSXNTZWxlY3RlZFZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgICAgIC8vIEFsbG93IHBlb3BsZSB0byBhZGQgbmV3IHZhbHVlcyBiZWZvcmUgdGhleSBzdWJtaXQgdGhlIGZvcm0uXG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3ROZXdWYWx1ZShldmVudCwgaW5wdXRWYWx1ZSwgJ2NyZWF0ZU9wdGlvbicsICdmcmVlU29sbycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgICBpZiAocG9wdXBPcGVuKSB7XG4gICAgICAgICAgICAvLyBBdm9pZCBPcGVyYSB0byBleGl0IGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvLyBBdm9pZCB0aGUgTW9kYWwgdG8gaGFuZGxlIHRoZSBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaGFuZGxlQ2xvc2UoZXZlbnQsICdlc2NhcGUnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNsZWFyT25Fc2NhcGUgJiYgKGlucHV0VmFsdWUgIT09ICcnIHx8IG11bHRpcGxlICYmIHZhbHVlLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAvLyBBdm9pZCBPcGVyYSB0byBleGl0IGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvLyBBdm9pZCB0aGUgTW9kYWwgdG8gaGFuZGxlIHRoZSBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaGFuZGxlQ2xlYXIoZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQmFja3NwYWNlJzpcbiAgICAgICAgICBpZiAobXVsdGlwbGUgJiYgIXJlYWRPbmx5ICYmIGlucHV0VmFsdWUgPT09ICcnICYmIHZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZm9jdXNlZFRhZyA9PT0gLTEgPyB2YWx1ZS5sZW5ndGggLSAxIDogZm9jdXNlZFRhZztcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUuc2xpY2UoKTtcbiAgICAgICAgICAgIG5ld1ZhbHVlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBoYW5kbGVWYWx1ZShldmVudCwgbmV3VmFsdWUsICdyZW1vdmVPcHRpb24nLCB7XG4gICAgICAgICAgICAgIG9wdGlvbjogdmFsdWVbaW5kZXhdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0RlbGV0ZSc6XG4gICAgICAgICAgaWYgKG11bHRpcGxlICYmICFyZWFkT25seSAmJiBpbnB1dFZhbHVlID09PSAnJyAmJiB2YWx1ZS5sZW5ndGggPiAwICYmIGZvY3VzZWRUYWcgIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGZvY3VzZWRUYWc7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlLnNsaWNlKCk7XG4gICAgICAgICAgICBuZXdWYWx1ZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgaGFuZGxlVmFsdWUoZXZlbnQsIG5ld1ZhbHVlLCAncmVtb3ZlT3B0aW9uJywge1xuICAgICAgICAgICAgICBvcHRpb246IHZhbHVlW2luZGV4XVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlRm9jdXMgPSBldmVudCA9PiB7XG4gICAgc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICBpZiAob3Blbk9uRm9jdXMgJiYgIWlnbm9yZUZvY3VzLmN1cnJlbnQpIHtcbiAgICAgIGhhbmRsZU9wZW4oZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlQmx1ciA9IGV2ZW50ID0+IHtcbiAgICAvLyBJZ25vcmUgdGhlIGV2ZW50IHdoZW4gdXNpbmcgdGhlIHNjcm9sbGJhciB3aXRoIElFMTFcbiAgICBpZiAodW5zdGFibGVfaXNBY3RpdmVFbGVtZW50SW5MaXN0Ym94KGxpc3Rib3hSZWYpKSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEZvY3VzZWQoZmFsc2UpO1xuICAgIGZpcnN0Rm9jdXMuY3VycmVudCA9IHRydWU7XG4gICAgaWdub3JlRm9jdXMuY3VycmVudCA9IGZhbHNlO1xuICAgIGlmIChhdXRvU2VsZWN0ICYmIGhpZ2hsaWdodGVkSW5kZXhSZWYuY3VycmVudCAhPT0gLTEgJiYgcG9wdXBPcGVuKSB7XG4gICAgICBzZWxlY3ROZXdWYWx1ZShldmVudCwgZmlsdGVyZWRPcHRpb25zW2hpZ2hsaWdodGVkSW5kZXhSZWYuY3VycmVudF0sICdibHVyJyk7XG4gICAgfSBlbHNlIGlmIChhdXRvU2VsZWN0ICYmIGZyZWVTb2xvICYmIGlucHV0VmFsdWUgIT09ICcnKSB7XG4gICAgICBzZWxlY3ROZXdWYWx1ZShldmVudCwgaW5wdXRWYWx1ZSwgJ2JsdXInLCAnZnJlZVNvbG8nKTtcbiAgICB9IGVsc2UgaWYgKGNsZWFyT25CbHVyKSB7XG4gICAgICByZXNldElucHV0VmFsdWUoZXZlbnQsIHZhbHVlKTtcbiAgICB9XG4gICAgaGFuZGxlQ2xvc2UoZXZlbnQsICdibHVyJyk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChpbnB1dFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgc2V0SW5wdXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgICAgIHNldElucHV0UHJpc3RpbmUoZmFsc2UpO1xuICAgICAgaWYgKG9uSW5wdXRDaGFuZ2UpIHtcbiAgICAgICAgb25JbnB1dENoYW5nZShldmVudCwgbmV3VmFsdWUsICdpbnB1dCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3VmFsdWUgPT09ICcnKSB7XG4gICAgICBpZiAoIWRpc2FibGVDbGVhcmFibGUgJiYgIW11bHRpcGxlKSB7XG4gICAgICAgIGhhbmRsZVZhbHVlKGV2ZW50LCBudWxsLCAnY2xlYXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlT3BlbihldmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVPcHRpb25Nb3VzZU1vdmUgPSBldmVudCA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBOdW1iZXIoZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9uLWluZGV4JykpO1xuICAgIGlmIChoaWdobGlnaHRlZEluZGV4UmVmLmN1cnJlbnQgIT09IGluZGV4KSB7XG4gICAgICBzZXRIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGluZGV4LFxuICAgICAgICByZWFzb246ICdtb3VzZSdcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlT3B0aW9uVG91Y2hTdGFydCA9IGV2ZW50ID0+IHtcbiAgICBzZXRIaWdobGlnaHRlZEluZGV4KHtcbiAgICAgIGV2ZW50LFxuICAgICAgaW5kZXg6IE51bWJlcihldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb24taW5kZXgnKSksXG4gICAgICByZWFzb246ICd0b3VjaCdcbiAgICB9KTtcbiAgICBpc1RvdWNoLmN1cnJlbnQgPSB0cnVlO1xuICB9O1xuICBjb25zdCBoYW5kbGVPcHRpb25DbGljayA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBpbmRleCA9IE51bWJlcihldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb24taW5kZXgnKSk7XG4gICAgc2VsZWN0TmV3VmFsdWUoZXZlbnQsIGZpbHRlcmVkT3B0aW9uc1tpbmRleF0sICdzZWxlY3RPcHRpb24nKTtcbiAgICBpc1RvdWNoLmN1cnJlbnQgPSBmYWxzZTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlVGFnRGVsZXRlID0gaW5kZXggPT4gZXZlbnQgPT4ge1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUuc2xpY2UoKTtcbiAgICBuZXdWYWx1ZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGhhbmRsZVZhbHVlKGV2ZW50LCBuZXdWYWx1ZSwgJ3JlbW92ZU9wdGlvbicsIHtcbiAgICAgIG9wdGlvbjogdmFsdWVbaW5kZXhdXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVBvcHVwSW5kaWNhdG9yID0gZXZlbnQgPT4ge1xuICAgIGlmIChvcGVuKSB7XG4gICAgICBoYW5kbGVDbG9zZShldmVudCwgJ3RvZ2dsZUlucHV0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZU9wZW4oZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBQcmV2ZW50IGlucHV0IGJsdXIgd2hlbiBpbnRlcmFjdGluZyB3aXRoIHRoZSBjb21ib2JveFxuICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSBldmVudCA9PiB7XG4gICAgLy8gUHJldmVudCBmb2N1c2luZyB0aGUgaW5wdXQgaWYgY2xpY2sgaXMgYW55d2hlcmUgb3V0c2lkZSB0aGUgQXV0b2NvbXBsZXRlXG4gICAgaWYgKCFldmVudC5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJykgIT09IGlkKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGb2N1cyB0aGUgaW5wdXQgd2hlbiBpbnRlcmFjdGluZyB3aXRoIHRoZSBjb21ib2JveFxuICBjb25zdCBoYW5kbGVDbGljayA9IGV2ZW50ID0+IHtcbiAgICAvLyBQcmV2ZW50IGZvY3VzaW5nIHRoZSBpbnB1dCBpZiBjbGljayBpcyBhbnl3aGVyZSBvdXRzaWRlIHRoZSBBdXRvY29tcGxldGVcbiAgICBpZiAoIWV2ZW50LmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgaWYgKHNlbGVjdE9uRm9jdXMgJiYgZmlyc3RGb2N1cy5jdXJyZW50ICYmIGlucHV0UmVmLmN1cnJlbnQuc2VsZWN0aW9uRW5kIC0gaW5wdXRSZWYuY3VycmVudC5zZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5zZWxlY3QoKTtcbiAgICB9XG4gICAgZmlyc3RGb2N1cy5jdXJyZW50ID0gZmFsc2U7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUlucHV0TW91c2VEb3duID0gZXZlbnQgPT4ge1xuICAgIGlmICghZGlzYWJsZWRQcm9wICYmIChpbnB1dFZhbHVlID09PSAnJyB8fCAhb3BlbikpIHtcbiAgICAgIGhhbmRsZVBvcHVwSW5kaWNhdG9yKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGxldCBkaXJ0eSA9IGZyZWVTb2xvICYmIGlucHV0VmFsdWUubGVuZ3RoID4gMDtcbiAgZGlydHkgPSBkaXJ0eSB8fCAobXVsdGlwbGUgPyB2YWx1ZS5sZW5ndGggPiAwIDogdmFsdWUgIT09IG51bGwpO1xuICBsZXQgZ3JvdXBlZE9wdGlvbnMgPSBmaWx0ZXJlZE9wdGlvbnM7XG4gIGlmIChncm91cEJ5KSB7XG4gICAgLy8gdXNlZCB0byBrZWVwIHRyYWNrIG9mIGtleSBhbmQgaW5kZXhlcyBpbiB0aGUgcmVzdWx0IGFycmF5XG4gICAgY29uc3QgaW5kZXhCeSA9IG5ldyBNYXAoKTtcbiAgICBsZXQgd2FybiA9IGZhbHNlO1xuICAgIGdyb3VwZWRPcHRpb25zID0gZmlsdGVyZWRPcHRpb25zLnJlZHVjZSgoYWNjLCBvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBncm91cCA9IGdyb3VwQnkob3B0aW9uKTtcbiAgICAgIGlmIChhY2MubGVuZ3RoID4gMCAmJiBhY2NbYWNjLmxlbmd0aCAtIDFdLmdyb3VwID09PSBncm91cCkge1xuICAgICAgICBhY2NbYWNjLmxlbmd0aCAtIDFdLm9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW5kZXhCeS5nZXQoZ3JvdXApICYmICF3YXJuKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYE1VSTogVGhlIG9wdGlvbnMgcHJvdmlkZWQgY29tYmluZWQgd2l0aCB0aGUgXFxgZ3JvdXBCeVxcYCBtZXRob2Qgb2YgJHtjb21wb25lbnROYW1lfSByZXR1cm5zIGR1cGxpY2F0ZWQgaGVhZGVycy5gLCAnWW91IGNhbiBzb2x2ZSB0aGUgaXNzdWUgYnkgc29ydGluZyB0aGUgb3B0aW9ucyB3aXRoIHRoZSBvdXRwdXQgb2YgYGdyb3VwQnlgLicpO1xuICAgICAgICAgICAgd2FybiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluZGV4Qnkuc2V0KGdyb3VwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBhY2MucHVzaCh7XG4gICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBncm91cCxcbiAgICAgICAgICBvcHRpb25zOiBbb3B0aW9uXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pO1xuICB9XG4gIGlmIChkaXNhYmxlZFByb3AgJiYgZm9jdXNlZCkge1xuICAgIGhhbmRsZUJsdXIoKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFJvb3RQcm9wczogKG90aGVyID0ge30pID0+IF9leHRlbmRzKHtcbiAgICAgICdhcmlhLW93bnMnOiBsaXN0Ym94QXZhaWxhYmxlID8gYCR7aWR9LWxpc3Rib3hgIDogbnVsbFxuICAgIH0sIG90aGVyLCB7XG4gICAgICBvbktleURvd246IGhhbmRsZUtleURvd24ob3RoZXIpLFxuICAgICAgb25Nb3VzZURvd246IGhhbmRsZU1vdXNlRG93bixcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrXG4gICAgfSksXG4gICAgZ2V0SW5wdXRMYWJlbFByb3BzOiAoKSA9PiAoe1xuICAgICAgaWQ6IGAke2lkfS1sYWJlbGAsXG4gICAgICBodG1sRm9yOiBpZFxuICAgIH0pLFxuICAgIGdldElucHV0UHJvcHM6ICgpID0+ICh7XG4gICAgICBpZCxcbiAgICAgIHZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLFxuICAgICAgb25Gb2N1czogaGFuZGxlRm9jdXMsXG4gICAgICBvbkNoYW5nZTogaGFuZGxlSW5wdXRDaGFuZ2UsXG4gICAgICBvbk1vdXNlRG93bjogaGFuZGxlSW5wdXRNb3VzZURvd24sXG4gICAgICAvLyBpZiBvcGVuIHRoZW4gdGhpcyBpcyBoYW5kbGVkIGltcGVyYXRpdmVseSBzbyBkb24ndCBsZXQgcmVhY3Qgb3ZlcnJpZGVcbiAgICAgIC8vIG9ubHkgaGF2ZSBhbiBvcGluaW9uIGFib3V0IHRoaXMgd2hlbiBjbG9zZWRcbiAgICAgICdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnOiBwb3B1cE9wZW4gPyAnJyA6IG51bGwsXG4gICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiBhdXRvQ29tcGxldGUgPyAnYm90aCcgOiAnbGlzdCcsXG4gICAgICAnYXJpYS1jb250cm9scyc6IGxpc3Rib3hBdmFpbGFibGUgPyBgJHtpZH0tbGlzdGJveGAgOiB1bmRlZmluZWQsXG4gICAgICAnYXJpYS1leHBhbmRlZCc6IGxpc3Rib3hBdmFpbGFibGUsXG4gICAgICAvLyBEaXNhYmxlIGJyb3dzZXIncyBzdWdnZXN0aW9uIHRoYXQgbWlnaHQgb3ZlcmxhcCB3aXRoIHRoZSBwb3B1cC5cbiAgICAgIC8vIEhhbmRsZSBhdXRvY29tcGxldGUgYnV0IG5vdCBhdXRvZmlsbC5cbiAgICAgIGF1dG9Db21wbGV0ZTogJ29mZicsXG4gICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgYXV0b0NhcGl0YWxpemU6ICdub25lJyxcbiAgICAgIHNwZWxsQ2hlY2s6ICdmYWxzZScsXG4gICAgICByb2xlOiAnY29tYm9ib3gnLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkUHJvcFxuICAgIH0pLFxuICAgIGdldENsZWFyUHJvcHM6ICgpID0+ICh7XG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBvbkNsaWNrOiBoYW5kbGVDbGVhclxuICAgIH0pLFxuICAgIGdldFBvcHVwSW5kaWNhdG9yUHJvcHM6ICgpID0+ICh7XG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBvbkNsaWNrOiBoYW5kbGVQb3B1cEluZGljYXRvclxuICAgIH0pLFxuICAgIGdldFRhZ1Byb3BzOiAoe1xuICAgICAgaW5kZXhcbiAgICB9KSA9PiBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGluZGV4LFxuICAgICAgJ2RhdGEtdGFnLWluZGV4JzogaW5kZXgsXG4gICAgICB0YWJJbmRleDogLTFcbiAgICB9LCAhcmVhZE9ubHkgJiYge1xuICAgICAgb25EZWxldGU6IGhhbmRsZVRhZ0RlbGV0ZShpbmRleClcbiAgICB9KSxcbiAgICBnZXRMaXN0Ym94UHJvcHM6ICgpID0+ICh7XG4gICAgICByb2xlOiAnbGlzdGJveCcsXG4gICAgICBpZDogYCR7aWR9LWxpc3Rib3hgLFxuICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6IGAke2lkfS1sYWJlbGAsXG4gICAgICByZWY6IGhhbmRsZUxpc3Rib3hSZWYsXG4gICAgICBvbk1vdXNlRG93bjogZXZlbnQgPT4ge1xuICAgICAgICAvLyBQcmV2ZW50IGJsdXJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBnZXRPcHRpb25Qcm9wczogKHtcbiAgICAgIGluZGV4LFxuICAgICAgb3B0aW9uXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWQgPSAobXVsdGlwbGUgPyB2YWx1ZSA6IFt2YWx1ZV0pLnNvbWUodmFsdWUyID0+IHZhbHVlMiAhPSBudWxsICYmIGlzT3B0aW9uRXF1YWxUb1ZhbHVlKG9wdGlvbiwgdmFsdWUyKSk7XG4gICAgICBjb25zdCBkaXNhYmxlZCA9IGdldE9wdGlvbkRpc2FibGVkID8gZ2V0T3B0aW9uRGlzYWJsZWQob3B0aW9uKSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiBnZXRPcHRpb25MYWJlbChvcHRpb24pLFxuICAgICAgICB0YWJJbmRleDogLTEsXG4gICAgICAgIHJvbGU6ICdvcHRpb24nLFxuICAgICAgICBpZDogYCR7aWR9LW9wdGlvbi0ke2luZGV4fWAsXG4gICAgICAgIG9uTW91c2VNb3ZlOiBoYW5kbGVPcHRpb25Nb3VzZU1vdmUsXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZU9wdGlvbkNsaWNrLFxuICAgICAgICBvblRvdWNoU3RhcnQ6IGhhbmRsZU9wdGlvblRvdWNoU3RhcnQsXG4gICAgICAgICdkYXRhLW9wdGlvbi1pbmRleCc6IGluZGV4LFxuICAgICAgICAnYXJpYS1kaXNhYmxlZCc6IGRpc2FibGVkLFxuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IHNlbGVjdGVkXG4gICAgICB9O1xuICAgIH0sXG4gICAgaWQsXG4gICAgaW5wdXRWYWx1ZSxcbiAgICB2YWx1ZSxcbiAgICBkaXJ0eSxcbiAgICBleHBhbmRlZDogcG9wdXBPcGVuICYmIGFuY2hvckVsLFxuICAgIHBvcHVwT3BlbixcbiAgICBmb2N1c2VkOiBmb2N1c2VkIHx8IGZvY3VzZWRUYWcgIT09IC0xLFxuICAgIGFuY2hvckVsLFxuICAgIHNldEFuY2hvckVsLFxuICAgIGZvY3VzZWRUYWcsXG4gICAgZ3JvdXBlZE9wdGlvbnNcbiAgfTtcbn0iXSwibmFtZXMiOlsiX2V4dGVuZHMiLCJSZWFjdCIsInVuc3RhYmxlX3NldFJlZiIsInNldFJlZiIsInVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2siLCJ1c2VFdmVudENhbGxiYWNrIiwidW5zdGFibGVfdXNlQ29udHJvbGxlZCIsInVzZUNvbnRyb2xsZWQiLCJ1bnN0YWJsZV91c2VJZCIsInVzZUlkIiwidXNlUHJldmlvdXNQcm9wcyIsInN0cmlwRGlhY3JpdGljcyIsInN0cmluZyIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJjcmVhdGVGaWx0ZXJPcHRpb25zIiwiY29uZmlnIiwiaWdub3JlQWNjZW50cyIsImlnbm9yZUNhc2UiLCJsaW1pdCIsIm1hdGNoRnJvbSIsInN0cmluZ2lmeSIsInRyaW0iLCJvcHRpb25zIiwiaW5wdXRWYWx1ZSIsImdldE9wdGlvbkxhYmVsIiwiaW5wdXQiLCJ0b0xvd2VyQ2FzZSIsImZpbHRlcmVkT3B0aW9ucyIsImZpbHRlciIsIm9wdGlvbiIsImNhbmRpZGF0ZSIsImluZGV4T2YiLCJzbGljZSIsImZpbmRJbmRleCIsImFycmF5IiwiY29tcCIsImkiLCJsZW5ndGgiLCJkZWZhdWx0RmlsdGVyT3B0aW9ucyIsInBhZ2VTaXplIiwiZGVmYXVsdElzQWN0aXZlRWxlbWVudEluTGlzdGJveCIsImxpc3Rib3hSZWYiLCJfbGlzdGJveFJlZiRjdXJyZW50JHAiLCJjdXJyZW50IiwicGFyZW50RWxlbWVudCIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwidXNlQXV0b2NvbXBsZXRlIiwicHJvcHMiLCJ1bnN0YWJsZV9pc0FjdGl2ZUVsZW1lbnRJbkxpc3Rib3giLCJ1bnN0YWJsZV9jbGFzc05hbWVQcmVmaXgiLCJhdXRvQ29tcGxldGUiLCJhdXRvSGlnaGxpZ2h0IiwiYXV0b1NlbGVjdCIsImJsdXJPblNlbGVjdCIsImNsZWFyT25CbHVyIiwiZnJlZVNvbG8iLCJjbGVhck9uRXNjYXBlIiwiY29tcG9uZW50TmFtZSIsImRlZmF1bHRWYWx1ZSIsIm11bHRpcGxlIiwiZGlzYWJsZUNsZWFyYWJsZSIsImRpc2FibGVDbG9zZU9uU2VsZWN0IiwiZGlzYWJsZWQiLCJkaXNhYmxlZFByb3AiLCJkaXNhYmxlZEl0ZW1zRm9jdXNhYmxlIiwiZGlzYWJsZUxpc3RXcmFwIiwiZmlsdGVyT3B0aW9ucyIsImZpbHRlclNlbGVjdGVkT3B0aW9ucyIsImdldE9wdGlvbkRpc2FibGVkIiwiZ2V0T3B0aW9uTGFiZWxQcm9wIiwiX29wdGlvbiRsYWJlbCIsImxhYmVsIiwiZ3JvdXBCeSIsImhhbmRsZUhvbWVFbmRLZXlzIiwiaWQiLCJpZFByb3AiLCJpbmNsdWRlSW5wdXRJbkxpc3QiLCJpbnB1dFZhbHVlUHJvcCIsImlzT3B0aW9uRXF1YWxUb1ZhbHVlIiwidmFsdWUiLCJvbkNoYW5nZSIsIm9uQ2xvc2UiLCJvbkhpZ2hsaWdodENoYW5nZSIsIm9uSW5wdXRDaGFuZ2UiLCJvbk9wZW4iLCJvcGVuIiwib3BlblByb3AiLCJvcGVuT25Gb2N1cyIsInJlYWRPbmx5Iiwic2VsZWN0T25Gb2N1cyIsInZhbHVlUHJvcCIsIm9wdGlvbkxhYmVsIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZXJyb25lb3VzUmV0dXJuIiwidW5kZWZpbmVkIiwiY29uc29sZSIsImVycm9yIiwiSlNPTiIsIlN0cmluZyIsImlnbm9yZUZvY3VzIiwidXNlUmVmIiwiZmlyc3RGb2N1cyIsImlucHV0UmVmIiwiYW5jaG9yRWwiLCJzZXRBbmNob3JFbCIsInVzZVN0YXRlIiwiZm9jdXNlZFRhZyIsInNldEZvY3VzZWRUYWciLCJkZWZhdWx0SGlnaGxpZ2h0ZWQiLCJoaWdobGlnaHRlZEluZGV4UmVmIiwic2V0VmFsdWVTdGF0ZSIsImNvbnRyb2xsZWQiLCJkZWZhdWx0IiwibmFtZSIsInNldElucHV0VmFsdWVTdGF0ZSIsInN0YXRlIiwiZm9jdXNlZCIsInNldEZvY3VzZWQiLCJyZXNldElucHV0VmFsdWUiLCJ1c2VDYWxsYmFjayIsImV2ZW50IiwibmV3VmFsdWUiLCJpc09wdGlvblNlbGVjdGVkIiwibmV3SW5wdXRWYWx1ZSIsInNldE9wZW5TdGF0ZSIsImlucHV0UHJpc3RpbmUiLCJzZXRJbnB1dFByaXN0aW5lIiwiaW5wdXRWYWx1ZUlzU2VsZWN0ZWRWYWx1ZSIsInBvcHVwT3BlbiIsInNvbWUiLCJ2YWx1ZTIiLCJwcmV2aW91c1Byb3BzIiwidXNlRWZmZWN0IiwidmFsdWVDaGFuZ2UiLCJsaXN0Ym94QXZhaWxhYmxlIiwibWlzc2luZ1ZhbHVlIiwid2FybiIsImpvaW4iLCJmb2N1c1RhZyIsInRhZ1RvRm9jdXMiLCJmb2N1cyIsInF1ZXJ5U2VsZWN0b3IiLCJ2YWxpZE9wdGlvbkluZGV4IiwiaW5kZXgiLCJkaXJlY3Rpb24iLCJuZXh0Rm9jdXMiLCJuZXh0Rm9jdXNEaXNhYmxlZCIsImdldEF0dHJpYnV0ZSIsImhhc0F0dHJpYnV0ZSIsInNldEhpZ2hsaWdodGVkSW5kZXgiLCJyZWFzb24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJwcmV2IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwibGlzdGJveE5vZGUiLCJzY3JvbGxUb3AiLCJhZGQiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJlbGVtZW50Iiwic2Nyb2xsQm90dG9tIiwiZWxlbWVudEJvdHRvbSIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsImNoYW5nZUhpZ2hsaWdodGVkSW5kZXgiLCJkaWZmIiwiZ2V0TmV4dEluZGV4IiwibWF4SW5kZXgiLCJuZXdJbmRleCIsIk1hdGgiLCJhYnMiLCJuZXh0SW5kZXgiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImNoZWNrSGlnaGxpZ2h0ZWRPcHRpb25FeGlzdHMiLCJpc1NhbWVWYWx1ZSIsInZhbHVlMSIsImxhYmVsMSIsImxhYmVsMiIsImV2ZXJ5IiwidmFsIiwicHJldmlvdXNIaWdobGlnaHRlZE9wdGlvbiIsInByZXZpb3VzSGlnaGxpZ2h0ZWRPcHRpb25FeGlzdHMiLCJzeW5jSGlnaGxpZ2h0ZWRJbmRleCIsInZhbHVlSXRlbSIsImN1cnJlbnRPcHRpb24iLCJpdGVtSW5kZXgiLCJvcHRpb25JdGVtIiwiaGFuZGxlTGlzdGJveFJlZiIsIm5vZGUiLCJub2RlTmFtZSIsImhhbmRsZU9wZW4iLCJoYW5kbGVDbG9zZSIsImhhbmRsZVZhbHVlIiwiZGV0YWlscyIsImlzVG91Y2giLCJzZWxlY3ROZXdWYWx1ZSIsInJlYXNvblByb3AiLCJvcmlnaW4iLCJBcnJheSIsImlzQXJyYXkiLCJtYXRjaGVzIiwicHVzaCIsInNwbGljZSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiYmx1ciIsInZhbGlkVGFnSW5kZXgiLCJoYW5kbGVGb2N1c1RhZyIsIm5leHRUYWciLCJoYW5kbGVDbGVhciIsImhhbmRsZUtleURvd24iLCJvdGhlciIsIm9uS2V5RG93biIsImRlZmF1bHRNdWlQcmV2ZW50ZWQiLCJrZXkiLCJ3aGljaCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVCbHVyIiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ0YXJnZXQiLCJoYW5kbGVPcHRpb25Nb3VzZU1vdmUiLCJOdW1iZXIiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlT3B0aW9uVG91Y2hTdGFydCIsImhhbmRsZU9wdGlvbkNsaWNrIiwiaGFuZGxlVGFnRGVsZXRlIiwiaGFuZGxlUG9wdXBJbmRpY2F0b3IiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVDbGljayIsInNlbGVjdGlvbkVuZCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0IiwiaGFuZGxlSW5wdXRNb3VzZURvd24iLCJkaXJ0eSIsImdyb3VwZWRPcHRpb25zIiwiaW5kZXhCeSIsIk1hcCIsInJlZHVjZSIsImFjYyIsImdyb3VwIiwiZ2V0Iiwic2V0IiwiZ2V0Um9vdFByb3BzIiwib25Nb3VzZURvd24iLCJvbkNsaWNrIiwiZ2V0SW5wdXRMYWJlbFByb3BzIiwiaHRtbEZvciIsImdldElucHV0UHJvcHMiLCJvbkJsdXIiLCJvbkZvY3VzIiwicmVmIiwiYXV0b0NhcGl0YWxpemUiLCJzcGVsbENoZWNrIiwicm9sZSIsImdldENsZWFyUHJvcHMiLCJ0YWJJbmRleCIsImdldFBvcHVwSW5kaWNhdG9yUHJvcHMiLCJnZXRUYWdQcm9wcyIsIm9uRGVsZXRlIiwiZ2V0TGlzdGJveFByb3BzIiwiZ2V0T3B0aW9uUHJvcHMiLCJzZWxlY3RlZCIsIm9uTW91c2VNb3ZlIiwib25Ub3VjaFN0YXJ0IiwiZXhwYW5kZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1819\n")},2116:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  oN: () => (/* binding */ useSlider),\n  Rg: () => (/* binding */ valueToPercent)\n});\n\n// UNUSED EXPORTS: Identity\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(3123);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(5466);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/ownerDocument/ownerDocument.js\nvar ownerDocument = __webpack_require__(5923);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useControlled/useControlled.js\nvar useControlled = __webpack_require__(1680);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useIsFocusVisible.js\nvar useIsFocusVisible = __webpack_require__(2682);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useForkRef/useForkRef.js\nvar useForkRef = __webpack_require__(1433);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useEnhancedEffect/useEnhancedEffect.js\nvar useEnhancedEffect = __webpack_require__(704);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useEventCallback/useEventCallback.js\nvar useEventCallback = __webpack_require__(6728);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/visuallyHidden.js\nvar visuallyHidden = __webpack_require__(932);\n;// CONCATENATED MODULE: ./node_modules/@mui/base/utils/areArraysEqual.js\nfunction areArraysEqual(array1, array2, itemComparer = (a, b) => a === b) {\n  return array1.length === array2.length && array1.every((value, index) => itemComparer(value, array2[index]));\n}\n;// CONCATENATED MODULE: ./node_modules/@mui/base/useSlider/useSlider.js\n'use client';\n\n\n\n\n\nconst INTENTIONAL_DRAG_COUNT_THRESHOLD = 2;\nfunction asc(a, b) {\n  return a - b;\n}\nfunction clamp(value, min, max) {\n  if (value == null) {\n    return min;\n  }\n  return Math.min(Math.max(min, value), max);\n}\nfunction findClosest(values, currentValue) {\n  var _values$reduce;\n  const {\n    index: closestIndex\n  } = (_values$reduce = values.reduce((acc, value, index) => {\n    const distance = Math.abs(currentValue - value);\n    if (acc === null || distance < acc.distance || distance === acc.distance) {\n      return {\n        distance,\n        index\n      };\n    }\n    return acc;\n  }, null)) != null ? _values$reduce : {};\n  return closestIndex;\n}\nfunction trackFinger(event, touchId) {\n  // The event is TouchEvent\n  if (touchId.current !== undefined && event.changedTouches) {\n    const touchEvent = event;\n    for (let i = 0; i < touchEvent.changedTouches.length; i += 1) {\n      const touch = touchEvent.changedTouches[i];\n      if (touch.identifier === touchId.current) {\n        return {\n          x: touch.clientX,\n          y: touch.clientY\n        };\n      }\n    }\n    return false;\n  }\n\n  // The event is MouseEvent\n  return {\n    x: event.clientX,\n    y: event.clientY\n  };\n}\nfunction valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n}\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\nfunction getDecimalPrecision(num) {\n  // This handles the case when num is very small (0.00000001), js will turn this into 1e-8.\n  // When num is bigger than 1 or less than -1 it won't get converted to this notation so it's fine.\n  if (Math.abs(num) < 1) {\n    const parts = num.toExponential().split('e-');\n    const matissaDecimalPart = parts[0].split('.')[1];\n    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);\n  }\n  const decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\nfunction roundValueToStep(value, step, min) {\n  const nearest = Math.round((value - min) / step) * step + min;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}\nfunction setValueIndex({\n  values,\n  newValue,\n  index\n}) {\n  const output = values.slice();\n  output[index] = newValue;\n  return output.sort(asc);\n}\nfunction focusThumb({\n  sliderRef,\n  activeIndex,\n  setActive\n}) {\n  var _sliderRef$current, _doc$activeElement;\n  const doc = (0,ownerDocument/* default */.Z)(sliderRef.current);\n  if (!((_sliderRef$current = sliderRef.current) != null && _sliderRef$current.contains(doc.activeElement)) || Number(doc == null || (_doc$activeElement = doc.activeElement) == null ? void 0 : _doc$activeElement.getAttribute('data-index')) !== activeIndex) {\n    var _sliderRef$current2;\n    (_sliderRef$current2 = sliderRef.current) == null || _sliderRef$current2.querySelector(`[type=\"range\"][data-index=\"${activeIndex}\"]`).focus();\n  }\n  if (setActive) {\n    setActive(activeIndex);\n  }\n}\nfunction areValuesEqual(newValue, oldValue) {\n  if (typeof newValue === 'number' && typeof oldValue === 'number') {\n    return newValue === oldValue;\n  }\n  if (typeof newValue === 'object' && typeof oldValue === 'object') {\n    return areArraysEqual(newValue, oldValue);\n  }\n  return false;\n}\nconst axisProps = {\n  horizontal: {\n    offset: percent => ({\n      left: `${percent}%`\n    }),\n    leap: percent => ({\n      width: `${percent}%`\n    })\n  },\n  'horizontal-reverse': {\n    offset: percent => ({\n      right: `${percent}%`\n    }),\n    leap: percent => ({\n      width: `${percent}%`\n    })\n  },\n  vertical: {\n    offset: percent => ({\n      bottom: `${percent}%`\n    }),\n    leap: percent => ({\n      height: `${percent}%`\n    })\n  }\n};\nconst Identity = x => x;\n\n// TODO: remove support for Safari < 13.\n// https://caniuse.com/#search=touch-action\n//\n// Safari, on iOS, supports touch action since v13.\n// Over 80% of the iOS phones are compatible\n// in August 2020.\n// Utilizing the CSS.supports method to check if touch-action is supported.\n// Since CSS.supports is supported on all but Edge@12 and IE and touch-action\n// is supported on both Edge@12 and IE if CSS.supports is not available that means that\n// touch-action will be supported\nlet cachedSupportsTouchActionNone;\nfunction doesSupportTouchActionNone() {\n  if (cachedSupportsTouchActionNone === undefined) {\n    if (typeof CSS !== 'undefined' && typeof CSS.supports === 'function') {\n      cachedSupportsTouchActionNone = CSS.supports('touch-action', 'none');\n    } else {\n      cachedSupportsTouchActionNone = true;\n    }\n  }\n  return cachedSupportsTouchActionNone;\n}\n/**\n *\n * Demos:\n *\n * - [Slider](https://mui.com/base-ui/react-slider/#hook)\n *\n * API:\n *\n * - [useSlider API](https://mui.com/base-ui/react-slider/hooks-api/#use-slider)\n */\nfunction useSlider(parameters) {\n  const {\n    'aria-labelledby': ariaLabelledby,\n    defaultValue,\n    disabled = false,\n    disableSwap = false,\n    isRtl = false,\n    marks: marksProp = false,\n    max = 100,\n    min = 0,\n    name,\n    onChange,\n    onChangeCommitted,\n    orientation = 'horizontal',\n    rootRef: ref,\n    scale = Identity,\n    step = 1,\n    tabIndex,\n    value: valueProp\n  } = parameters;\n  const touchId = react.useRef();\n  // We can't use the :active browser pseudo-classes.\n  // - The active state isn't triggered when clicking on the rail.\n  // - The active state isn't transferred when inversing a range slider.\n  const [active, setActive] = react.useState(-1);\n  const [open, setOpen] = react.useState(-1);\n  const [dragging, setDragging] = react.useState(false);\n  const moveCount = react.useRef(0);\n  const [valueDerived, setValueState] = (0,useControlled/* default */.Z)({\n    controlled: valueProp,\n    default: defaultValue != null ? defaultValue : min,\n    name: 'Slider'\n  });\n  const handleChange = onChange && ((event, value, thumbIndex) => {\n    // Redefine target to allow name and value to be read.\n    // This allows seamless integration with the most popular form libraries.\n    // https://github.com/mui/material-ui/issues/13485#issuecomment-676048492\n    // Clone the event to not override `target` of the original event.\n    const nativeEvent = event.nativeEvent || event;\n    // @ts-ignore The nativeEvent is function, not object\n    const clonedEvent = new nativeEvent.constructor(nativeEvent.type, nativeEvent);\n    Object.defineProperty(clonedEvent, 'target', {\n      writable: true,\n      value: {\n        value,\n        name\n      }\n    });\n    onChange(clonedEvent, value, thumbIndex);\n  });\n  const range = Array.isArray(valueDerived);\n  let values = range ? valueDerived.slice().sort(asc) : [valueDerived];\n  values = values.map(value => clamp(value, min, max));\n  const marks = marksProp === true && step !== null ? [...Array(Math.floor((max - min) / step) + 1)].map((_, index) => ({\n    value: min + step * index\n  })) : marksProp || [];\n  const marksValues = marks.map(mark => mark.value);\n  const {\n    isFocusVisibleRef,\n    onBlur: handleBlurVisible,\n    onFocus: handleFocusVisible,\n    ref: focusVisibleRef\n  } = (0,useIsFocusVisible/* default */.Z)();\n  const [focusedThumbIndex, setFocusedThumbIndex] = react.useState(-1);\n  const sliderRef = react.useRef();\n  const handleFocusRef = (0,useForkRef/* default */.Z)(focusVisibleRef, sliderRef);\n  const handleRef = (0,useForkRef/* default */.Z)(ref, handleFocusRef);\n  const createHandleHiddenInputFocus = otherHandlers => event => {\n    var _otherHandlers$onFocu;\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    handleFocusVisible(event);\n    if (isFocusVisibleRef.current === true) {\n      setFocusedThumbIndex(index);\n    }\n    setOpen(index);\n    otherHandlers == null || (_otherHandlers$onFocu = otherHandlers.onFocus) == null || _otherHandlers$onFocu.call(otherHandlers, event);\n  };\n  const createHandleHiddenInputBlur = otherHandlers => event => {\n    var _otherHandlers$onBlur;\n    handleBlurVisible(event);\n    if (isFocusVisibleRef.current === false) {\n      setFocusedThumbIndex(-1);\n    }\n    setOpen(-1);\n    otherHandlers == null || (_otherHandlers$onBlur = otherHandlers.onBlur) == null || _otherHandlers$onBlur.call(otherHandlers, event);\n  };\n  (0,useEnhancedEffect/* default */.Z)(() => {\n    if (disabled && sliderRef.current.contains(document.activeElement)) {\n      var _document$activeEleme;\n      // This is necessary because Firefox and Safari will keep focus\n      // on a disabled element:\n      // https://codesandbox.io/s/mui-pr-22247-forked-h151h?file=/src/App.js\n      // @ts-ignore\n      (_document$activeEleme = document.activeElement) == null || _document$activeEleme.blur();\n    }\n  }, [disabled]);\n  if (disabled && active !== -1) {\n    setActive(-1);\n  }\n  if (disabled && focusedThumbIndex !== -1) {\n    setFocusedThumbIndex(-1);\n  }\n  const createHandleHiddenInputChange = otherHandlers => event => {\n    var _otherHandlers$onChan;\n    (_otherHandlers$onChan = otherHandlers.onChange) == null || _otherHandlers$onChan.call(otherHandlers, event);\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    const value = values[index];\n    const marksIndex = marksValues.indexOf(value);\n\n    // @ts-ignore\n    let newValue = event.target.valueAsNumber;\n    if (marks && step == null) {\n      const maxMarksValue = marksValues[marksValues.length - 1];\n      if (newValue > maxMarksValue) {\n        newValue = maxMarksValue;\n      } else if (newValue < marksValues[0]) {\n        newValue = marksValues[0];\n      } else {\n        newValue = newValue < value ? marksValues[marksIndex - 1] : marksValues[marksIndex + 1];\n      }\n    }\n    newValue = clamp(newValue, min, max);\n    if (range) {\n      // Bound the new value to the thumb's neighbours.\n      if (disableSwap) {\n        newValue = clamp(newValue, values[index - 1] || -Infinity, values[index + 1] || Infinity);\n      }\n      const previousValue = newValue;\n      newValue = setValueIndex({\n        values,\n        newValue,\n        index\n      });\n      let activeIndex = index;\n\n      // Potentially swap the index if needed.\n      if (!disableSwap) {\n        activeIndex = newValue.indexOf(previousValue);\n      }\n      focusThumb({\n        sliderRef,\n        activeIndex\n      });\n    }\n    setValueState(newValue);\n    setFocusedThumbIndex(index);\n    if (handleChange && !areValuesEqual(newValue, valueDerived)) {\n      handleChange(event, newValue, index);\n    }\n    if (onChangeCommitted) {\n      onChangeCommitted(event, newValue);\n    }\n  };\n  const previousIndex = react.useRef();\n  let axis = orientation;\n  if (isRtl && orientation === 'horizontal') {\n    axis += '-reverse';\n  }\n  const getFingerNewValue = ({\n    finger,\n    move = false\n  }) => {\n    const {\n      current: slider\n    } = sliderRef;\n    const {\n      width,\n      height,\n      bottom,\n      left\n    } = slider.getBoundingClientRect();\n    let percent;\n    if (axis.indexOf('vertical') === 0) {\n      percent = (bottom - finger.y) / height;\n    } else {\n      percent = (finger.x - left) / width;\n    }\n    if (axis.indexOf('-reverse') !== -1) {\n      percent = 1 - percent;\n    }\n    let newValue;\n    newValue = percentToValue(percent, min, max);\n    if (step) {\n      newValue = roundValueToStep(newValue, step, min);\n    } else {\n      const closestIndex = findClosest(marksValues, newValue);\n      newValue = marksValues[closestIndex];\n    }\n    newValue = clamp(newValue, min, max);\n    let activeIndex = 0;\n    if (range) {\n      if (!move) {\n        activeIndex = findClosest(values, newValue);\n      } else {\n        activeIndex = previousIndex.current;\n      }\n\n      // Bound the new value to the thumb's neighbours.\n      if (disableSwap) {\n        newValue = clamp(newValue, values[activeIndex - 1] || -Infinity, values[activeIndex + 1] || Infinity);\n      }\n      const previousValue = newValue;\n      newValue = setValueIndex({\n        values,\n        newValue,\n        index: activeIndex\n      });\n\n      // Potentially swap the index if needed.\n      if (!(disableSwap && move)) {\n        activeIndex = newValue.indexOf(previousValue);\n        previousIndex.current = activeIndex;\n      }\n    }\n    return {\n      newValue,\n      activeIndex\n    };\n  };\n  const handleTouchMove = (0,useEventCallback/* default */.Z)(nativeEvent => {\n    const finger = trackFinger(nativeEvent, touchId);\n    if (!finger) {\n      return;\n    }\n    moveCount.current += 1;\n\n    // Cancel move in case some other element consumed a mouseup event and it was not fired.\n    // @ts-ignore buttons doesn't not exists on touch event\n    if (nativeEvent.type === 'mousemove' && nativeEvent.buttons === 0) {\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      handleTouchEnd(nativeEvent);\n      return;\n    }\n    const {\n      newValue,\n      activeIndex\n    } = getFingerNewValue({\n      finger,\n      move: true\n    });\n    focusThumb({\n      sliderRef,\n      activeIndex,\n      setActive\n    });\n    setValueState(newValue);\n    if (!dragging && moveCount.current > INTENTIONAL_DRAG_COUNT_THRESHOLD) {\n      setDragging(true);\n    }\n    if (handleChange && !areValuesEqual(newValue, valueDerived)) {\n      handleChange(nativeEvent, newValue, activeIndex);\n    }\n  });\n  const handleTouchEnd = (0,useEventCallback/* default */.Z)(nativeEvent => {\n    const finger = trackFinger(nativeEvent, touchId);\n    setDragging(false);\n    if (!finger) {\n      return;\n    }\n    const {\n      newValue\n    } = getFingerNewValue({\n      finger,\n      move: true\n    });\n    setActive(-1);\n    if (nativeEvent.type === 'touchend') {\n      setOpen(-1);\n    }\n    if (onChangeCommitted) {\n      onChangeCommitted(nativeEvent, newValue);\n    }\n    touchId.current = undefined;\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    stopListening();\n  });\n  const handleTouchStart = (0,useEventCallback/* default */.Z)(nativeEvent => {\n    if (disabled) {\n      return;\n    }\n    // If touch-action: none; is not supported we need to prevent the scroll manually.\n    if (!doesSupportTouchActionNone()) {\n      nativeEvent.preventDefault();\n    }\n    const touch = nativeEvent.changedTouches[0];\n    if (touch != null) {\n      // A number that uniquely identifies the current finger in the touch session.\n      touchId.current = touch.identifier;\n    }\n    const finger = trackFinger(nativeEvent, touchId);\n    if (finger !== false) {\n      const {\n        newValue,\n        activeIndex\n      } = getFingerNewValue({\n        finger\n      });\n      focusThumb({\n        sliderRef,\n        activeIndex,\n        setActive\n      });\n      setValueState(newValue);\n      if (handleChange && !areValuesEqual(newValue, valueDerived)) {\n        handleChange(nativeEvent, newValue, activeIndex);\n      }\n    }\n    moveCount.current = 0;\n    const doc = (0,ownerDocument/* default */.Z)(sliderRef.current);\n    doc.addEventListener('touchmove', handleTouchMove);\n    doc.addEventListener('touchend', handleTouchEnd);\n  });\n  const stopListening = react.useCallback(() => {\n    const doc = (0,ownerDocument/* default */.Z)(sliderRef.current);\n    doc.removeEventListener('mousemove', handleTouchMove);\n    doc.removeEventListener('mouseup', handleTouchEnd);\n    doc.removeEventListener('touchmove', handleTouchMove);\n    doc.removeEventListener('touchend', handleTouchEnd);\n  }, [handleTouchEnd, handleTouchMove]);\n  react.useEffect(() => {\n    const {\n      current: slider\n    } = sliderRef;\n    slider.addEventListener('touchstart', handleTouchStart, {\n      passive: doesSupportTouchActionNone()\n    });\n    return () => {\n      // @ts-ignore\n      slider.removeEventListener('touchstart', handleTouchStart, {\n        passive: doesSupportTouchActionNone()\n      });\n      stopListening();\n    };\n  }, [stopListening, handleTouchStart]);\n  react.useEffect(() => {\n    if (disabled) {\n      stopListening();\n    }\n  }, [disabled, stopListening]);\n  const createHandleMouseDown = otherHandlers => event => {\n    var _otherHandlers$onMous;\n    (_otherHandlers$onMous = otherHandlers.onMouseDown) == null || _otherHandlers$onMous.call(otherHandlers, event);\n    if (disabled) {\n      return;\n    }\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Only handle left clicks\n    if (event.button !== 0) {\n      return;\n    }\n\n    // Avoid text selection\n    event.preventDefault();\n    const finger = trackFinger(event, touchId);\n    if (finger !== false) {\n      const {\n        newValue,\n        activeIndex\n      } = getFingerNewValue({\n        finger\n      });\n      focusThumb({\n        sliderRef,\n        activeIndex,\n        setActive\n      });\n      setValueState(newValue);\n      if (handleChange && !areValuesEqual(newValue, valueDerived)) {\n        handleChange(event, newValue, activeIndex);\n      }\n    }\n    moveCount.current = 0;\n    const doc = (0,ownerDocument/* default */.Z)(sliderRef.current);\n    doc.addEventListener('mousemove', handleTouchMove);\n    doc.addEventListener('mouseup', handleTouchEnd);\n  };\n  const trackOffset = valueToPercent(range ? values[0] : min, min, max);\n  const trackLeap = valueToPercent(values[values.length - 1], min, max) - trackOffset;\n  const getRootProps = (otherHandlers = {}) => {\n    const ownEventHandlers = {\n      onMouseDown: createHandleMouseDown(otherHandlers || {})\n    };\n    const mergedEventHandlers = (0,esm_extends/* default */.Z)({}, otherHandlers, ownEventHandlers);\n    return (0,esm_extends/* default */.Z)({\n      ref: handleRef\n    }, mergedEventHandlers);\n  };\n  const createHandleMouseOver = otherHandlers => event => {\n    var _otherHandlers$onMous2;\n    (_otherHandlers$onMous2 = otherHandlers.onMouseOver) == null || _otherHandlers$onMous2.call(otherHandlers, event);\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    setOpen(index);\n  };\n  const createHandleMouseLeave = otherHandlers => event => {\n    var _otherHandlers$onMous3;\n    (_otherHandlers$onMous3 = otherHandlers.onMouseLeave) == null || _otherHandlers$onMous3.call(otherHandlers, event);\n    setOpen(-1);\n  };\n  const getThumbProps = (otherHandlers = {}) => {\n    const ownEventHandlers = {\n      onMouseOver: createHandleMouseOver(otherHandlers || {}),\n      onMouseLeave: createHandleMouseLeave(otherHandlers || {})\n    };\n    return (0,esm_extends/* default */.Z)({}, otherHandlers, ownEventHandlers);\n  };\n  const getThumbStyle = index => {\n    return {\n      // So the non active thumb doesn't show its label on hover.\n      pointerEvents: active !== -1 && active !== index ? 'none' : undefined\n    };\n  };\n  const getHiddenInputProps = (otherHandlers = {}) => {\n    var _parameters$step;\n    const ownEventHandlers = {\n      onChange: createHandleHiddenInputChange(otherHandlers || {}),\n      onFocus: createHandleHiddenInputFocus(otherHandlers || {}),\n      onBlur: createHandleHiddenInputBlur(otherHandlers || {})\n    };\n    const mergedEventHandlers = (0,esm_extends/* default */.Z)({}, otherHandlers, ownEventHandlers);\n    return (0,esm_extends/* default */.Z)({\n      tabIndex,\n      'aria-labelledby': ariaLabelledby,\n      'aria-orientation': orientation,\n      'aria-valuemax': scale(max),\n      'aria-valuemin': scale(min),\n      name,\n      type: 'range',\n      min: parameters.min,\n      max: parameters.max,\n      step: parameters.step === null && parameters.marks ? 'any' : (_parameters$step = parameters.step) != null ? _parameters$step : undefined,\n      disabled\n    }, mergedEventHandlers, {\n      style: (0,esm_extends/* default */.Z)({}, visuallyHidden/* default */.Z, {\n        direction: isRtl ? 'rtl' : 'ltr',\n        // So that VoiceOver's focus indicator matches the thumb's dimensions\n        width: '100%',\n        height: '100%'\n      })\n    });\n  };\n  return {\n    active,\n    axis: axis,\n    axisProps,\n    dragging,\n    focusedThumbIndex,\n    getHiddenInputProps,\n    getRootProps,\n    getThumbProps,\n    marks: marks,\n    open,\n    range,\n    rootRef: handleRef,\n    trackLeap,\n    trackOffset,\n    values,\n    getThumbStyle\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksSUFBSXlDLFVBQVUsQ0FBQ00sS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDMkcsZ0JBQWdCLEdBQUdqSCxVQUFVLENBQUN6QyxJQUFJLEtBQUssSUFBSSxHQUFHMEosZ0JBQWdCLEdBQUdqTCxTQUFTO01BQ3hJbUU7SUFDRixDQUFDLEVBQUVtRyxtQkFBbUIsRUFBRTtNQUN0QlksS0FBSyxFQUFFcE4sOEJBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRWMsNkJBQWMsRUFBRTtRQUNsQ3VNLFNBQVMsRUFBRTlHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSztRQUNoQztRQUNBaEIsS0FBSyxFQUFFLE1BQU07UUFDYkksTUFBTSxFQUFFO01BQ1YsQ0FBQztJQUNILENBQUMsQ0FBQztFQUNKLENBQUM7RUFDRCxPQUFPO0lBQ0x5QixNQUFNO0lBQ04wRCxJQUFJLEVBQUVBLElBQUk7SUFDVjVGLFNBQVM7SUFDVHNDLFFBQVE7SUFDUjhCLGlCQUFpQjtJQUNqQjRELG1CQUFtQjtJQUNuQlosWUFBWTtJQUNaUyxhQUFhO0lBQ2J2RyxLQUFLLEVBQUVBLEtBQUs7SUFDWmMsSUFBSTtJQUNKa0IsS0FBSztJQUNMMUIsT0FBTyxFQUFFMkMsU0FBUztJQUNsQjRDLFNBQVM7SUFDVEQsV0FBVztJQUNYOUssTUFBTTtJQUNOMEw7RUFDRixDQUFDO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbGRlci1ib29rcy1mZS8uL25vZGVfbW9kdWxlcy9AbXVpL2Jhc2UvdXRpbHMvYXJlQXJyYXlzRXF1YWwuanM/NGJhNSIsIndlYnBhY2s6Ly9lbGRlci1ib29rcy1mZS8uL25vZGVfbW9kdWxlcy9AbXVpL2Jhc2UvdXNlU2xpZGVyL3VzZVNsaWRlci5qcz9jYWY4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5MiwgaXRlbUNvbXBhcmVyID0gKGEsIGIpID0+IGEgPT09IGIpIHtcbiAgcmV0dXJuIGFycmF5MS5sZW5ndGggPT09IGFycmF5Mi5sZW5ndGggJiYgYXJyYXkxLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGl0ZW1Db21wYXJlcih2YWx1ZSwgYXJyYXkyW2luZGV4XSkpO1xufSIsIid1c2UgY2xpZW50JztcblxuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1bnN0YWJsZV9vd25lckRvY3VtZW50IGFzIG93bmVyRG9jdW1lbnQsIHVuc3RhYmxlX3VzZUNvbnRyb2xsZWQgYXMgdXNlQ29udHJvbGxlZCwgdW5zdGFibGVfdXNlRW5oYW5jZWRFZmZlY3QgYXMgdXNlRW5oYW5jZWRFZmZlY3QsIHVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2sgYXMgdXNlRXZlbnRDYWxsYmFjaywgdW5zdGFibGVfdXNlRm9ya1JlZiBhcyB1c2VGb3JrUmVmLCB1bnN0YWJsZV91c2VJc0ZvY3VzVmlzaWJsZSBhcyB1c2VJc0ZvY3VzVmlzaWJsZSwgdmlzdWFsbHlIaWRkZW4gfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCB7IGFyZUFycmF5c0VxdWFsIH0gZnJvbSAnLi4vdXRpbHMnO1xuY29uc3QgSU5URU5USU9OQUxfRFJBR19DT1VOVF9USFJFU0hPTEQgPSAyO1xuZnVuY3Rpb24gYXNjKGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG1pbjtcbiAgfVxuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobWluLCB2YWx1ZSksIG1heCk7XG59XG5mdW5jdGlvbiBmaW5kQ2xvc2VzdCh2YWx1ZXMsIGN1cnJlbnRWYWx1ZSkge1xuICB2YXIgX3ZhbHVlcyRyZWR1Y2U7XG4gIGNvbnN0IHtcbiAgICBpbmRleDogY2xvc2VzdEluZGV4XG4gIH0gPSAoX3ZhbHVlcyRyZWR1Y2UgPSB2YWx1ZXMucmVkdWNlKChhY2MsIHZhbHVlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoY3VycmVudFZhbHVlIC0gdmFsdWUpO1xuICAgIGlmIChhY2MgPT09IG51bGwgfHwgZGlzdGFuY2UgPCBhY2MuZGlzdGFuY2UgfHwgZGlzdGFuY2UgPT09IGFjYy5kaXN0YW5jZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgIGluZGV4XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCBudWxsKSkgIT0gbnVsbCA/IF92YWx1ZXMkcmVkdWNlIDoge307XG4gIHJldHVybiBjbG9zZXN0SW5kZXg7XG59XG5mdW5jdGlvbiB0cmFja0ZpbmdlcihldmVudCwgdG91Y2hJZCkge1xuICAvLyBUaGUgZXZlbnQgaXMgVG91Y2hFdmVudFxuICBpZiAodG91Y2hJZC5jdXJyZW50ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICBjb25zdCB0b3VjaEV2ZW50ID0gZXZlbnQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3VjaEV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCB0b3VjaCA9IHRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG4gICAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdG91Y2hJZC5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICB5OiB0b3VjaC5jbGllbnRZXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRoZSBldmVudCBpcyBNb3VzZUV2ZW50XG4gIHJldHVybiB7XG4gICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICB5OiBldmVudC5jbGllbnRZXG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsdWVUb1BlcmNlbnQodmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiAodmFsdWUgLSBtaW4pICogMTAwIC8gKG1heCAtIG1pbik7XG59XG5mdW5jdGlvbiBwZXJjZW50VG9WYWx1ZShwZXJjZW50LCBtaW4sIG1heCkge1xuICByZXR1cm4gKG1heCAtIG1pbikgKiBwZXJjZW50ICsgbWluO1xufVxuZnVuY3Rpb24gZ2V0RGVjaW1hbFByZWNpc2lvbihudW0pIHtcbiAgLy8gVGhpcyBoYW5kbGVzIHRoZSBjYXNlIHdoZW4gbnVtIGlzIHZlcnkgc21hbGwgKDAuMDAwMDAwMDEpLCBqcyB3aWxsIHR1cm4gdGhpcyBpbnRvIDFlLTguXG4gIC8vIFdoZW4gbnVtIGlzIGJpZ2dlciB0aGFuIDEgb3IgbGVzcyB0aGFuIC0xIGl0IHdvbid0IGdldCBjb252ZXJ0ZWQgdG8gdGhpcyBub3RhdGlvbiBzbyBpdCdzIGZpbmUuXG4gIGlmIChNYXRoLmFicyhudW0pIDwgMSkge1xuICAgIGNvbnN0IHBhcnRzID0gbnVtLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgnZS0nKTtcbiAgICBjb25zdCBtYXRpc3NhRGVjaW1hbFBhcnQgPSBwYXJ0c1swXS5zcGxpdCgnLicpWzFdO1xuICAgIHJldHVybiAobWF0aXNzYURlY2ltYWxQYXJ0ID8gbWF0aXNzYURlY2ltYWxQYXJ0Lmxlbmd0aCA6IDApICsgcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcbiAgfVxuICBjb25zdCBkZWNpbWFsUGFydCA9IG51bS50b1N0cmluZygpLnNwbGl0KCcuJylbMV07XG4gIHJldHVybiBkZWNpbWFsUGFydCA/IGRlY2ltYWxQYXJ0Lmxlbmd0aCA6IDA7XG59XG5mdW5jdGlvbiByb3VuZFZhbHVlVG9TdGVwKHZhbHVlLCBzdGVwLCBtaW4pIHtcbiAgY29uc3QgbmVhcmVzdCA9IE1hdGgucm91bmQoKHZhbHVlIC0gbWluKSAvIHN0ZXApICogc3RlcCArIG1pbjtcbiAgcmV0dXJuIE51bWJlcihuZWFyZXN0LnRvRml4ZWQoZ2V0RGVjaW1hbFByZWNpc2lvbihzdGVwKSkpO1xufVxuZnVuY3Rpb24gc2V0VmFsdWVJbmRleCh7XG4gIHZhbHVlcyxcbiAgbmV3VmFsdWUsXG4gIGluZGV4XG59KSB7XG4gIGNvbnN0IG91dHB1dCA9IHZhbHVlcy5zbGljZSgpO1xuICBvdXRwdXRbaW5kZXhdID0gbmV3VmFsdWU7XG4gIHJldHVybiBvdXRwdXQuc29ydChhc2MpO1xufVxuZnVuY3Rpb24gZm9jdXNUaHVtYih7XG4gIHNsaWRlclJlZixcbiAgYWN0aXZlSW5kZXgsXG4gIHNldEFjdGl2ZVxufSkge1xuICB2YXIgX3NsaWRlclJlZiRjdXJyZW50LCBfZG9jJGFjdGl2ZUVsZW1lbnQ7XG4gIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQoc2xpZGVyUmVmLmN1cnJlbnQpO1xuICBpZiAoISgoX3NsaWRlclJlZiRjdXJyZW50ID0gc2xpZGVyUmVmLmN1cnJlbnQpICE9IG51bGwgJiYgX3NsaWRlclJlZiRjdXJyZW50LmNvbnRhaW5zKGRvYy5hY3RpdmVFbGVtZW50KSkgfHwgTnVtYmVyKGRvYyA9PSBudWxsIHx8IChfZG9jJGFjdGl2ZUVsZW1lbnQgPSBkb2MuYWN0aXZlRWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kb2MkYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSkgIT09IGFjdGl2ZUluZGV4KSB7XG4gICAgdmFyIF9zbGlkZXJSZWYkY3VycmVudDI7XG4gICAgKF9zbGlkZXJSZWYkY3VycmVudDIgPSBzbGlkZXJSZWYuY3VycmVudCkgPT0gbnVsbCB8fCBfc2xpZGVyUmVmJGN1cnJlbnQyLnF1ZXJ5U2VsZWN0b3IoYFt0eXBlPVwicmFuZ2VcIl1bZGF0YS1pbmRleD1cIiR7YWN0aXZlSW5kZXh9XCJdYCkuZm9jdXMoKTtcbiAgfVxuICBpZiAoc2V0QWN0aXZlKSB7XG4gICAgc2V0QWN0aXZlKGFjdGl2ZUluZGV4KTtcbiAgfVxufVxuZnVuY3Rpb24gYXJlVmFsdWVzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gYXJlQXJyYXlzRXF1YWwobmV3VmFsdWUsIG9sZFZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBheGlzUHJvcHMgPSB7XG4gIGhvcml6b250YWw6IHtcbiAgICBvZmZzZXQ6IHBlcmNlbnQgPT4gKHtcbiAgICAgIGxlZnQ6IGAke3BlcmNlbnR9JWBcbiAgICB9KSxcbiAgICBsZWFwOiBwZXJjZW50ID0+ICh7XG4gICAgICB3aWR0aDogYCR7cGVyY2VudH0lYFxuICAgIH0pXG4gIH0sXG4gICdob3Jpem9udGFsLXJldmVyc2UnOiB7XG4gICAgb2Zmc2V0OiBwZXJjZW50ID0+ICh7XG4gICAgICByaWdodDogYCR7cGVyY2VudH0lYFxuICAgIH0pLFxuICAgIGxlYXA6IHBlcmNlbnQgPT4gKHtcbiAgICAgIHdpZHRoOiBgJHtwZXJjZW50fSVgXG4gICAgfSlcbiAgfSxcbiAgdmVydGljYWw6IHtcbiAgICBvZmZzZXQ6IHBlcmNlbnQgPT4gKHtcbiAgICAgIGJvdHRvbTogYCR7cGVyY2VudH0lYFxuICAgIH0pLFxuICAgIGxlYXA6IHBlcmNlbnQgPT4gKHtcbiAgICAgIGhlaWdodDogYCR7cGVyY2VudH0lYFxuICAgIH0pXG4gIH1cbn07XG5leHBvcnQgY29uc3QgSWRlbnRpdHkgPSB4ID0+IHg7XG5cbi8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciBTYWZhcmkgPCAxMy5cbi8vIGh0dHBzOi8vY2FuaXVzZS5jb20vI3NlYXJjaD10b3VjaC1hY3Rpb25cbi8vXG4vLyBTYWZhcmksIG9uIGlPUywgc3VwcG9ydHMgdG91Y2ggYWN0aW9uIHNpbmNlIHYxMy5cbi8vIE92ZXIgODAlIG9mIHRoZSBpT1MgcGhvbmVzIGFyZSBjb21wYXRpYmxlXG4vLyBpbiBBdWd1c3QgMjAyMC5cbi8vIFV0aWxpemluZyB0aGUgQ1NTLnN1cHBvcnRzIG1ldGhvZCB0byBjaGVjayBpZiB0b3VjaC1hY3Rpb24gaXMgc3VwcG9ydGVkLlxuLy8gU2luY2UgQ1NTLnN1cHBvcnRzIGlzIHN1cHBvcnRlZCBvbiBhbGwgYnV0IEVkZ2VAMTIgYW5kIElFIGFuZCB0b3VjaC1hY3Rpb25cbi8vIGlzIHN1cHBvcnRlZCBvbiBib3RoIEVkZ2VAMTIgYW5kIElFIGlmIENTUy5zdXBwb3J0cyBpcyBub3QgYXZhaWxhYmxlIHRoYXQgbWVhbnMgdGhhdFxuLy8gdG91Y2gtYWN0aW9uIHdpbGwgYmUgc3VwcG9ydGVkXG5sZXQgY2FjaGVkU3VwcG9ydHNUb3VjaEFjdGlvbk5vbmU7XG5mdW5jdGlvbiBkb2VzU3VwcG9ydFRvdWNoQWN0aW9uTm9uZSgpIHtcbiAgaWYgKGNhY2hlZFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIENTUyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIENTUy5zdXBwb3J0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FjaGVkU3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBDU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsICdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNhY2hlZFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lO1xufVxuLyoqXG4gKlxuICogRGVtb3M6XG4gKlxuICogLSBbU2xpZGVyXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1zbGlkZXIvI2hvb2spXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW3VzZVNsaWRlciBBUEldKGh0dHBzOi8vbXVpLmNvbS9iYXNlLXVpL3JlYWN0LXNsaWRlci9ob29rcy1hcGkvI3VzZS1zbGlkZXIpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTbGlkZXIocGFyYW1ldGVycykge1xuICBjb25zdCB7XG4gICAgJ2FyaWEtbGFiZWxsZWRieSc6IGFyaWFMYWJlbGxlZGJ5LFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgIGRpc2FibGVTd2FwID0gZmFsc2UsXG4gICAgaXNSdGwgPSBmYWxzZSxcbiAgICBtYXJrczogbWFya3NQcm9wID0gZmFsc2UsXG4gICAgbWF4ID0gMTAwLFxuICAgIG1pbiA9IDAsXG4gICAgbmFtZSxcbiAgICBvbkNoYW5nZSxcbiAgICBvbkNoYW5nZUNvbW1pdHRlZCxcbiAgICBvcmllbnRhdGlvbiA9ICdob3Jpem9udGFsJyxcbiAgICByb290UmVmOiByZWYsXG4gICAgc2NhbGUgPSBJZGVudGl0eSxcbiAgICBzdGVwID0gMSxcbiAgICB0YWJJbmRleCxcbiAgICB2YWx1ZTogdmFsdWVQcm9wXG4gIH0gPSBwYXJhbWV0ZXJzO1xuICBjb25zdCB0b3VjaElkID0gUmVhY3QudXNlUmVmKCk7XG4gIC8vIFdlIGNhbid0IHVzZSB0aGUgOmFjdGl2ZSBicm93c2VyIHBzZXVkby1jbGFzc2VzLlxuICAvLyAtIFRoZSBhY3RpdmUgc3RhdGUgaXNuJ3QgdHJpZ2dlcmVkIHdoZW4gY2xpY2tpbmcgb24gdGhlIHJhaWwuXG4gIC8vIC0gVGhlIGFjdGl2ZSBzdGF0ZSBpc24ndCB0cmFuc2ZlcnJlZCB3aGVuIGludmVyc2luZyBhIHJhbmdlIHNsaWRlci5cbiAgY29uc3QgW2FjdGl2ZSwgc2V0QWN0aXZlXSA9IFJlYWN0LnVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gUmVhY3QudXNlU3RhdGUoLTEpO1xuICBjb25zdCBbZHJhZ2dpbmcsIHNldERyYWdnaW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgbW92ZUNvdW50ID0gUmVhY3QudXNlUmVmKDApO1xuICBjb25zdCBbdmFsdWVEZXJpdmVkLCBzZXRWYWx1ZVN0YXRlXSA9IHVzZUNvbnRyb2xsZWQoe1xuICAgIGNvbnRyb2xsZWQ6IHZhbHVlUHJvcCxcbiAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgIT0gbnVsbCA/IGRlZmF1bHRWYWx1ZSA6IG1pbixcbiAgICBuYW1lOiAnU2xpZGVyJ1xuICB9KTtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gb25DaGFuZ2UgJiYgKChldmVudCwgdmFsdWUsIHRodW1iSW5kZXgpID0+IHtcbiAgICAvLyBSZWRlZmluZSB0YXJnZXQgdG8gYWxsb3cgbmFtZSBhbmQgdmFsdWUgdG8gYmUgcmVhZC5cbiAgICAvLyBUaGlzIGFsbG93cyBzZWFtbGVzcyBpbnRlZ3JhdGlvbiB3aXRoIHRoZSBtb3N0IHBvcHVsYXIgZm9ybSBsaWJyYXJpZXMuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9pc3N1ZXMvMTM0ODUjaXNzdWVjb21tZW50LTY3NjA0ODQ5MlxuICAgIC8vIENsb25lIHRoZSBldmVudCB0byBub3Qgb3ZlcnJpZGUgYHRhcmdldGAgb2YgdGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgIGNvbnN0IG5hdGl2ZUV2ZW50ID0gZXZlbnQubmF0aXZlRXZlbnQgfHwgZXZlbnQ7XG4gICAgLy8gQHRzLWlnbm9yZSBUaGUgbmF0aXZlRXZlbnQgaXMgZnVuY3Rpb24sIG5vdCBvYmplY3RcbiAgICBjb25zdCBjbG9uZWRFdmVudCA9IG5ldyBuYXRpdmVFdmVudC5jb25zdHJ1Y3RvcihuYXRpdmVFdmVudC50eXBlLCBuYXRpdmVFdmVudCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsb25lZEV2ZW50LCAndGFyZ2V0Jywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZToge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgbmFtZVxuICAgICAgfVxuICAgIH0pO1xuICAgIG9uQ2hhbmdlKGNsb25lZEV2ZW50LCB2YWx1ZSwgdGh1bWJJbmRleCk7XG4gIH0pO1xuICBjb25zdCByYW5nZSA9IEFycmF5LmlzQXJyYXkodmFsdWVEZXJpdmVkKTtcbiAgbGV0IHZhbHVlcyA9IHJhbmdlID8gdmFsdWVEZXJpdmVkLnNsaWNlKCkuc29ydChhc2MpIDogW3ZhbHVlRGVyaXZlZF07XG4gIHZhbHVlcyA9IHZhbHVlcy5tYXAodmFsdWUgPT4gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSk7XG4gIGNvbnN0IG1hcmtzID0gbWFya3NQcm9wID09PSB0cnVlICYmIHN0ZXAgIT09IG51bGwgPyBbLi4uQXJyYXkoTWF0aC5mbG9vcigobWF4IC0gbWluKSAvIHN0ZXApICsgMSldLm1hcCgoXywgaW5kZXgpID0+ICh7XG4gICAgdmFsdWU6IG1pbiArIHN0ZXAgKiBpbmRleFxuICB9KSkgOiBtYXJrc1Byb3AgfHwgW107XG4gIGNvbnN0IG1hcmtzVmFsdWVzID0gbWFya3MubWFwKG1hcmsgPT4gbWFyay52YWx1ZSk7XG4gIGNvbnN0IHtcbiAgICBpc0ZvY3VzVmlzaWJsZVJlZixcbiAgICBvbkJsdXI6IGhhbmRsZUJsdXJWaXNpYmxlLFxuICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzVmlzaWJsZSxcbiAgICByZWY6IGZvY3VzVmlzaWJsZVJlZlxuICB9ID0gdXNlSXNGb2N1c1Zpc2libGUoKTtcbiAgY29uc3QgW2ZvY3VzZWRUaHVtYkluZGV4LCBzZXRGb2N1c2VkVGh1bWJJbmRleF0gPSBSZWFjdC51c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IHNsaWRlclJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCBoYW5kbGVGb2N1c1JlZiA9IHVzZUZvcmtSZWYoZm9jdXNWaXNpYmxlUmVmLCBzbGlkZXJSZWYpO1xuICBjb25zdCBoYW5kbGVSZWYgPSB1c2VGb3JrUmVmKHJlZiwgaGFuZGxlRm9jdXNSZWYpO1xuICBjb25zdCBjcmVhdGVIYW5kbGVIaWRkZW5JbnB1dEZvY3VzID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uRm9jdTtcbiAgICBjb25zdCBpbmRleCA9IE51bWJlcihldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKTtcbiAgICBoYW5kbGVGb2N1c1Zpc2libGUoZXZlbnQpO1xuICAgIGlmIChpc0ZvY3VzVmlzaWJsZVJlZi5jdXJyZW50ID09PSB0cnVlKSB7XG4gICAgICBzZXRGb2N1c2VkVGh1bWJJbmRleChpbmRleCk7XG4gICAgfVxuICAgIHNldE9wZW4oaW5kZXgpO1xuICAgIG90aGVySGFuZGxlcnMgPT0gbnVsbCB8fCAoX290aGVySGFuZGxlcnMkb25Gb2N1ID0gb3RoZXJIYW5kbGVycy5vbkZvY3VzKSA9PSBudWxsIHx8IF9vdGhlckhhbmRsZXJzJG9uRm9jdS5jYWxsKG90aGVySGFuZGxlcnMsIGV2ZW50KTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRCbHVyID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uQmx1cjtcbiAgICBoYW5kbGVCbHVyVmlzaWJsZShldmVudCk7XG4gICAgaWYgKGlzRm9jdXNWaXNpYmxlUmVmLmN1cnJlbnQgPT09IGZhbHNlKSB7XG4gICAgICBzZXRGb2N1c2VkVGh1bWJJbmRleCgtMSk7XG4gICAgfVxuICAgIHNldE9wZW4oLTEpO1xuICAgIG90aGVySGFuZGxlcnMgPT0gbnVsbCB8fCAoX290aGVySGFuZGxlcnMkb25CbHVyID0gb3RoZXJIYW5kbGVycy5vbkJsdXIpID09IG51bGwgfHwgX290aGVySGFuZGxlcnMkb25CbHVyLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICB9O1xuICB1c2VFbmhhbmNlZEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRpc2FibGVkICYmIHNsaWRlclJlZi5jdXJyZW50LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICB2YXIgX2RvY3VtZW50JGFjdGl2ZUVsZW1lO1xuICAgICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBGaXJlZm94IGFuZCBTYWZhcmkgd2lsbCBrZWVwIGZvY3VzXG4gICAgICAvLyBvbiBhIGRpc2FibGVkIGVsZW1lbnQ6XG4gICAgICAvLyBodHRwczovL2NvZGVzYW5kYm94LmlvL3MvbXVpLXByLTIyMjQ3LWZvcmtlZC1oMTUxaD9maWxlPS9zcmMvQXBwLmpzXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAoX2RvY3VtZW50JGFjdGl2ZUVsZW1lID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT0gbnVsbCB8fCBfZG9jdW1lbnQkYWN0aXZlRWxlbWUuYmx1cigpO1xuICAgIH1cbiAgfSwgW2Rpc2FibGVkXSk7XG4gIGlmIChkaXNhYmxlZCAmJiBhY3RpdmUgIT09IC0xKSB7XG4gICAgc2V0QWN0aXZlKC0xKTtcbiAgfVxuICBpZiAoZGlzYWJsZWQgJiYgZm9jdXNlZFRodW1iSW5kZXggIT09IC0xKSB7XG4gICAgc2V0Rm9jdXNlZFRodW1iSW5kZXgoLTEpO1xuICB9XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUhpZGRlbklucHV0Q2hhbmdlID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uQ2hhbjtcbiAgICAoX290aGVySGFuZGxlcnMkb25DaGFuID0gb3RoZXJIYW5kbGVycy5vbkNoYW5nZSkgPT0gbnVsbCB8fCBfb3RoZXJIYW5kbGVycyRvbkNoYW4uY2FsbChvdGhlckhhbmRsZXJzLCBldmVudCk7XG4gICAgY29uc3QgaW5kZXggPSBOdW1iZXIoZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSk7XG4gICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xuICAgIGNvbnN0IG1hcmtzSW5kZXggPSBtYXJrc1ZhbHVlcy5pbmRleE9mKHZhbHVlKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgbmV3VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWVBc051bWJlcjtcbiAgICBpZiAobWFya3MgJiYgc3RlcCA9PSBudWxsKSB7XG4gICAgICBjb25zdCBtYXhNYXJrc1ZhbHVlID0gbWFya3NWYWx1ZXNbbWFya3NWYWx1ZXMubGVuZ3RoIC0gMV07XG4gICAgICBpZiAobmV3VmFsdWUgPiBtYXhNYXJrc1ZhbHVlKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gbWF4TWFya3NWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAobmV3VmFsdWUgPCBtYXJrc1ZhbHVlc1swXSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG1hcmtzVmFsdWVzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSBuZXdWYWx1ZSA8IHZhbHVlID8gbWFya3NWYWx1ZXNbbWFya3NJbmRleCAtIDFdIDogbWFya3NWYWx1ZXNbbWFya3NJbmRleCArIDFdO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXdWYWx1ZSA9IGNsYW1wKG5ld1ZhbHVlLCBtaW4sIG1heCk7XG4gICAgaWYgKHJhbmdlKSB7XG4gICAgICAvLyBCb3VuZCB0aGUgbmV3IHZhbHVlIHRvIHRoZSB0aHVtYidzIG5laWdoYm91cnMuXG4gICAgICBpZiAoZGlzYWJsZVN3YXApIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjbGFtcChuZXdWYWx1ZSwgdmFsdWVzW2luZGV4IC0gMV0gfHwgLUluZmluaXR5LCB2YWx1ZXNbaW5kZXggKyAxXSB8fCBJbmZpbml0eSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICBuZXdWYWx1ZSA9IHNldFZhbHVlSW5kZXgoe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICBpbmRleFxuICAgICAgfSk7XG4gICAgICBsZXQgYWN0aXZlSW5kZXggPSBpbmRleDtcblxuICAgICAgLy8gUG90ZW50aWFsbHkgc3dhcCB0aGUgaW5kZXggaWYgbmVlZGVkLlxuICAgICAgaWYgKCFkaXNhYmxlU3dhcCkge1xuICAgICAgICBhY3RpdmVJbmRleCA9IG5ld1ZhbHVlLmluZGV4T2YocHJldmlvdXNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBmb2N1c1RodW1iKHtcbiAgICAgICAgc2xpZGVyUmVmLFxuICAgICAgICBhY3RpdmVJbmRleFxuICAgICAgfSk7XG4gICAgfVxuICAgIHNldFZhbHVlU3RhdGUobmV3VmFsdWUpO1xuICAgIHNldEZvY3VzZWRUaHVtYkluZGV4KGluZGV4KTtcbiAgICBpZiAoaGFuZGxlQ2hhbmdlICYmICFhcmVWYWx1ZXNFcXVhbChuZXdWYWx1ZSwgdmFsdWVEZXJpdmVkKSkge1xuICAgICAgaGFuZGxlQ2hhbmdlKGV2ZW50LCBuZXdWYWx1ZSwgaW5kZXgpO1xuICAgIH1cbiAgICBpZiAob25DaGFuZ2VDb21taXR0ZWQpIHtcbiAgICAgIG9uQ2hhbmdlQ29tbWl0dGVkKGV2ZW50LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwcmV2aW91c0luZGV4ID0gUmVhY3QudXNlUmVmKCk7XG4gIGxldCBheGlzID0gb3JpZW50YXRpb247XG4gIGlmIChpc1J0bCAmJiBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgYXhpcyArPSAnLXJldmVyc2UnO1xuICB9XG4gIGNvbnN0IGdldEZpbmdlck5ld1ZhbHVlID0gKHtcbiAgICBmaW5nZXIsXG4gICAgbW92ZSA9IGZhbHNlXG4gIH0pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50OiBzbGlkZXJcbiAgICB9ID0gc2xpZGVyUmVmO1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgYm90dG9tLFxuICAgICAgbGVmdFxuICAgIH0gPSBzbGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHBlcmNlbnQ7XG4gICAgaWYgKGF4aXMuaW5kZXhPZigndmVydGljYWwnKSA9PT0gMCkge1xuICAgICAgcGVyY2VudCA9IChib3R0b20gLSBmaW5nZXIueSkgLyBoZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcmNlbnQgPSAoZmluZ2VyLnggLSBsZWZ0KSAvIHdpZHRoO1xuICAgIH1cbiAgICBpZiAoYXhpcy5pbmRleE9mKCctcmV2ZXJzZScpICE9PSAtMSkge1xuICAgICAgcGVyY2VudCA9IDEgLSBwZXJjZW50O1xuICAgIH1cbiAgICBsZXQgbmV3VmFsdWU7XG4gICAgbmV3VmFsdWUgPSBwZXJjZW50VG9WYWx1ZShwZXJjZW50LCBtaW4sIG1heCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIG5ld1ZhbHVlID0gcm91bmRWYWx1ZVRvU3RlcChuZXdWYWx1ZSwgc3RlcCwgbWluKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2xvc2VzdEluZGV4ID0gZmluZENsb3Nlc3QobWFya3NWYWx1ZXMsIG5ld1ZhbHVlKTtcbiAgICAgIG5ld1ZhbHVlID0gbWFya3NWYWx1ZXNbY2xvc2VzdEluZGV4XTtcbiAgICB9XG4gICAgbmV3VmFsdWUgPSBjbGFtcChuZXdWYWx1ZSwgbWluLCBtYXgpO1xuICAgIGxldCBhY3RpdmVJbmRleCA9IDA7XG4gICAgaWYgKHJhbmdlKSB7XG4gICAgICBpZiAoIW1vdmUpIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBmaW5kQ2xvc2VzdCh2YWx1ZXMsIG5ld1ZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gcHJldmlvdXNJbmRleC5jdXJyZW50O1xuICAgICAgfVxuXG4gICAgICAvLyBCb3VuZCB0aGUgbmV3IHZhbHVlIHRvIHRoZSB0aHVtYidzIG5laWdoYm91cnMuXG4gICAgICBpZiAoZGlzYWJsZVN3YXApIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjbGFtcChuZXdWYWx1ZSwgdmFsdWVzW2FjdGl2ZUluZGV4IC0gMV0gfHwgLUluZmluaXR5LCB2YWx1ZXNbYWN0aXZlSW5kZXggKyAxXSB8fCBJbmZpbml0eSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICBuZXdWYWx1ZSA9IHNldFZhbHVlSW5kZXgoe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICBpbmRleDogYWN0aXZlSW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQb3RlbnRpYWxseSBzd2FwIHRoZSBpbmRleCBpZiBuZWVkZWQuXG4gICAgICBpZiAoIShkaXNhYmxlU3dhcCAmJiBtb3ZlKSkge1xuICAgICAgICBhY3RpdmVJbmRleCA9IG5ld1ZhbHVlLmluZGV4T2YocHJldmlvdXNWYWx1ZSk7XG4gICAgICAgIHByZXZpb3VzSW5kZXguY3VycmVudCA9IGFjdGl2ZUluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmV3VmFsdWUsXG4gICAgICBhY3RpdmVJbmRleFxuICAgIH07XG4gIH07XG4gIGNvbnN0IGhhbmRsZVRvdWNoTW92ZSA9IHVzZUV2ZW50Q2FsbGJhY2sobmF0aXZlRXZlbnQgPT4ge1xuICAgIGNvbnN0IGZpbmdlciA9IHRyYWNrRmluZ2VyKG5hdGl2ZUV2ZW50LCB0b3VjaElkKTtcbiAgICBpZiAoIWZpbmdlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtb3ZlQ291bnQuY3VycmVudCArPSAxO1xuXG4gICAgLy8gQ2FuY2VsIG1vdmUgaW4gY2FzZSBzb21lIG90aGVyIGVsZW1lbnQgY29uc3VtZWQgYSBtb3VzZXVwIGV2ZW50IGFuZCBpdCB3YXMgbm90IGZpcmVkLlxuICAgIC8vIEB0cy1pZ25vcmUgYnV0dG9ucyBkb2Vzbid0IG5vdCBleGlzdHMgb24gdG91Y2ggZXZlbnRcbiAgICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ21vdXNlbW92ZScgJiYgbmF0aXZlRXZlbnQuYnV0dG9ucyA9PT0gMCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgaGFuZGxlVG91Y2hFbmQobmF0aXZlRXZlbnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBuZXdWYWx1ZSxcbiAgICAgIGFjdGl2ZUluZGV4XG4gICAgfSA9IGdldEZpbmdlck5ld1ZhbHVlKHtcbiAgICAgIGZpbmdlcixcbiAgICAgIG1vdmU6IHRydWVcbiAgICB9KTtcbiAgICBmb2N1c1RodW1iKHtcbiAgICAgIHNsaWRlclJlZixcbiAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgc2V0QWN0aXZlXG4gICAgfSk7XG4gICAgc2V0VmFsdWVTdGF0ZShuZXdWYWx1ZSk7XG4gICAgaWYgKCFkcmFnZ2luZyAmJiBtb3ZlQ291bnQuY3VycmVudCA+IElOVEVOVElPTkFMX0RSQUdfQ09VTlRfVEhSRVNIT0xEKSB7XG4gICAgICBzZXREcmFnZ2luZyh0cnVlKTtcbiAgICB9XG4gICAgaWYgKGhhbmRsZUNoYW5nZSAmJiAhYXJlVmFsdWVzRXF1YWwobmV3VmFsdWUsIHZhbHVlRGVyaXZlZCkpIHtcbiAgICAgIGhhbmRsZUNoYW5nZShuYXRpdmVFdmVudCwgbmV3VmFsdWUsIGFjdGl2ZUluZGV4KTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVUb3VjaEVuZCA9IHVzZUV2ZW50Q2FsbGJhY2sobmF0aXZlRXZlbnQgPT4ge1xuICAgIGNvbnN0IGZpbmdlciA9IHRyYWNrRmluZ2VyKG5hdGl2ZUV2ZW50LCB0b3VjaElkKTtcbiAgICBzZXREcmFnZ2luZyhmYWxzZSk7XG4gICAgaWYgKCFmaW5nZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgbmV3VmFsdWVcbiAgICB9ID0gZ2V0RmluZ2VyTmV3VmFsdWUoe1xuICAgICAgZmluZ2VyLFxuICAgICAgbW92ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHNldEFjdGl2ZSgtMSk7XG4gICAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcpIHtcbiAgICAgIHNldE9wZW4oLTEpO1xuICAgIH1cbiAgICBpZiAob25DaGFuZ2VDb21taXR0ZWQpIHtcbiAgICAgIG9uQ2hhbmdlQ29tbWl0dGVkKG5hdGl2ZUV2ZW50LCBuZXdWYWx1ZSk7XG4gICAgfVxuICAgIHRvdWNoSWQuY3VycmVudCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICBzdG9wTGlzdGVuaW5nKCk7XG4gIH0pO1xuICBjb25zdCBoYW5kbGVUb3VjaFN0YXJ0ID0gdXNlRXZlbnRDYWxsYmFjayhuYXRpdmVFdmVudCA9PiB7XG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIHRvdWNoLWFjdGlvbjogbm9uZTsgaXMgbm90IHN1cHBvcnRlZCB3ZSBuZWVkIHRvIHByZXZlbnQgdGhlIHNjcm9sbCBtYW51YWxseS5cbiAgICBpZiAoIWRvZXNTdXBwb3J0VG91Y2hBY3Rpb25Ob25lKCkpIHtcbiAgICAgIG5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGNvbnN0IHRvdWNoID0gbmF0aXZlRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgaWYgKHRvdWNoICE9IG51bGwpIHtcbiAgICAgIC8vIEEgbnVtYmVyIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgY3VycmVudCBmaW5nZXIgaW4gdGhlIHRvdWNoIHNlc3Npb24uXG4gICAgICB0b3VjaElkLmN1cnJlbnQgPSB0b3VjaC5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBjb25zdCBmaW5nZXIgPSB0cmFja0ZpbmdlcihuYXRpdmVFdmVudCwgdG91Y2hJZCk7XG4gICAgaWYgKGZpbmdlciAhPT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgIGFjdGl2ZUluZGV4XG4gICAgICB9ID0gZ2V0RmluZ2VyTmV3VmFsdWUoe1xuICAgICAgICBmaW5nZXJcbiAgICAgIH0pO1xuICAgICAgZm9jdXNUaHVtYih7XG4gICAgICAgIHNsaWRlclJlZixcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNldEFjdGl2ZVxuICAgICAgfSk7XG4gICAgICBzZXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgICAgIGlmIChoYW5kbGVDaGFuZ2UgJiYgIWFyZVZhbHVlc0VxdWFsKG5ld1ZhbHVlLCB2YWx1ZURlcml2ZWQpKSB7XG4gICAgICAgIGhhbmRsZUNoYW5nZShuYXRpdmVFdmVudCwgbmV3VmFsdWUsIGFjdGl2ZUluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW92ZUNvdW50LmN1cnJlbnQgPSAwO1xuICAgIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQoc2xpZGVyUmVmLmN1cnJlbnQpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kKTtcbiAgfSk7XG4gIGNvbnN0IHN0b3BMaXN0ZW5pbmcgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgZG9jID0gb3duZXJEb2N1bWVudChzbGlkZXJSZWYuY3VycmVudCk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZVRvdWNoTW92ZSk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVUb3VjaEVuZCk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgaGFuZGxlVG91Y2hFbmQpO1xuICB9LCBbaGFuZGxlVG91Y2hFbmQsIGhhbmRsZVRvdWNoTW92ZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGN1cnJlbnQ6IHNsaWRlclxuICAgIH0gPSBzbGlkZXJSZWY7XG4gICAgc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVUb3VjaFN0YXJ0LCB7XG4gICAgICBwYXNzaXZlOiBkb2VzU3VwcG9ydFRvdWNoQWN0aW9uTm9uZSgpXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHNsaWRlci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlVG91Y2hTdGFydCwge1xuICAgICAgICBwYXNzaXZlOiBkb2VzU3VwcG9ydFRvdWNoQWN0aW9uTm9uZSgpXG4gICAgICB9KTtcbiAgICAgIHN0b3BMaXN0ZW5pbmcoKTtcbiAgICB9O1xuICB9LCBbc3RvcExpc3RlbmluZywgaGFuZGxlVG91Y2hTdGFydF0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgc3RvcExpc3RlbmluZygpO1xuICAgIH1cbiAgfSwgW2Rpc2FibGVkLCBzdG9wTGlzdGVuaW5nXSk7XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZU1vdXNlRG93biA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIHZhciBfb3RoZXJIYW5kbGVycyRvbk1vdXM7XG4gICAgKF9vdGhlckhhbmRsZXJzJG9uTW91cyA9IG90aGVySGFuZGxlcnMub25Nb3VzZURvd24pID09IG51bGwgfHwgX290aGVySGFuZGxlcnMkb25Nb3VzLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9ubHkgaGFuZGxlIGxlZnQgY2xpY2tzXG4gICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEF2b2lkIHRleHQgc2VsZWN0aW9uXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmaW5nZXIgPSB0cmFja0ZpbmdlcihldmVudCwgdG91Y2hJZCk7XG4gICAgaWYgKGZpbmdlciAhPT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgIGFjdGl2ZUluZGV4XG4gICAgICB9ID0gZ2V0RmluZ2VyTmV3VmFsdWUoe1xuICAgICAgICBmaW5nZXJcbiAgICAgIH0pO1xuICAgICAgZm9jdXNUaHVtYih7XG4gICAgICAgIHNsaWRlclJlZixcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNldEFjdGl2ZVxuICAgICAgfSk7XG4gICAgICBzZXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgICAgIGlmIChoYW5kbGVDaGFuZ2UgJiYgIWFyZVZhbHVlc0VxdWFsKG5ld1ZhbHVlLCB2YWx1ZURlcml2ZWQpKSB7XG4gICAgICAgIGhhbmRsZUNoYW5nZShldmVudCwgbmV3VmFsdWUsIGFjdGl2ZUluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW92ZUNvdW50LmN1cnJlbnQgPSAwO1xuICAgIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQoc2xpZGVyUmVmLmN1cnJlbnQpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlVG91Y2hFbmQpO1xuICB9O1xuICBjb25zdCB0cmFja09mZnNldCA9IHZhbHVlVG9QZXJjZW50KHJhbmdlID8gdmFsdWVzWzBdIDogbWluLCBtaW4sIG1heCk7XG4gIGNvbnN0IHRyYWNrTGVhcCA9IHZhbHVlVG9QZXJjZW50KHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV0sIG1pbiwgbWF4KSAtIHRyYWNrT2Zmc2V0O1xuICBjb25zdCBnZXRSb290UHJvcHMgPSAob3RoZXJIYW5kbGVycyA9IHt9KSA9PiB7XG4gICAgY29uc3Qgb3duRXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIG9uTW91c2VEb3duOiBjcmVhdGVIYW5kbGVNb3VzZURvd24ob3RoZXJIYW5kbGVycyB8fCB7fSlcbiAgICB9O1xuICAgIGNvbnN0IG1lcmdlZEV2ZW50SGFuZGxlcnMgPSBfZXh0ZW5kcyh7fSwgb3RoZXJIYW5kbGVycywgb3duRXZlbnRIYW5kbGVycyk7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIHJlZjogaGFuZGxlUmVmXG4gICAgfSwgbWVyZ2VkRXZlbnRIYW5kbGVycyk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZU1vdXNlT3ZlciA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIHZhciBfb3RoZXJIYW5kbGVycyRvbk1vdXMyO1xuICAgIChfb3RoZXJIYW5kbGVycyRvbk1vdXMyID0gb3RoZXJIYW5kbGVycy5vbk1vdXNlT3ZlcikgPT0gbnVsbCB8fCBfb3RoZXJIYW5kbGVycyRvbk1vdXMyLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIGNvbnN0IGluZGV4ID0gTnVtYmVyKGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpO1xuICAgIHNldE9wZW4oaW5kZXgpO1xuICB9O1xuICBjb25zdCBjcmVhdGVIYW5kbGVNb3VzZUxlYXZlID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgdmFyIF9vdGhlckhhbmRsZXJzJG9uTW91czM7XG4gICAgKF9vdGhlckhhbmRsZXJzJG9uTW91czMgPSBvdGhlckhhbmRsZXJzLm9uTW91c2VMZWF2ZSkgPT0gbnVsbCB8fCBfb3RoZXJIYW5kbGVycyRvbk1vdXMzLmNhbGwob3RoZXJIYW5kbGVycywgZXZlbnQpO1xuICAgIHNldE9wZW4oLTEpO1xuICB9O1xuICBjb25zdCBnZXRUaHVtYlByb3BzID0gKG90aGVySGFuZGxlcnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG93bkV2ZW50SGFuZGxlcnMgPSB7XG4gICAgICBvbk1vdXNlT3ZlcjogY3JlYXRlSGFuZGxlTW91c2VPdmVyKG90aGVySGFuZGxlcnMgfHwge30pLFxuICAgICAgb25Nb3VzZUxlYXZlOiBjcmVhdGVIYW5kbGVNb3VzZUxlYXZlKG90aGVySGFuZGxlcnMgfHwge30pXG4gICAgfTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIG90aGVySGFuZGxlcnMsIG93bkV2ZW50SGFuZGxlcnMpO1xuICB9O1xuICBjb25zdCBnZXRUaHVtYlN0eWxlID0gaW5kZXggPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTbyB0aGUgbm9uIGFjdGl2ZSB0aHVtYiBkb2Vzbid0IHNob3cgaXRzIGxhYmVsIG9uIGhvdmVyLlxuICAgICAgcG9pbnRlckV2ZW50czogYWN0aXZlICE9PSAtMSAmJiBhY3RpdmUgIT09IGluZGV4ID8gJ25vbmUnIDogdW5kZWZpbmVkXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgZ2V0SGlkZGVuSW5wdXRQcm9wcyA9IChvdGhlckhhbmRsZXJzID0ge30pID0+IHtcbiAgICB2YXIgX3BhcmFtZXRlcnMkc3RlcDtcbiAgICBjb25zdCBvd25FdmVudEhhbmRsZXJzID0ge1xuICAgICAgb25DaGFuZ2U6IGNyZWF0ZUhhbmRsZUhpZGRlbklucHV0Q2hhbmdlKG90aGVySGFuZGxlcnMgfHwge30pLFxuICAgICAgb25Gb2N1czogY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRGb2N1cyhvdGhlckhhbmRsZXJzIHx8IHt9KSxcbiAgICAgIG9uQmx1cjogY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRCbHVyKG90aGVySGFuZGxlcnMgfHwge30pXG4gICAgfTtcbiAgICBjb25zdCBtZXJnZWRFdmVudEhhbmRsZXJzID0gX2V4dGVuZHMoe30sIG90aGVySGFuZGxlcnMsIG93bkV2ZW50SGFuZGxlcnMpO1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICB0YWJJbmRleCxcbiAgICAgICdhcmlhLWxhYmVsbGVkYnknOiBhcmlhTGFiZWxsZWRieSxcbiAgICAgICdhcmlhLW9yaWVudGF0aW9uJzogb3JpZW50YXRpb24sXG4gICAgICAnYXJpYS12YWx1ZW1heCc6IHNjYWxlKG1heCksXG4gICAgICAnYXJpYS12YWx1ZW1pbic6IHNjYWxlKG1pbiksXG4gICAgICBuYW1lLFxuICAgICAgdHlwZTogJ3JhbmdlJyxcbiAgICAgIG1pbjogcGFyYW1ldGVycy5taW4sXG4gICAgICBtYXg6IHBhcmFtZXRlcnMubWF4LFxuICAgICAgc3RlcDogcGFyYW1ldGVycy5zdGVwID09PSBudWxsICYmIHBhcmFtZXRlcnMubWFya3MgPyAnYW55JyA6IChfcGFyYW1ldGVycyRzdGVwID0gcGFyYW1ldGVycy5zdGVwKSAhPSBudWxsID8gX3BhcmFtZXRlcnMkc3RlcCA6IHVuZGVmaW5lZCxcbiAgICAgIGRpc2FibGVkXG4gICAgfSwgbWVyZ2VkRXZlbnRIYW5kbGVycywge1xuICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCB2aXN1YWxseUhpZGRlbiwge1xuICAgICAgICBkaXJlY3Rpb246IGlzUnRsID8gJ3J0bCcgOiAnbHRyJyxcbiAgICAgICAgLy8gU28gdGhhdCBWb2ljZU92ZXIncyBmb2N1cyBpbmRpY2F0b3IgbWF0Y2hlcyB0aGUgdGh1bWIncyBkaW1lbnNpb25zXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgICB9KVxuICAgIH0pO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZSxcbiAgICBheGlzOiBheGlzLFxuICAgIGF4aXNQcm9wcyxcbiAgICBkcmFnZ2luZyxcbiAgICBmb2N1c2VkVGh1bWJJbmRleCxcbiAgICBnZXRIaWRkZW5JbnB1dFByb3BzLFxuICAgIGdldFJvb3RQcm9wcyxcbiAgICBnZXRUaHVtYlByb3BzLFxuICAgIG1hcmtzOiBtYXJrcyxcbiAgICBvcGVuLFxuICAgIHJhbmdlLFxuICAgIHJvb3RSZWY6IGhhbmRsZVJlZixcbiAgICB0cmFja0xlYXAsXG4gICAgdHJhY2tPZmZzZXQsXG4gICAgdmFsdWVzLFxuICAgIGdldFRodW1iU3R5bGVcbiAgfTtcbn0iXSwibmFtZXMiOlsiYXJlQXJyYXlzRXF1YWwiLCJhcnJheTEiLCJhcnJheTIiLCJpdGVtQ29tcGFyZXIiLCJhIiwiYiIsImxlbmd0aCIsImV2ZXJ5IiwidmFsdWUiLCJpbmRleCIsIl9leHRlbmRzIiwiUmVhY3QiLCJ1bnN0YWJsZV9vd25lckRvY3VtZW50Iiwib3duZXJEb2N1bWVudCIsInVuc3RhYmxlX3VzZUNvbnRyb2xsZWQiLCJ1c2VDb250cm9sbGVkIiwidW5zdGFibGVfdXNlRW5oYW5jZWRFZmZlY3QiLCJ1c2VFbmhhbmNlZEVmZmVjdCIsInVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2siLCJ1c2VFdmVudENhbGxiYWNrIiwidW5zdGFibGVfdXNlRm9ya1JlZiIsInVzZUZvcmtSZWYiLCJ1bnN0YWJsZV91c2VJc0ZvY3VzVmlzaWJsZSIsInVzZUlzRm9jdXNWaXNpYmxlIiwidmlzdWFsbHlIaWRkZW4iLCJJTlRFTlRJT05BTF9EUkFHX0NPVU5UX1RIUkVTSE9MRCIsImFzYyIsImNsYW1wIiwibWluIiwibWF4IiwiTWF0aCIsImZpbmRDbG9zZXN0IiwidmFsdWVzIiwiY3VycmVudFZhbHVlIiwiX3ZhbHVlcyRyZWR1Y2UiLCJjbG9zZXN0SW5kZXgiLCJyZWR1Y2UiLCJhY2MiLCJkaXN0YW5jZSIsImFicyIsInRyYWNrRmluZ2VyIiwiZXZlbnQiLCJ0b3VjaElkIiwiY3VycmVudCIsInVuZGVmaW5lZCIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hFdmVudCIsImkiLCJ0b3VjaCIsImlkZW50aWZpZXIiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwidmFsdWVUb1BlcmNlbnQiLCJwZXJjZW50VG9WYWx1ZSIsInBlcmNlbnQiLCJnZXREZWNpbWFsUHJlY2lzaW9uIiwibnVtIiwicGFydHMiLCJ0b0V4cG9uZW50aWFsIiwic3BsaXQiLCJtYXRpc3NhRGVjaW1hbFBhcnQiLCJwYXJzZUludCIsImRlY2ltYWxQYXJ0IiwidG9TdHJpbmciLCJyb3VuZFZhbHVlVG9TdGVwIiwic3RlcCIsIm5lYXJlc3QiLCJyb3VuZCIsIk51bWJlciIsInRvRml4ZWQiLCJzZXRWYWx1ZUluZGV4IiwibmV3VmFsdWUiLCJvdXRwdXQiLCJzbGljZSIsInNvcnQiLCJmb2N1c1RodW1iIiwic2xpZGVyUmVmIiwiYWN0aXZlSW5kZXgiLCJzZXRBY3RpdmUiLCJfc2xpZGVyUmVmJGN1cnJlbnQiLCJfZG9jJGFjdGl2ZUVsZW1lbnQiLCJkb2MiLCJjb250YWlucyIsImFjdGl2ZUVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJfc2xpZGVyUmVmJGN1cnJlbnQyIiwicXVlcnlTZWxlY3RvciIsImZvY3VzIiwiYXJlVmFsdWVzRXF1YWwiLCJvbGRWYWx1ZSIsImF4aXNQcm9wcyIsImhvcml6b250YWwiLCJvZmZzZXQiLCJsZWZ0IiwibGVhcCIsIndpZHRoIiwicmlnaHQiLCJ2ZXJ0aWNhbCIsImJvdHRvbSIsImhlaWdodCIsIklkZW50aXR5IiwiY2FjaGVkU3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUiLCJkb2VzU3VwcG9ydFRvdWNoQWN0aW9uTm9uZSIsIkNTUyIsInN1cHBvcnRzIiwidXNlU2xpZGVyIiwicGFyYW1ldGVycyIsImFyaWFMYWJlbGxlZGJ5IiwiZGVmYXVsdFZhbHVlIiwiZGlzYWJsZWQiLCJkaXNhYmxlU3dhcCIsImlzUnRsIiwibWFya3MiLCJtYXJrc1Byb3AiLCJuYW1lIiwib25DaGFuZ2UiLCJvbkNoYW5nZUNvbW1pdHRlZCIsIm9yaWVudGF0aW9uIiwicm9vdFJlZiIsInJlZiIsInNjYWxlIiwidGFiSW5kZXgiLCJ2YWx1ZVByb3AiLCJ1c2VSZWYiLCJhY3RpdmUiLCJ1c2VTdGF0ZSIsIm9wZW4iLCJzZXRPcGVuIiwiZHJhZ2dpbmciLCJzZXREcmFnZ2luZyIsIm1vdmVDb3VudCIsInZhbHVlRGVyaXZlZCIsInNldFZhbHVlU3RhdGUiLCJjb250cm9sbGVkIiwiZGVmYXVsdCIsImhhbmRsZUNoYW5nZSIsInRodW1iSW5kZXgiLCJuYXRpdmVFdmVudCIsImNsb25lZEV2ZW50IiwiY29uc3RydWN0b3IiLCJ0eXBlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3cml0YWJsZSIsInJhbmdlIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwiZmxvb3IiLCJfIiwibWFya3NWYWx1ZXMiLCJtYXJrIiwiaXNGb2N1c1Zpc2libGVSZWYiLCJvbkJsdXIiLCJoYW5kbGVCbHVyVmlzaWJsZSIsIm9uRm9jdXMiLCJoYW5kbGVGb2N1c1Zpc2libGUiLCJmb2N1c1Zpc2libGVSZWYiLCJmb2N1c2VkVGh1bWJJbmRleCIsInNldEZvY3VzZWRUaHVtYkluZGV4IiwiaGFuZGxlRm9jdXNSZWYiLCJoYW5kbGVSZWYiLCJjcmVhdGVIYW5kbGVIaWRkZW5JbnB1dEZvY3VzIiwib3RoZXJIYW5kbGVycyIsIl9vdGhlckhhbmRsZXJzJG9uRm9jdSIsImN1cnJlbnRUYXJnZXQiLCJjYWxsIiwiY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRCbHVyIiwiX290aGVySGFuZGxlcnMkb25CbHVyIiwiZG9jdW1lbnQiLCJfZG9jdW1lbnQkYWN0aXZlRWxlbWUiLCJibHVyIiwiY3JlYXRlSGFuZGxlSGlkZGVuSW5wdXRDaGFuZ2UiLCJfb3RoZXJIYW5kbGVycyRvbkNoYW4iLCJtYXJrc0luZGV4IiwiaW5kZXhPZiIsInRhcmdldCIsInZhbHVlQXNOdW1iZXIiLCJtYXhNYXJrc1ZhbHVlIiwiSW5maW5pdHkiLCJwcmV2aW91c1ZhbHVlIiwicHJldmlvdXNJbmRleCIsImF4aXMiLCJnZXRGaW5nZXJOZXdWYWx1ZSIsImZpbmdlciIsIm1vdmUiLCJzbGlkZXIiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoYW5kbGVUb3VjaE1vdmUiLCJidXR0b25zIiwiaGFuZGxlVG91Y2hFbmQiLCJzdG9wTGlzdGVuaW5nIiwiaGFuZGxlVG91Y2hTdGFydCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZUNhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVzZUVmZmVjdCIsInBhc3NpdmUiLCJjcmVhdGVIYW5kbGVNb3VzZURvd24iLCJfb3RoZXJIYW5kbGVycyRvbk1vdXMiLCJvbk1vdXNlRG93biIsImRlZmF1bHRQcmV2ZW50ZWQiLCJidXR0b24iLCJ0cmFja09mZnNldCIsInRyYWNrTGVhcCIsImdldFJvb3RQcm9wcyIsIm93bkV2ZW50SGFuZGxlcnMiLCJtZXJnZWRFdmVudEhhbmRsZXJzIiwiY3JlYXRlSGFuZGxlTW91c2VPdmVyIiwiX290aGVySGFuZGxlcnMkb25Nb3VzMiIsIm9uTW91c2VPdmVyIiwiY3JlYXRlSGFuZGxlTW91c2VMZWF2ZSIsIl9vdGhlckhhbmRsZXJzJG9uTW91czMiLCJvbk1vdXNlTGVhdmUiLCJnZXRUaHVtYlByb3BzIiwiZ2V0VGh1bWJTdHlsZSIsInBvaW50ZXJFdmVudHMiLCJnZXRIaWRkZW5JbnB1dFByb3BzIiwiX3BhcmFtZXRlcnMkc3RlcCIsInN0eWxlIiwiZGlyZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2116\n")},3641:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   D: () => (/* binding */ useSnackbar)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3123);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5466);\n/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6728);\n/* harmony import */ var _utils_extractEventHandlers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7531);\n'use client';\n\n\n\n\n\n/**\n * The basic building block for creating custom snackbar.\n *\n * Demos:\n *\n * - [Snackbar](https://mui.com/base-ui/react-snackbar/#hook)\n *\n * API:\n *\n * - [useSnackbar API](https://mui.com/base-ui/react-snackbar/hooks-api/#use-snackbar)\n */\nfunction useSnackbar(parameters = {}) {\n  const {\n    autoHideDuration = null,\n    disableWindowBlurListener = false,\n    onClose,\n    open,\n    resumeHideDuration\n  } = parameters;\n  const timerAutoHide = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!open) {\n      return undefined;\n    }\n\n    /**\n     * @param {KeyboardEvent} nativeEvent\n     */\n    function handleKeyDown(nativeEvent) {\n      if (!nativeEvent.defaultPrevented) {\n        // IE11, Edge (prior to using Blink?) use 'Esc'\n        if (nativeEvent.key === 'Escape' || nativeEvent.key === 'Esc') {\n          // not calling `preventDefault` since we don't know if people may ignore this event e.g. a permanently open snackbar\n          onClose == null || onClose(nativeEvent, 'escapeKeyDown');\n        }\n      }\n    }\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [open, onClose]);\n  const handleClose = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z)((event, reason) => {\n    onClose == null || onClose(event, reason);\n  });\n  const setAutoHideTimer = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z)(autoHideDurationParam => {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(() => {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n    return () => {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]);\n  const handleClickAway = event => {\n    onClose == null || onClose(event, 'clickaway');\n  };\n\n  // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n  const handlePause = () => {\n    clearTimeout(timerAutoHide.current);\n  };\n\n  // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n  const handleResume = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n  const createHandleBlur = otherHandlers => event => {\n    const onBlurCallback = otherHandlers.onBlur;\n    onBlurCallback == null || onBlurCallback(event);\n    handleResume();\n  };\n  const createHandleFocus = otherHandlers => event => {\n    const onFocusCallback = otherHandlers.onFocus;\n    onFocusCallback == null || onFocusCallback(event);\n    handlePause();\n  };\n  const createMouseEnter = otherHandlers => event => {\n    const onMouseEnterCallback = otherHandlers.onMouseEnter;\n    onMouseEnterCallback == null || onMouseEnterCallback(event);\n    handlePause();\n  };\n  const createMouseLeave = otherHandlers => event => {\n    const onMouseLeaveCallback = otherHandlers.onMouseLeave;\n    onMouseLeaveCallback == null || onMouseLeaveCallback(event);\n    handleResume();\n  };\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    // TODO: window global should be refactored here\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return () => {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]);\n  const getRootProps = (externalProps = {}) => {\n    const externalEventHandlers = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z)({}, (0,_utils_extractEventHandlers__WEBPACK_IMPORTED_MODULE_3__/* .extractEventHandlers */ ._)(parameters), (0,_utils_extractEventHandlers__WEBPACK_IMPORTED_MODULE_3__/* .extractEventHandlers */ ._)(externalProps));\n    return (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z)({\n      // ClickAwayListener adds an `onClick` prop which results in the alert not being announced.\n      // See https://github.com/mui/material-ui/issues/29080\n      role: 'presentation'\n    }, externalProps, externalEventHandlers, {\n      onBlur: createHandleBlur(externalEventHandlers),\n      onFocus: createHandleFocus(externalEventHandlers),\n      onMouseEnter: createMouseEnter(externalEventHandlers),\n      onMouseLeave: createMouseLeave(externalEventHandlers)\n    });\n  };\n  return {\n    getRootProps,\n    onClickAway: handleClickAway\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFDOUNlLE1BQU0sQ0FBQzNCLGdCQUFnQixDQUFDLE1BQU0sRUFBRVcsV0FBVyxDQUFDO01BQzVDLE9BQU8sTUFBTTtRQUNYZ0IsTUFBTSxDQUFDMUIsbUJBQW1CLENBQUMsT0FBTyxFQUFFVyxZQUFZLENBQUM7UUFDakRlLE1BQU0sQ0FBQzFCLG1CQUFtQixDQUFDLE1BQU0sRUFBRVUsV0FBVyxDQUFDO01BQ2pELENBQUM7SUFDSDtJQUNBLE9BQU9qQixTQUFTO0VBQ2xCLENBQUMsRUFBRSxDQUFDUCx5QkFBeUIsRUFBRXlCLFlBQVksRUFBRXZCLElBQUksQ0FBQyxDQUFDO0VBQ25ELE1BQU11QyxZQUFZLEdBQUdBLENBQUNDLGFBQWEsR0FBRyxDQUFDLENBQUMsS0FBSztJQUMzQyxNQUFNQyxxQkFBcUIsR0FBR25ELHVGQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUVJLDBGQUFvQixDQUFDRSxVQUFVLENBQUMsRUFBRUYsMEZBQW9CLENBQUM4QyxhQUFhLENBQUMsQ0FBQztJQUNqSCxPQUFPbEQsdUZBQVEsQ0FBQztNQUNkO01BQ0E7TUFDQW9ELElBQUksRUFBRTtJQUNSLENBQUMsRUFBRUYsYUFBYSxFQUFFQyxxQkFBcUIsRUFBRTtNQUN2Q2IsTUFBTSxFQUFFSCxnQkFBZ0IsQ0FBQ2dCLHFCQUFxQixDQUFDO01BQy9DVixPQUFPLEVBQUVGLGlCQUFpQixDQUFDWSxxQkFBcUIsQ0FBQztNQUNqRFAsWUFBWSxFQUFFRixnQkFBZ0IsQ0FBQ1MscUJBQXFCLENBQUM7TUFDckRKLFlBQVksRUFBRUYsZ0JBQWdCLENBQUNNLHFCQUFxQjtJQUN0RCxDQUFDLENBQUM7RUFDSixDQUFDO0VBQ0QsT0FBTztJQUNMRixZQUFZO0lBQ1pJLFdBQVcsRUFBRXRCO0VBQ2YsQ0FBQztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL3VzZVNuYWNrYmFyL3VzZVNuYWNrYmFyLmpzP2U4MDYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVuc3RhYmxlX3VzZUV2ZW50Q2FsbGJhY2sgYXMgdXNlRXZlbnRDYWxsYmFjayB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IHsgZXh0cmFjdEV2ZW50SGFuZGxlcnMgfSBmcm9tICcuLi91dGlscy9leHRyYWN0RXZlbnRIYW5kbGVycyc7XG4vKipcbiAqIFRoZSBiYXNpYyBidWlsZGluZyBibG9jayBmb3IgY3JlYXRpbmcgY3VzdG9tIHNuYWNrYmFyLlxuICpcbiAqIERlbW9zOlxuICpcbiAqIC0gW1NuYWNrYmFyXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1zbmFja2Jhci8jaG9vaylcbiAqXG4gKiBBUEk6XG4gKlxuICogLSBbdXNlU25hY2tiYXIgQVBJXShodHRwczovL211aS5jb20vYmFzZS11aS9yZWFjdC1zbmFja2Jhci9ob29rcy1hcGkvI3VzZS1zbmFja2JhcilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVNuYWNrYmFyKHBhcmFtZXRlcnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgYXV0b0hpZGVEdXJhdGlvbiA9IG51bGwsXG4gICAgZGlzYWJsZVdpbmRvd0JsdXJMaXN0ZW5lciA9IGZhbHNlLFxuICAgIG9uQ2xvc2UsXG4gICAgb3BlbixcbiAgICByZXN1bWVIaWRlRHVyYXRpb25cbiAgfSA9IHBhcmFtZXRlcnM7XG4gIGNvbnN0IHRpbWVyQXV0b0hpZGUgPSBSZWFjdC51c2VSZWYoKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW9wZW4pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBuYXRpdmVFdmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZUtleURvd24obmF0aXZlRXZlbnQpIHtcbiAgICAgIGlmICghbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAvLyBJRTExLCBFZGdlIChwcmlvciB0byB1c2luZyBCbGluaz8pIHVzZSAnRXNjJ1xuICAgICAgICBpZiAobmF0aXZlRXZlbnQua2V5ID09PSAnRXNjYXBlJyB8fCBuYXRpdmVFdmVudC5rZXkgPT09ICdFc2MnKSB7XG4gICAgICAgICAgLy8gbm90IGNhbGxpbmcgYHByZXZlbnREZWZhdWx0YCBzaW5jZSB3ZSBkb24ndCBrbm93IGlmIHBlb3BsZSBtYXkgaWdub3JlIHRoaXMgZXZlbnQgZS5nLiBhIHBlcm1hbmVudGx5IG9wZW4gc25hY2tiYXJcbiAgICAgICAgICBvbkNsb3NlID09IG51bGwgfHwgb25DbG9zZShuYXRpdmVFdmVudCwgJ2VzY2FwZUtleURvd24nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICB9O1xuICB9LCBbb3Blbiwgb25DbG9zZV0pO1xuICBjb25zdCBoYW5kbGVDbG9zZSA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50LCByZWFzb24pID0+IHtcbiAgICBvbkNsb3NlID09IG51bGwgfHwgb25DbG9zZShldmVudCwgcmVhc29uKTtcbiAgfSk7XG4gIGNvbnN0IHNldEF1dG9IaWRlVGltZXIgPSB1c2VFdmVudENhbGxiYWNrKGF1dG9IaWRlRHVyYXRpb25QYXJhbSA9PiB7XG4gICAgaWYgKCFvbkNsb3NlIHx8IGF1dG9IaWRlRHVyYXRpb25QYXJhbSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCh0aW1lckF1dG9IaWRlLmN1cnJlbnQpO1xuICAgIHRpbWVyQXV0b0hpZGUuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaGFuZGxlQ2xvc2UobnVsbCwgJ3RpbWVvdXQnKTtcbiAgICB9LCBhdXRvSGlkZUR1cmF0aW9uUGFyYW0pO1xuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAob3Blbikge1xuICAgICAgc2V0QXV0b0hpZGVUaW1lcihhdXRvSGlkZUR1cmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lckF1dG9IaWRlLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtvcGVuLCBhdXRvSGlkZUR1cmF0aW9uLCBzZXRBdXRvSGlkZVRpbWVyXSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrQXdheSA9IGV2ZW50ID0+IHtcbiAgICBvbkNsb3NlID09IG51bGwgfHwgb25DbG9zZShldmVudCwgJ2NsaWNrYXdheScpO1xuICB9O1xuXG4gIC8vIFBhdXNlIHRoZSB0aW1lciB3aGVuIHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIFNuYWNrYmFyXG4gIC8vIG9yIHdoZW4gdGhlIHVzZXIgaGlkZSB0aGUgd2luZG93LlxuICBjb25zdCBoYW5kbGVQYXVzZSA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZXJBdXRvSGlkZS5jdXJyZW50KTtcbiAgfTtcblxuICAvLyBSZXN0YXJ0IHRoZSB0aW1lciB3aGVuIHRoZSB1c2VyIGlzIG5vIGxvbmdlciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTbmFja2JhclxuICAvLyBvciB3aGVuIHRoZSB3aW5kb3cgaXMgc2hvd24gYmFjay5cbiAgY29uc3QgaGFuZGxlUmVzdW1lID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChhdXRvSGlkZUR1cmF0aW9uICE9IG51bGwpIHtcbiAgICAgIHNldEF1dG9IaWRlVGltZXIocmVzdW1lSGlkZUR1cmF0aW9uICE9IG51bGwgPyByZXN1bWVIaWRlRHVyYXRpb24gOiBhdXRvSGlkZUR1cmF0aW9uICogMC41KTtcbiAgICB9XG4gIH0sIFthdXRvSGlkZUR1cmF0aW9uLCByZXN1bWVIaWRlRHVyYXRpb24sIHNldEF1dG9IaWRlVGltZXJdKTtcbiAgY29uc3QgY3JlYXRlSGFuZGxlQmx1ciA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIGNvbnN0IG9uQmx1ckNhbGxiYWNrID0gb3RoZXJIYW5kbGVycy5vbkJsdXI7XG4gICAgb25CbHVyQ2FsbGJhY2sgPT0gbnVsbCB8fCBvbkJsdXJDYWxsYmFjayhldmVudCk7XG4gICAgaGFuZGxlUmVzdW1lKCk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUhhbmRsZUZvY3VzID0gb3RoZXJIYW5kbGVycyA9PiBldmVudCA9PiB7XG4gICAgY29uc3Qgb25Gb2N1c0NhbGxiYWNrID0gb3RoZXJIYW5kbGVycy5vbkZvY3VzO1xuICAgIG9uRm9jdXNDYWxsYmFjayA9PSBudWxsIHx8IG9uRm9jdXNDYWxsYmFjayhldmVudCk7XG4gICAgaGFuZGxlUGF1c2UoKTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlTW91c2VFbnRlciA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIGNvbnN0IG9uTW91c2VFbnRlckNhbGxiYWNrID0gb3RoZXJIYW5kbGVycy5vbk1vdXNlRW50ZXI7XG4gICAgb25Nb3VzZUVudGVyQ2FsbGJhY2sgPT0gbnVsbCB8fCBvbk1vdXNlRW50ZXJDYWxsYmFjayhldmVudCk7XG4gICAgaGFuZGxlUGF1c2UoKTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlTW91c2VMZWF2ZSA9IG90aGVySGFuZGxlcnMgPT4gZXZlbnQgPT4ge1xuICAgIGNvbnN0IG9uTW91c2VMZWF2ZUNhbGxiYWNrID0gb3RoZXJIYW5kbGVycy5vbk1vdXNlTGVhdmU7XG4gICAgb25Nb3VzZUxlYXZlQ2FsbGJhY2sgPT0gbnVsbCB8fCBvbk1vdXNlTGVhdmVDYWxsYmFjayhldmVudCk7XG4gICAgaGFuZGxlUmVzdW1lKCk7XG4gIH07XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gVE9ETzogd2luZG93IGdsb2JhbCBzaG91bGQgYmUgcmVmYWN0b3JlZCBoZXJlXG4gICAgaWYgKCFkaXNhYmxlV2luZG93Qmx1ckxpc3RlbmVyICYmIG9wZW4pIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGhhbmRsZVJlc3VtZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGhhbmRsZVBhdXNlKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIGhhbmRsZVJlc3VtZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgaGFuZGxlUGF1c2UpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2Rpc2FibGVXaW5kb3dCbHVyTGlzdGVuZXIsIGhhbmRsZVJlc3VtZSwgb3Blbl0pO1xuICBjb25zdCBnZXRSb290UHJvcHMgPSAoZXh0ZXJuYWxQcm9wcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgZXh0ZXJuYWxFdmVudEhhbmRsZXJzID0gX2V4dGVuZHMoe30sIGV4dHJhY3RFdmVudEhhbmRsZXJzKHBhcmFtZXRlcnMpLCBleHRyYWN0RXZlbnRIYW5kbGVycyhleHRlcm5hbFByb3BzKSk7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIC8vIENsaWNrQXdheUxpc3RlbmVyIGFkZHMgYW4gYG9uQ2xpY2tgIHByb3Agd2hpY2ggcmVzdWx0cyBpbiB0aGUgYWxlcnQgbm90IGJlaW5nIGFubm91bmNlZC5cbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbXVpL21hdGVyaWFsLXVpL2lzc3Vlcy8yOTA4MFxuICAgICAgcm9sZTogJ3ByZXNlbnRhdGlvbidcbiAgICB9LCBleHRlcm5hbFByb3BzLCBleHRlcm5hbEV2ZW50SGFuZGxlcnMsIHtcbiAgICAgIG9uQmx1cjogY3JlYXRlSGFuZGxlQmx1cihleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb25Gb2N1czogY3JlYXRlSGFuZGxlRm9jdXMoZXh0ZXJuYWxFdmVudEhhbmRsZXJzKSxcbiAgICAgIG9uTW91c2VFbnRlcjogY3JlYXRlTW91c2VFbnRlcihleHRlcm5hbEV2ZW50SGFuZGxlcnMpLFxuICAgICAgb25Nb3VzZUxlYXZlOiBjcmVhdGVNb3VzZUxlYXZlKGV4dGVybmFsRXZlbnRIYW5kbGVycylcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBnZXRSb290UHJvcHMsXG4gICAgb25DbGlja0F3YXk6IGhhbmRsZUNsaWNrQXdheVxuICB9O1xufSJdLCJuYW1lcyI6WyJfZXh0ZW5kcyIsIlJlYWN0IiwidW5zdGFibGVfdXNlRXZlbnRDYWxsYmFjayIsInVzZUV2ZW50Q2FsbGJhY2siLCJleHRyYWN0RXZlbnRIYW5kbGVycyIsInVzZVNuYWNrYmFyIiwicGFyYW1ldGVycyIsImF1dG9IaWRlRHVyYXRpb24iLCJkaXNhYmxlV2luZG93Qmx1ckxpc3RlbmVyIiwib25DbG9zZSIsIm9wZW4iLCJyZXN1bWVIaWRlRHVyYXRpb24iLCJ0aW1lckF1dG9IaWRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwidW5kZWZpbmVkIiwiaGFuZGxlS2V5RG93biIsIm5hdGl2ZUV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsImtleSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDbG9zZSIsImV2ZW50IiwicmVhc29uIiwic2V0QXV0b0hpZGVUaW1lciIsImF1dG9IaWRlRHVyYXRpb25QYXJhbSIsImNsZWFyVGltZW91dCIsImN1cnJlbnQiLCJzZXRUaW1lb3V0IiwiaGFuZGxlQ2xpY2tBd2F5IiwiaGFuZGxlUGF1c2UiLCJoYW5kbGVSZXN1bWUiLCJ1c2VDYWxsYmFjayIsImNyZWF0ZUhhbmRsZUJsdXIiLCJvdGhlckhhbmRsZXJzIiwib25CbHVyQ2FsbGJhY2siLCJvbkJsdXIiLCJjcmVhdGVIYW5kbGVGb2N1cyIsIm9uRm9jdXNDYWxsYmFjayIsIm9uRm9jdXMiLCJjcmVhdGVNb3VzZUVudGVyIiwib25Nb3VzZUVudGVyQ2FsbGJhY2siLCJvbk1vdXNlRW50ZXIiLCJjcmVhdGVNb3VzZUxlYXZlIiwib25Nb3VzZUxlYXZlQ2FsbGJhY2siLCJvbk1vdXNlTGVhdmUiLCJ3aW5kb3ciLCJnZXRSb290UHJvcHMiLCJleHRlcm5hbFByb3BzIiwiZXh0ZXJuYWxFdmVudEhhbmRsZXJzIiwicm9sZSIsIm9uQ2xpY2tBd2F5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3641\n")},7531:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _: () => (/* binding */ extractEventHandlers)\n/* harmony export */ });\n/**\n * Extracts event handlers from a given object.\n * A prop is considered an event handler if it is a function and its name starts with `on`.\n *\n * @param object An object to extract event handlers from.\n * @param excludeKeys An array of keys to exclude from the returned object.\n */\nfunction extractEventHandlers(object, excludeKeys = []) {\n  if (object === undefined) {\n    return {};\n  }\n  const result = {};\n  Object.keys(object).filter(prop => prop.match(/^on[A-Z]/) && typeof object[prop] === 'function' && !excludeKeys.includes(prop)).forEach(prop => {\n    result[prop] = object[prop];\n  });\n  return result;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUzMS5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLG9CQUFvQkEsQ0FBQ0MsTUFBTSxFQUFFQyxXQUFXLEdBQUcsRUFBRSxFQUFFO0VBQzdELElBQUlELE1BQU0sS0FBS0UsU0FBUyxFQUFFO0lBQ3hCLE9BQU8sQ0FBQyxDQUFDO0VBQ1g7RUFDQSxNQUFNQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0VBQ2pCQyxNQUFNLENBQUNDLElBQUksQ0FBQ0wsTUFBTSxDQUFDLENBQUNNLE1BQU0sQ0FBQ0MsSUFBSSxJQUFJQSxJQUFJLENBQUNDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxPQUFPUixNQUFNLENBQUNPLElBQUksQ0FBQyxLQUFLLFVBQVUsSUFBSSxDQUFDTixXQUFXLENBQUNRLFFBQVEsQ0FBQ0YsSUFBSSxDQUFDLENBQUMsQ0FBQ0csT0FBTyxDQUFDSCxJQUFJLElBQUk7SUFDOUlKLE1BQU0sQ0FBQ0ksSUFBSSxDQUFDLEdBQUdQLE1BQU0sQ0FBQ08sSUFBSSxDQUFDO0VBQzdCLENBQUMsQ0FBQztFQUNGLE9BQU9KLE1BQU07QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2VsZGVyLWJvb2tzLWZlLy4vbm9kZV9tb2R1bGVzL0BtdWkvYmFzZS91dGlscy9leHRyYWN0RXZlbnRIYW5kbGVycy5qcz85ODI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRXh0cmFjdHMgZXZlbnQgaGFuZGxlcnMgZnJvbSBhIGdpdmVuIG9iamVjdC5cbiAqIEEgcHJvcCBpcyBjb25zaWRlcmVkIGFuIGV2ZW50IGhhbmRsZXIgaWYgaXQgaXMgYSBmdW5jdGlvbiBhbmQgaXRzIG5hbWUgc3RhcnRzIHdpdGggYG9uYC5cbiAqXG4gKiBAcGFyYW0gb2JqZWN0IEFuIG9iamVjdCB0byBleHRyYWN0IGV2ZW50IGhhbmRsZXJzIGZyb20uXG4gKiBAcGFyYW0gZXhjbHVkZUtleXMgQW4gYXJyYXkgb2Yga2V5cyB0byBleGNsdWRlIGZyb20gdGhlIHJldHVybmVkIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RFdmVudEhhbmRsZXJzKG9iamVjdCwgZXhjbHVkZUtleXMgPSBbXSkge1xuICBpZiAob2JqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIE9iamVjdC5rZXlzKG9iamVjdCkuZmlsdGVyKHByb3AgPT4gcHJvcC5tYXRjaCgvXm9uW0EtWl0vKSAmJiB0eXBlb2Ygb2JqZWN0W3Byb3BdID09PSAnZnVuY3Rpb24nICYmICFleGNsdWRlS2V5cy5pbmNsdWRlcyhwcm9wKSkuZm9yRWFjaChwcm9wID0+IHtcbiAgICByZXN1bHRbcHJvcF0gPSBvYmplY3RbcHJvcF07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSJdLCJuYW1lcyI6WyJleHRyYWN0RXZlbnRIYW5kbGVycyIsIm9iamVjdCIsImV4Y2x1ZGVLZXlzIiwidW5kZWZpbmVkIiwicmVzdWx0IiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsInByb3AiLCJtYXRjaCIsImluY2x1ZGVzIiwiZm9yRWFjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7531\n")},355:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   X: () => (/* binding */ isHostComponent)\n/* harmony export */ });\n/**\n * Determines if a given element is a DOM element name (i.e. not a React component).\n */\nfunction isHostComponent(element) {\n  return typeof element === 'string';\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU1LmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLGVBQWVBLENBQUNDLE9BQU8sRUFBRTtFQUN2QyxPQUFPLE9BQU9BLE9BQU8sS0FBSyxRQUFRO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL3V0aWxzL2lzSG9zdENvbXBvbmVudC5qcz82ZGNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgYSBET00gZWxlbWVudCBuYW1lIChpLmUuIG5vdCBhIFJlYWN0IGNvbXBvbmVudCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0hvc3RDb21wb25lbnQoZWxlbWVudCkge1xuICByZXR1cm4gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnO1xufSJdLCJuYW1lcyI6WyJpc0hvc3RDb21wb25lbnQiLCJlbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///355\n")},5565:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   x: () => (/* binding */ resolveComponentProps)\n/* harmony export */ });\n/**\n * If `componentProps` is a function, calls it with the provided `ownerState`.\n * Otherwise, just returns `componentProps`.\n */\nfunction resolveComponentProps(componentProps, ownerState, slotState) {\n  if (typeof componentProps === 'function') {\n    return componentProps(ownerState, slotState);\n  }\n  return componentProps;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU2NS5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLHFCQUFxQkEsQ0FBQ0MsY0FBYyxFQUFFQyxVQUFVLEVBQUVDLFNBQVMsRUFBRTtFQUMzRSxJQUFJLE9BQU9GLGNBQWMsS0FBSyxVQUFVLEVBQUU7SUFDeEMsT0FBT0EsY0FBYyxDQUFDQyxVQUFVLEVBQUVDLFNBQVMsQ0FBQztFQUM5QztFQUNBLE9BQU9GLGNBQWM7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbGRlci1ib29rcy1mZS8uL25vZGVfbW9kdWxlcy9AbXVpL2Jhc2UvdXRpbHMvcmVzb2x2ZUNvbXBvbmVudFByb3BzLmpzPzY4ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJZiBgY29tcG9uZW50UHJvcHNgIGlzIGEgZnVuY3Rpb24sIGNhbGxzIGl0IHdpdGggdGhlIHByb3ZpZGVkIGBvd25lclN0YXRlYC5cbiAqIE90aGVyd2lzZSwganVzdCByZXR1cm5zIGBjb21wb25lbnRQcm9wc2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50UHJvcHMoY29tcG9uZW50UHJvcHMsIG93bmVyU3RhdGUsIHNsb3RTdGF0ZSkge1xuICBpZiAodHlwZW9mIGNvbXBvbmVudFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudFByb3BzKG93bmVyU3RhdGUsIHNsb3RTdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudFByb3BzO1xufSJdLCJuYW1lcyI6WyJyZXNvbHZlQ29tcG9uZW50UHJvcHMiLCJjb21wb25lbnRQcm9wcyIsIm93bmVyU3RhdGUiLCJzbG90U3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5565\n")},8972:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  y: () => (/* binding */ useSlotProps)\n});\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(3123);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\nvar objectWithoutPropertiesLoose = __webpack_require__(7958);\n// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/useForkRef/useForkRef.js\nvar useForkRef = __webpack_require__(1433);\n// EXTERNAL MODULE: ./node_modules/@mui/base/utils/isHostComponent.js\nvar isHostComponent = __webpack_require__(355);\n;// CONCATENATED MODULE: ./node_modules/@mui/base/utils/appendOwnerState.js\n\n\n\n/**\n * Type of the ownerState based on the type of an element it applies to.\n * This resolves to the provided OwnerState for React components and `undefined` for host components.\n * Falls back to `OwnerState | undefined` when the exact type can\'t be determined in development time.\n */\n\n/**\n * Appends the ownerState object to the props, merging with the existing one if necessary.\n *\n * @param elementType Type of the element that owns the `existingProps`. If the element is a DOM node or undefined, `ownerState` is not applied.\n * @param otherProps Props of the element.\n * @param ownerState\n */\nfunction appendOwnerState(elementType, otherProps, ownerState) {\n  if (elementType === undefined || (0,isHostComponent/* isHostComponent */.X)(elementType)) {\n    return otherProps;\n  }\n  return (0,esm_extends/* default */.Z)({}, otherProps, {\n    ownerState: (0,esm_extends/* default */.Z)({}, otherProps.ownerState, ownerState)\n  });\n}\n// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.mjs\nvar clsx = __webpack_require__(512);\n// EXTERNAL MODULE: ./node_modules/@mui/base/utils/extractEventHandlers.js\nvar extractEventHandlers = __webpack_require__(7531);\n;// CONCATENATED MODULE: ./node_modules/@mui/base/utils/omitEventHandlers.js\n/**\n * Removes event handlers from the given object.\n * A field is considered an event handler if it is a function with a name beginning with `on`.\n *\n * @param object Object to remove event handlers from.\n * @returns Object with event handlers removed.\n */\nfunction omitEventHandlers(object) {\n  if (object === undefined) {\n    return {};\n  }\n  const result = {};\n  Object.keys(object).filter(prop => !(prop.match(/^on[A-Z]/) && typeof object[prop] === \'function\')).forEach(prop => {\n    result[prop] = object[prop];\n  });\n  return result;\n}\n;// CONCATENATED MODULE: ./node_modules/@mui/base/utils/mergeSlotProps.js\n\n\n\n\n/**\n * Merges the slot component internal props (usually coming from a hook)\n * with the externally provided ones.\n *\n * The merge order is (the latter overrides the former):\n * 1. The internal props (specified as a getter function to work with get*Props hook result)\n * 2. Additional props (specified internally on a Base UI component)\n * 3. External props specified on the owner component. These should only be used on a root slot.\n * 4. External props specified in the `slotProps.*` prop.\n * 5. The `className` prop - combined from all the above.\n * @param parameters\n * @returns\n */\nfunction mergeSlotProps(parameters) {\n  const {\n    getSlotProps,\n    additionalProps,\n    externalSlotProps,\n    externalForwardedProps,\n    className\n  } = parameters;\n  if (!getSlotProps) {\n    // The simpler case - getSlotProps is not defined, so no internal event handlers are defined,\n    // so we can simply merge all the props without having to worry about extracting event handlers.\n    const joinedClasses = (0,clsx/* default */.Z)(externalForwardedProps == null ? void 0 : externalForwardedProps.className, externalSlotProps == null ? void 0 : externalSlotProps.className, className, additionalProps == null ? void 0 : additionalProps.className);\n    const mergedStyle = (0,esm_extends/* default */.Z)({}, additionalProps == null ? void 0 : additionalProps.style, externalForwardedProps == null ? void 0 : externalForwardedProps.style, externalSlotProps == null ? void 0 : externalSlotProps.style);\n    const props = (0,esm_extends/* default */.Z)({}, additionalProps, externalForwardedProps, externalSlotProps);\n    if (joinedClasses.length > 0) {\n      props.className = joinedClasses;\n    }\n    if (Object.keys(mergedStyle).length > 0) {\n      props.style = mergedStyle;\n    }\n    return {\n      props,\n      internalRef: undefined\n    };\n  }\n\n  // In this case, getSlotProps is responsible for calling the external event handlers.\n  // We don\'t need to include them in the merged props because of this.\n\n  const eventHandlers = (0,extractEventHandlers/* extractEventHandlers */._)((0,esm_extends/* default */.Z)({}, externalForwardedProps, externalSlotProps));\n  const componentsPropsWithoutEventHandlers = omitEventHandlers(externalSlotProps);\n  const otherPropsWithoutEventHandlers = omitEventHandlers(externalForwardedProps);\n  const internalSlotProps = getSlotProps(eventHandlers);\n\n  // The order of classes is important here.\n  // Emotion (that we use in libraries consuming Base UI) depends on this order\n  // to properly override style. It requires the most important classes to be last\n  // (see https://github.com/mui/material-ui/pull/33205) for the related discussion.\n  const joinedClasses = (0,clsx/* default */.Z)(internalSlotProps == null ? void 0 : internalSlotProps.className, additionalProps == null ? void 0 : additionalProps.className, className, externalForwardedProps == null ? void 0 : externalForwardedProps.className, externalSlotProps == null ? void 0 : externalSlotProps.className);\n  const mergedStyle = (0,esm_extends/* default */.Z)({}, internalSlotProps == null ? void 0 : internalSlotProps.style, additionalProps == null ? void 0 : additionalProps.style, externalForwardedProps == null ? void 0 : externalForwardedProps.style, externalSlotProps == null ? void 0 : externalSlotProps.style);\n  const props = (0,esm_extends/* default */.Z)({}, internalSlotProps, additionalProps, otherPropsWithoutEventHandlers, componentsPropsWithoutEventHandlers);\n  if (joinedClasses.length > 0) {\n    props.className = joinedClasses;\n  }\n  if (Object.keys(mergedStyle).length > 0) {\n    props.style = mergedStyle;\n  }\n  return {\n    props,\n    internalRef: internalSlotProps.ref\n  };\n}\n// EXTERNAL MODULE: ./node_modules/@mui/base/utils/resolveComponentProps.js\nvar resolveComponentProps = __webpack_require__(5565);\n;// CONCATENATED MODULE: ./node_modules/@mui/base/utils/useSlotProps.js\n\'use client\';\n\n\n\nconst _excluded = ["elementType", "externalSlotProps", "ownerState", "skipResolvingSlotProps"];\n\n\n\n\n/**\n * @ignore - do not document.\n * Builds the props to be passed into the slot of an unstyled component.\n * It merges the internal props of the component with the ones supplied by the user, allowing to customize the behavior.\n * If the slot component is not a host component, it also merges in the `ownerState`.\n *\n * @param parameters.getSlotProps - A function that returns the props to be passed to the slot component.\n */\nfunction useSlotProps(parameters) {\n  var _parameters$additiona;\n  const {\n      elementType,\n      externalSlotProps,\n      ownerState,\n      skipResolvingSlotProps = false\n    } = parameters,\n    rest = (0,objectWithoutPropertiesLoose/* default */.Z)(parameters, _excluded);\n  const resolvedComponentsProps = skipResolvingSlotProps ? {} : (0,resolveComponentProps/* resolveComponentProps */.x)(externalSlotProps, ownerState);\n  const {\n    props: mergedProps,\n    internalRef\n  } = mergeSlotProps((0,esm_extends/* default */.Z)({}, rest, {\n    externalSlotProps: resolvedComponentsProps\n  }));\n  const ref = (0,useForkRef/* default */.Z)(internalRef, resolvedComponentsProps == null ? void 0 : resolvedComponentsProps.ref, (_parameters$additiona = parameters.additionalProps) == null ? void 0 : _parameters$additiona.ref);\n  const props = appendOwnerState(elementType, (0,esm_extends/* default */.Z)({}, mergedProps, {\n    ref\n  }), ownerState);\n  return props;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RWtCLFdBQVc7SUFDbEJoQjtFQUNGLENBQUMsR0FBR1osY0FBYyxDQUFDbEIsOEJBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTRDLElBQUksRUFBRTtJQUNwQ3RCLGlCQUFpQixFQUFFdUI7RUFDckIsQ0FBQyxDQUFDLENBQUM7RUFDSCxNQUFNVixHQUFHLEdBQUdJLDZCQUFVLENBQUNULFdBQVcsRUFBRWUsdUJBQXVCLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHQSx1QkFBdUIsQ0FBQ1YsR0FBRyxFQUFFLENBQUNPLHFCQUFxQixHQUFHdkIsVUFBVSxDQUFDRSxlQUFlLEtBQUssSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHcUIscUJBQXFCLENBQUNQLEdBQUcsQ0FBQztFQUM5TSxNQUFNUCxLQUFLLEdBQUcxQixnQkFBZ0IsQ0FBQ0MsV0FBVyxFQUFFSCw4QkFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFOEMsV0FBVyxFQUFFO0lBQ3BFWDtFQUNGLENBQUMsQ0FBQyxFQUFFOUIsVUFBVSxDQUFDO0VBQ2YsT0FBT3VCLEtBQUs7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL2VsZGVyLWJvb2tzLWZlLy4vbm9kZV9tb2R1bGVzL0BtdWkvYmFzZS91dGlscy9hcHBlbmRPd25lclN0YXRlLmpzPzlhZTUiLCJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL3V0aWxzL29taXRFdmVudEhhbmRsZXJzLmpzP2ExODgiLCJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL3V0aWxzL21lcmdlU2xvdFByb3BzLmpzPzNlYWEiLCJ3ZWJwYWNrOi8vZWxkZXItYm9va3MtZmUvLi9ub2RlX21vZHVsZXMvQG11aS9iYXNlL3V0aWxzL3VzZVNsb3RQcm9wcy5qcz9jNzVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IHsgaXNIb3N0Q29tcG9uZW50IH0gZnJvbSAnLi9pc0hvc3RDb21wb25lbnQnO1xuXG4vKipcbiAqIFR5cGUgb2YgdGhlIG93bmVyU3RhdGUgYmFzZWQgb24gdGhlIHR5cGUgb2YgYW4gZWxlbWVudCBpdCBhcHBsaWVzIHRvLlxuICogVGhpcyByZXNvbHZlcyB0byB0aGUgcHJvdmlkZWQgT3duZXJTdGF0ZSBmb3IgUmVhY3QgY29tcG9uZW50cyBhbmQgYHVuZGVmaW5lZGAgZm9yIGhvc3QgY29tcG9uZW50cy5cbiAqIEZhbGxzIGJhY2sgdG8gYE93bmVyU3RhdGUgfCB1bmRlZmluZWRgIHdoZW4gdGhlIGV4YWN0IHR5cGUgY2FuJ3QgYmUgZGV0ZXJtaW5lZCBpbiBkZXZlbG9wbWVudCB0aW1lLlxuICovXG5cbi8qKlxuICogQXBwZW5kcyB0aGUgb3duZXJTdGF0ZSBvYmplY3QgdG8gdGhlIHByb3BzLCBtZXJnaW5nIHdpdGggdGhlIGV4aXN0aW5nIG9uZSBpZiBuZWNlc3NhcnkuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRUeXBlIFR5cGUgb2YgdGhlIGVsZW1lbnQgdGhhdCBvd25zIHRoZSBgZXhpc3RpbmdQcm9wc2AuIElmIHRoZSBlbGVtZW50IGlzIGEgRE9NIG5vZGUgb3IgdW5kZWZpbmVkLCBgb3duZXJTdGF0ZWAgaXMgbm90IGFwcGxpZWQuXG4gKiBAcGFyYW0gb3RoZXJQcm9wcyBQcm9wcyBvZiB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSBvd25lclN0YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRPd25lclN0YXRlKGVsZW1lbnRUeXBlLCBvdGhlclByb3BzLCBvd25lclN0YXRlKSB7XG4gIGlmIChlbGVtZW50VHlwZSA9PT0gdW5kZWZpbmVkIHx8IGlzSG9zdENvbXBvbmVudChlbGVtZW50VHlwZSkpIHtcbiAgICByZXR1cm4gb3RoZXJQcm9wcztcbiAgfVxuICByZXR1cm4gX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICBvd25lclN0YXRlOiBfZXh0ZW5kcyh7fSwgb3RoZXJQcm9wcy5vd25lclN0YXRlLCBvd25lclN0YXRlKVxuICB9KTtcbn0iLCIvKipcbiAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgZ2l2ZW4gb2JqZWN0LlxuICogQSBmaWVsZCBpcyBjb25zaWRlcmVkIGFuIGV2ZW50IGhhbmRsZXIgaWYgaXQgaXMgYSBmdW5jdGlvbiB3aXRoIGEgbmFtZSBiZWdpbm5pbmcgd2l0aCBgb25gLlxuICpcbiAqIEBwYXJhbSBvYmplY3QgT2JqZWN0IHRvIHJlbW92ZSBldmVudCBoYW5kbGVycyBmcm9tLlxuICogQHJldHVybnMgT2JqZWN0IHdpdGggZXZlbnQgaGFuZGxlcnMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9taXRFdmVudEhhbmRsZXJzKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIE9iamVjdC5rZXlzKG9iamVjdCkuZmlsdGVyKHByb3AgPT4gIShwcm9wLm1hdGNoKC9eb25bQS1aXS8pICYmIHR5cGVvZiBvYmplY3RbcHJvcF0gPT09ICdmdW5jdGlvbicpKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgIHJlc3VsdFtwcm9wXSA9IG9iamVjdFtwcm9wXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB7IGV4dHJhY3RFdmVudEhhbmRsZXJzIH0gZnJvbSAnLi9leHRyYWN0RXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgeyBvbWl0RXZlbnRIYW5kbGVycyB9IGZyb20gJy4vb21pdEV2ZW50SGFuZGxlcnMnO1xuLyoqXG4gKiBNZXJnZXMgdGhlIHNsb3QgY29tcG9uZW50IGludGVybmFsIHByb3BzICh1c3VhbGx5IGNvbWluZyBmcm9tIGEgaG9vaylcbiAqIHdpdGggdGhlIGV4dGVybmFsbHkgcHJvdmlkZWQgb25lcy5cbiAqXG4gKiBUaGUgbWVyZ2Ugb3JkZXIgaXMgKHRoZSBsYXR0ZXIgb3ZlcnJpZGVzIHRoZSBmb3JtZXIpOlxuICogMS4gVGhlIGludGVybmFsIHByb3BzIChzcGVjaWZpZWQgYXMgYSBnZXR0ZXIgZnVuY3Rpb24gdG8gd29yayB3aXRoIGdldCpQcm9wcyBob29rIHJlc3VsdClcbiAqIDIuIEFkZGl0aW9uYWwgcHJvcHMgKHNwZWNpZmllZCBpbnRlcm5hbGx5IG9uIGEgQmFzZSBVSSBjb21wb25lbnQpXG4gKiAzLiBFeHRlcm5hbCBwcm9wcyBzcGVjaWZpZWQgb24gdGhlIG93bmVyIGNvbXBvbmVudC4gVGhlc2Ugc2hvdWxkIG9ubHkgYmUgdXNlZCBvbiBhIHJvb3Qgc2xvdC5cbiAqIDQuIEV4dGVybmFsIHByb3BzIHNwZWNpZmllZCBpbiB0aGUgYHNsb3RQcm9wcy4qYCBwcm9wLlxuICogNS4gVGhlIGBjbGFzc05hbWVgIHByb3AgLSBjb21iaW5lZCBmcm9tIGFsbCB0aGUgYWJvdmUuXG4gKiBAcGFyYW0gcGFyYW1ldGVyc1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU2xvdFByb3BzKHBhcmFtZXRlcnMpIHtcbiAgY29uc3Qge1xuICAgIGdldFNsb3RQcm9wcyxcbiAgICBhZGRpdGlvbmFsUHJvcHMsXG4gICAgZXh0ZXJuYWxTbG90UHJvcHMsXG4gICAgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyxcbiAgICBjbGFzc05hbWVcbiAgfSA9IHBhcmFtZXRlcnM7XG4gIGlmICghZ2V0U2xvdFByb3BzKSB7XG4gICAgLy8gVGhlIHNpbXBsZXIgY2FzZSAtIGdldFNsb3RQcm9wcyBpcyBub3QgZGVmaW5lZCwgc28gbm8gaW50ZXJuYWwgZXZlbnQgaGFuZGxlcnMgYXJlIGRlZmluZWQsXG4gICAgLy8gc28gd2UgY2FuIHNpbXBseSBtZXJnZSBhbGwgdGhlIHByb3BzIHdpdGhvdXQgaGF2aW5nIHRvIHdvcnJ5IGFib3V0IGV4dHJhY3RpbmcgZXZlbnQgaGFuZGxlcnMuXG4gICAgY29uc3Qgam9pbmVkQ2xhc3NlcyA9IGNsc3goZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcy5jbGFzc05hbWUsIGV4dGVybmFsU2xvdFByb3BzID09IG51bGwgPyB2b2lkIDAgOiBleHRlcm5hbFNsb3RQcm9wcy5jbGFzc05hbWUsIGNsYXNzTmFtZSwgYWRkaXRpb25hbFByb3BzID09IG51bGwgPyB2b2lkIDAgOiBhZGRpdGlvbmFsUHJvcHMuY2xhc3NOYW1lKTtcbiAgICBjb25zdCBtZXJnZWRTdHlsZSA9IF9leHRlbmRzKHt9LCBhZGRpdGlvbmFsUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGFkZGl0aW9uYWxQcm9wcy5zdHlsZSwgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcy5zdHlsZSwgZXh0ZXJuYWxTbG90UHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dGVybmFsU2xvdFByb3BzLnN0eWxlKTtcbiAgICBjb25zdCBwcm9wcyA9IF9leHRlbmRzKHt9LCBhZGRpdGlvbmFsUHJvcHMsIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsIGV4dGVybmFsU2xvdFByb3BzKTtcbiAgICBpZiAoam9pbmVkQ2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICBwcm9wcy5jbGFzc05hbWUgPSBqb2luZWRDbGFzc2VzO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMobWVyZ2VkU3R5bGUpLmxlbmd0aCA+IDApIHtcbiAgICAgIHByb3BzLnN0eWxlID0gbWVyZ2VkU3R5bGU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBwcm9wcyxcbiAgICAgIGludGVybmFsUmVmOiB1bmRlZmluZWRcbiAgICB9O1xuICB9XG5cbiAgLy8gSW4gdGhpcyBjYXNlLCBnZXRTbG90UHJvcHMgaXMgcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgdGhlIGV4dGVybmFsIGV2ZW50IGhhbmRsZXJzLlxuICAvLyBXZSBkb24ndCBuZWVkIHRvIGluY2x1ZGUgdGhlbSBpbiB0aGUgbWVyZ2VkIHByb3BzIGJlY2F1c2Ugb2YgdGhpcy5cblxuICBjb25zdCBldmVudEhhbmRsZXJzID0gZXh0cmFjdEV2ZW50SGFuZGxlcnMoX2V4dGVuZHMoe30sIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMsIGV4dGVybmFsU2xvdFByb3BzKSk7XG4gIGNvbnN0IGNvbXBvbmVudHNQcm9wc1dpdGhvdXRFdmVudEhhbmRsZXJzID0gb21pdEV2ZW50SGFuZGxlcnMoZXh0ZXJuYWxTbG90UHJvcHMpO1xuICBjb25zdCBvdGhlclByb3BzV2l0aG91dEV2ZW50SGFuZGxlcnMgPSBvbWl0RXZlbnRIYW5kbGVycyhleHRlcm5hbEZvcndhcmRlZFByb3BzKTtcbiAgY29uc3QgaW50ZXJuYWxTbG90UHJvcHMgPSBnZXRTbG90UHJvcHMoZXZlbnRIYW5kbGVycyk7XG5cbiAgLy8gVGhlIG9yZGVyIG9mIGNsYXNzZXMgaXMgaW1wb3J0YW50IGhlcmUuXG4gIC8vIEVtb3Rpb24gKHRoYXQgd2UgdXNlIGluIGxpYnJhcmllcyBjb25zdW1pbmcgQmFzZSBVSSkgZGVwZW5kcyBvbiB0aGlzIG9yZGVyXG4gIC8vIHRvIHByb3Blcmx5IG92ZXJyaWRlIHN0eWxlLiBJdCByZXF1aXJlcyB0aGUgbW9zdCBpbXBvcnRhbnQgY2xhc3NlcyB0byBiZSBsYXN0XG4gIC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL211aS9tYXRlcmlhbC11aS9wdWxsLzMzMjA1KSBmb3IgdGhlIHJlbGF0ZWQgZGlzY3Vzc2lvbi5cbiAgY29uc3Qgam9pbmVkQ2xhc3NlcyA9IGNsc3goaW50ZXJuYWxTbG90UHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVybmFsU2xvdFByb3BzLmNsYXNzTmFtZSwgYWRkaXRpb25hbFByb3BzID09IG51bGwgPyB2b2lkIDAgOiBhZGRpdGlvbmFsUHJvcHMuY2xhc3NOYW1lLCBjbGFzc05hbWUsIGV4dGVybmFsRm9yd2FyZGVkUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dGVybmFsRm9yd2FyZGVkUHJvcHMuY2xhc3NOYW1lLCBleHRlcm5hbFNsb3RQcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZXh0ZXJuYWxTbG90UHJvcHMuY2xhc3NOYW1lKTtcbiAgY29uc3QgbWVyZ2VkU3R5bGUgPSBfZXh0ZW5kcyh7fSwgaW50ZXJuYWxTbG90UHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVybmFsU2xvdFByb3BzLnN0eWxlLCBhZGRpdGlvbmFsUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGFkZGl0aW9uYWxQcm9wcy5zdHlsZSwgZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZXh0ZXJuYWxGb3J3YXJkZWRQcm9wcy5zdHlsZSwgZXh0ZXJuYWxTbG90UHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dGVybmFsU2xvdFByb3BzLnN0eWxlKTtcbiAgY29uc3QgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgaW50ZXJuYWxTbG90UHJvcHMsIGFkZGl0aW9uYWxQcm9wcywgb3RoZXJQcm9wc1dpdGhvdXRFdmVudEhhbmRsZXJzLCBjb21wb25lbnRzUHJvcHNXaXRob3V0RXZlbnRIYW5kbGVycyk7XG4gIGlmIChqb2luZWRDbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICBwcm9wcy5jbGFzc05hbWUgPSBqb2luZWRDbGFzc2VzO1xuICB9XG4gIGlmIChPYmplY3Qua2V5cyhtZXJnZWRTdHlsZSkubGVuZ3RoID4gMCkge1xuICAgIHByb3BzLnN0eWxlID0gbWVyZ2VkU3R5bGU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9wcyxcbiAgICBpbnRlcm5hbFJlZjogaW50ZXJuYWxTbG90UHJvcHMucmVmXG4gIH07XG59IiwiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wiZWxlbWVudFR5cGVcIiwgXCJleHRlcm5hbFNsb3RQcm9wc1wiLCBcIm93bmVyU3RhdGVcIiwgXCJza2lwUmVzb2x2aW5nU2xvdFByb3BzXCJdO1xuaW1wb3J0IHsgdW5zdGFibGVfdXNlRm9ya1JlZiBhcyB1c2VGb3JrUmVmIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgeyBhcHBlbmRPd25lclN0YXRlIH0gZnJvbSAnLi9hcHBlbmRPd25lclN0YXRlJztcbmltcG9ydCB7IG1lcmdlU2xvdFByb3BzIH0gZnJvbSAnLi9tZXJnZVNsb3RQcm9wcyc7XG5pbXBvcnQgeyByZXNvbHZlQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3Jlc29sdmVDb21wb25lbnRQcm9wcyc7XG4vKipcbiAqIEBpZ25vcmUgLSBkbyBub3QgZG9jdW1lbnQuXG4gKiBCdWlsZHMgdGhlIHByb3BzIHRvIGJlIHBhc3NlZCBpbnRvIHRoZSBzbG90IG9mIGFuIHVuc3R5bGVkIGNvbXBvbmVudC5cbiAqIEl0IG1lcmdlcyB0aGUgaW50ZXJuYWwgcHJvcHMgb2YgdGhlIGNvbXBvbmVudCB3aXRoIHRoZSBvbmVzIHN1cHBsaWVkIGJ5IHRoZSB1c2VyLCBhbGxvd2luZyB0byBjdXN0b21pemUgdGhlIGJlaGF2aW9yLlxuICogSWYgdGhlIHNsb3QgY29tcG9uZW50IGlzIG5vdCBhIGhvc3QgY29tcG9uZW50LCBpdCBhbHNvIG1lcmdlcyBpbiB0aGUgYG93bmVyU3RhdGVgLlxuICpcbiAqIEBwYXJhbSBwYXJhbWV0ZXJzLmdldFNsb3RQcm9wcyAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBwcm9wcyB0byBiZSBwYXNzZWQgdG8gdGhlIHNsb3QgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU2xvdFByb3BzKHBhcmFtZXRlcnMpIHtcbiAgdmFyIF9wYXJhbWV0ZXJzJGFkZGl0aW9uYTtcbiAgY29uc3Qge1xuICAgICAgZWxlbWVudFR5cGUsXG4gICAgICBleHRlcm5hbFNsb3RQcm9wcyxcbiAgICAgIG93bmVyU3RhdGUsXG4gICAgICBza2lwUmVzb2x2aW5nU2xvdFByb3BzID0gZmFsc2VcbiAgICB9ID0gcGFyYW1ldGVycyxcbiAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocGFyYW1ldGVycywgX2V4Y2x1ZGVkKTtcbiAgY29uc3QgcmVzb2x2ZWRDb21wb25lbnRzUHJvcHMgPSBza2lwUmVzb2x2aW5nU2xvdFByb3BzID8ge30gOiByZXNvbHZlQ29tcG9uZW50UHJvcHMoZXh0ZXJuYWxTbG90UHJvcHMsIG93bmVyU3RhdGUpO1xuICBjb25zdCB7XG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGludGVybmFsUmVmXG4gIH0gPSBtZXJnZVNsb3RQcm9wcyhfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIGV4dGVybmFsU2xvdFByb3BzOiByZXNvbHZlZENvbXBvbmVudHNQcm9wc1xuICB9KSk7XG4gIGNvbnN0IHJlZiA9IHVzZUZvcmtSZWYoaW50ZXJuYWxSZWYsIHJlc29sdmVkQ29tcG9uZW50c1Byb3BzID09IG51bGwgPyB2b2lkIDAgOiByZXNvbHZlZENvbXBvbmVudHNQcm9wcy5yZWYsIChfcGFyYW1ldGVycyRhZGRpdGlvbmEgPSBwYXJhbWV0ZXJzLmFkZGl0aW9uYWxQcm9wcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJhbWV0ZXJzJGFkZGl0aW9uYS5yZWYpO1xuICBjb25zdCBwcm9wcyA9IGFwcGVuZE93bmVyU3RhdGUoZWxlbWVudFR5cGUsIF9leHRlbmRzKHt9LCBtZXJnZWRQcm9wcywge1xuICAgIHJlZlxuICB9KSwgb3duZXJTdGF0ZSk7XG4gIHJldHVybiBwcm9wcztcbn0iXSwibmFtZXMiOlsiX2V4dGVuZHMiLCJpc0hvc3RDb21wb25lbnQiLCJhcHBlbmRPd25lclN0YXRlIiwiZWxlbWVudFR5cGUiLCJvdGhlclByb3BzIiwib3duZXJTdGF0ZSIsInVuZGVmaW5lZCIsIm9taXRFdmVudEhhbmRsZXJzIiwib2JqZWN0IiwicmVzdWx0IiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsInByb3AiLCJtYXRjaCIsImZvckVhY2giLCJjbHN4IiwiZXh0cmFjdEV2ZW50SGFuZGxlcnMiLCJtZXJnZVNsb3RQcm9wcyIsInBhcmFtZXRlcnMiLCJnZXRTbG90UHJvcHMiLCJhZGRpdGlvbmFsUHJvcHMiLCJleHRlcm5hbFNsb3RQcm9wcyIsImV4dGVybmFsRm9yd2FyZGVkUHJvcHMiLCJjbGFzc05hbWUiLCJqb2luZWRDbGFzc2VzIiwibWVyZ2VkU3R5bGUiLCJzdHlsZSIsInByb3BzIiwibGVuZ3RoIiwiaW50ZXJuYWxSZWYiLCJldmVudEhhbmRsZXJzIiwiY29tcG9uZW50c1Byb3BzV2l0aG91dEV2ZW50SGFuZGxlcnMiLCJvdGhlclByb3BzV2l0aG91dEV2ZW50SGFuZGxlcnMiLCJpbnRlcm5hbFNsb3RQcm9wcyIsInJlZiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiX2V4Y2x1ZGVkIiwidW5zdGFibGVfdXNlRm9ya1JlZiIsInVzZUZvcmtSZWYiLCJyZXNvbHZlQ29tcG9uZW50UHJvcHMiLCJ1c2VTbG90UHJvcHMiLCJfcGFyYW1ldGVycyRhZGRpdGlvbmEiLCJza2lwUmVzb2x2aW5nU2xvdFByb3BzIiwicmVzdCIsInJlc29sdmVkQ29tcG9uZW50c1Byb3BzIiwibWVyZ2VkUHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8972\n')}}]);